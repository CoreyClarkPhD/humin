var com={jahova:{}};
com.jahova.os=function(){function m(){return{os:null,kernel:null,command:null,resschmgr:null,instruction:null,cores:null,network:null,threads:null,html:null,windows:null,input:null,datbase:null,audio:null,graphics:null,utilities:null,console:null,debugbar:null,timer:null,queryString:null,splash:null,GetName:function(){return"JaHOVA OS"},GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/OS/jahova.os.js"},GetDomain:function(){return"http://demo.jahovaos.com/JaHOVA/0v5_0/"},Load:function(b){this.splash=
document.createElement("video");this.splash.canPlayType('video/webm')?this.splash.src="images/splash.webm":this.splash.src="images/splash.m4v";this.splash.setAttribute("preload","auto");this.splash.setAttribute("autoplay","autoplay");this.splash.style.width="100%";this.splash.style.height="100%";this.os=com.jahova.os.Instance();this.utilities=com.jahova.utilities.Instance();this.kernel=this.os.Kernel.Instance();this.kernel.Initialize();this.console=this.utilities.Console.Instance();this.console.Initialize();
this.debugbar=this.utilities.DebugBar.Instance();this.debugbar.Initialize();this.resschmgr=this.kernel.ResSchMgr.Instance();this.resschmgr.Initialize();this.timer=this.utilities.Timer.Instance();this.timer.Initialize();this.instruction=this.kernel.Instruction.Instance();this.instruction.Initialize();this.command=this.kernel.Command.Instance();this.command.Initialize();this.cores=this.os.Cores.Instance();this.cores.Initialize();this.network=this.cores.Network.Instance();this.network.Initialize();this.threads=
this.cores.Threads.Instance();this.threads.Initialize();this.html=this.cores.HTML.Instance();this.html.Initialize();this.windows=this.cores.Windows.Instance();this.windows.Initialize();this.input=this.cores.Input.Instance();this.input.Initialize();this.database=this.cores.Database.Instance();this.database.Initialize();this.audio=this.cores.Audio.Instance();this.audio.Initialize();this.graphics=this.cores.Graphics.Instance();this.graphics.Initialize();this.console.AppendComment("\n**************************\n\nOS LOADING COMPLETE\n\n**************************\n\n");
this.console.AppendComment("Loaded Modules");this.console.AppendComment("    "+this.os.GetName());this.console.AppendComment("        "+this.kernel.GetName());this.console.AppendComment("            "+this.command.GetName());this.console.AppendComment("            "+this.resschmgr.GetName());this.console.AppendComment("            "+this.instruction.GetName());this.console.AppendComment("        "+this.cores.GetName());this.console.AppendComment("            "+this.network.GetName());this.console.AppendComment("            "+
this.threads.GetName());this.console.AppendComment("            "+this.html.GetName());this.console.AppendComment("            "+this.windows.GetName());this.console.AppendComment("            "+this.input.GetName());this.console.AppendComment("            "+this.database.GetName());this.console.AppendComment("            "+this.audio.GetName());this.console.AppendComment("            "+this.graphics.GetName());this.console.AppendComment("    "+this.utilities.GetName());this.console.AppendComment("        "+
this.console.GetName());this.console.AppendComment("        "+this.timer.GetName());this.console.AppendComment("        "+this.debugbar.GetName());this.console.AppendComment("");this.console.AppendComment("\n\nLoading Terminal Commands, type help to see a list of available commands\n");this.console.LoadCommands();this.console.AppendComment("\nInitializing Query Variables\n");g.os.queryString=g.os.resschmgr.Create.Map();g.os.GetQueryString();this.console.Comment("");g.os.ExecuteQuery()},GetQueryString:function(){var b=
/[?&]([^=]+)(?:=([^&]*))?/g,a;for(a=b.exec(location.search);a;)g.os.queryString.put(a[1].toUpperCase(),unescape(a[2])),a=b.exec(location.search);for(b=0;b<g.os.queryString.size;b++)g.os.console.AppendComment("Key: "+g.os.queryString.key()+", Value: "+g.os.queryString.value()),g.os.queryString.next();g.os.console.Comment("")},ExecuteQuery:function(){var b=g.os.queryString.get("CONSOLE"),a=g.os.queryString.get("APP");b?(console.cmdWindow.value+=b,console.ProcessInputString()):a?((PlaySplash=function(){splash=
os.windows.WindowsManager.Create.Window("","PC");splash.Hide.menubar();splash.Hide.statusbar();splash.Hide.titlebar();splash.Hide.toolbar();splash.Set.width(480);splash.Set.height(270);splash.elements.content.AppendChild(os.splash);splash.elements.content.html().style.overflow="hidden";splash.Set.position(window.innerHeight/2-135,window.innerWidth/2-240);splash.Display.window();setTimeout(splash.Hide.window,4E3)})(),window[a]()):((PlaySplash=function(){splash=g.os.windows.WindowsManager.Create.Window("",
"PC");splash.Hide.menubar();splash.Hide.statusbar();splash.Hide.titlebar();splash.Hide.toolbar();splash.Set.width(480);splash.Set.height(270);splash.elements.content.AppendChild(g.os.splash);splash.elements.content.html().style.overflow="hidden";splash.Set.position(window.innerHeight/2-135,window.innerWidth/2-240);splash.Display.window();setTimeout(splash.Hide.window,4E3)})(),Application())},Kernel:null,Cores:null,Elements:{JaHOVA:null,Console:null,OS:null,Documentation:null,Demos:null,Application:null,
IDE:null}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.utilities=function(){function m(){Function.prototype.inherits=function(b){b.constructor==Function?(this.prototype=new b,this.prototype.constructor=this,this.prototype.parent=b.prototype):(this.prototype=b,this.prototype.constructor=this,this.prototype.parent=b);return this};Function.prototype.bind=function(b){var a=this;return function(){return a.apply(b,arguments)}};return{GetName:function(){return"JaHOVA Utilities"},GetVersion:function(){return"0v3"},GetPath:function(){return"scripts/jahova/Utilities/jahova.utilities.js"},
Console:null}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.utilities.Instance().Console=function(){function m(){var b=!0,a=com.jahova.os.Instance(),e=this;return{cmdWindow:null,length:0,Pinned:!1,ConsoleHover:!1,APIPinned:!1,APIHover:!1,Commands:null,GetName:function(){return"JaHOVA Utilities : Console Module"},GetVersion:function(){return"0v4"},GetPath:function(){return"scripts/jahova/Utilities/Console/jahova.utilities.console.js"},GetStatus:function(){return b},GetPrompt:function(){return"~JaHOVA OS >>"},Enable:function(){b=!0;e.cmdWindow.onkeydown=
e.EvaluateInput},Disable:function(){b=!1;e.cmdWindow.onkeydown=null},Initialize:function(){e=this;a.Elements.ConsoleTabText&&(a.Elements.ConsoleTabText.onclick=e.PinHover,a.Elements.ConsoleTabPageHeaderPin.onclick=e.Pin);e.cmdWindow=document.createElement("textarea");e.cmdWindow.id="com.jahova.console.textarea";e.cmdWindow.className="console";e.cmdWindow.onkeydown=e.EvaluateInput;e.cmdWindow.value="~JaHOVA OS >>"},LoadCommands:function(){this.Commands=a.resschmgr.Create.Map();var c;this.AddCommand("clear",
function(){this.cmdWindow.value=""},this,"Clears command window\nExample >> clear");this.AddCommand("help",this.DisplayCommands,this,"Displays a list of all loaded commands\nExample >> help");this.AddCommand("pin",this.Pin,this,"Pins the console and prevents from sliding back\nExample >> pin");this.AddCommand("threads",this.ThreadDemo,this,"Load Multi-threaded Physics Demo\nExample >>threads");this.AddCommand("threads2",this.ThreadDemo2,this,"Load Isometric Mutlithreaded Physics Demo\nExample >>threads2");
c="Create a socket and connect to test server, Allows the use of SocketSend and SocketClose Commands\nExample >>SocketOpen";this.AddCommand("SocketOpen",this.SocketCreate,this,c);c="Sends message to server via connected socket, Message will be broadcast to all connected users and display in console";c+="\nExample >> SocketSend your message here";this.AddCommand("SocketSend",this.SocketSend,this,c);this.AddCommand("SocketClose",this.SocketClose,this,"Closes connected socket\nExample >> SocketClose");
this.AddCommand("CreateWindow",this.CreateWindow,this,"Create a Window\nExample >>CreateWindow [ID Name Width Height Top Left]");this.AddCommand("StartTimer",this.StartTimer,this,"Start Timer\nExample >>StartTimer");this.AddCommand("StopTimer",this.StopTimer,this,"Stop Timer\nExample >>StopTimer");this.AddCommand("LapTimer",this.LapTimer,this,"Lap Timer\nExample >>LapTimer lapName");this.AddCommand("GetLap",this.GetLap,this,"Get Time for specific Lap\nExample >>GetLap lapName");this.AddCommand("RemoveLap",
this.RemoveLap,this,"Remove Lap From Timer Log\nExample >>RemoveLap lapName");this.AddCommand("ListLaps",this.ListLaps,this,"List All Laps in Log\nExample >>ListLaps");this.AddCommand("GetElapsedTime",this.GetElapsedTime,this,"Get Total Elapsed Time\nExample >>ElapsedTime");this.AddCommand("ResetTimer",this.ResetTimer,this,"Clear Timer Log and Reset\nExample >>ResetTimer");this.AddCommand("CreateController",this.CreateThreadController,this,"Create Thread API Thread Controller\nExample >>CreateController");
this.AddCommand("CreateThread",this.CreateThread,this,"Create Thread\nExample >>CreateController name type priority suspend callback input pool maxThreadCount");this.AddCommand("ExecuteThread",this.ExecuteThread,this,"Execute Thread\nExample >>ExecuteThread");this.AddCommand("SuspendThread",this.SuspendThread,this,"Suspend Thread\nExample >>SuspendThread");this.AddCommand("ResumeThread",this.ResumeThread,this,"Resume Thread\nExample >>ResumeThread");this.AddCommand("GetSuspendCount",this.GetSuspendCount,
this,"Get Thread Suspend Count\nExample >>GetSuspendCount");this.AddCommand("GetThreadFunction",this.GetThreadFunction,this,"Get Thread Function\nExample >>GetThreadFunction");this.AddCommand("AddThreadTask",this.AddThreadTask,this,"Add Thread Task, will be queue if busy\nExample >>AddThreadTask");this.AddCommand("GetThreadCurrentTask",this.GetThreadCurrentTask,this,"Get Current Task of Thread\nExample >>GetThreadCurrentTask");this.AddCommand("GetThreadPendingTask",this.GetThreadPendingTask,this,
"Get All Pending Task For Thread\nExample >>GetThreadPendingTask");this.AddCommand("GetThreadStatus",this.GetThreadStatus,this,"Get Thread Status\nExample >>GetThreadStatus");this.AddCommand("GetThreadPriority",this.GetThreadPriority,this,"Get Thread Priority\nExample >>GetThreadPriority");this.AddCommand("SetThreadPriority",this.SetThreadPriority,this,"Set Thread Priority\nExample >>SetThreadPriority");this.AddCommand("GetThreadFilename",this.GetThreadFilename,this,"Get Thread Filename\nExample >>GetThreadFilename");
this.AddCommand("CreateThreadSocket",this.CreateThreadSocket,this,"Create WebSocket in Thread Controller\nExample >>CreateThreadSocket");this.AddCommand("CloseThreadSocket",this.CloseThreadSocket,this,"Close WebSocket in Thread Controller\nExample >>CloseThreadSocket");this.AddCommand("UE",this.UE,this,"Load Unearthed Web Client\nExample >>UE");this.AddCommand("GetFile",this.GetFile,this,"Get A File From WebDAV Server and Display\nExample >>GetFile filename");this.AddCommand("GetFolder",this.GetFolder,
this,"Get A Folder From WebDAV Server and Display\nExample >>GetFolder foldername/");this.AddCommand("SaveFile",this.SaveFile,this,"Save contents of file to WebDAV Server\nExample >>SaveFile filename ");this.AddCommand("DeleteFile",this.DeleteFile,this,"Delete file from WebDAV Server\nExample >>DeleteFile filename ");this.AddCommand("GetQueryString",this.GetQueryString,this,"Grabs Query String and Display Key/Value Pairs\nExample >>GetQueryString ");this.AddCommand("Graph",this.Graph,this,"Plot Distribution from File\nExample >>Graph filename ");
this.AddCommand("PHPEcho",this.PHPEcho,this,"PHP Echo Test via AJAX\nExample >>PHPEcho value [values...] ");this.AddCommand("DBOpen",this.DBOpen,this,"Open MySQL DB via AJAX/PHP\nExample >>DBOpen url username password databaseName ");this.AddCommand("DBEnableSecureAccess",this.DBEnableSecureAccess,this,"Creates a Pop Up Window to Install the Sercuirty Certificate\nCalls Server To Enable Cross Orgin Communication\nAllows HTTP to Communicated with HTTPS\nExample >>DBEnableSecureAccess ");this.AddCommand("DBOpenSecure",
this.DBOpenSecure,this,"Open MySQL DB via AJAX/PHP Secure HTTPS Connection\nExample >>DBOpenSecure url username password databaseName ");this.AddCommand("DBSelectAll",this.DBSelectAll,this,"Selects All from test MySQL Database\nExample >>DBSelectAll  ");this.AddCommand("DBInsert",this.DBInsert,this,"Inserts a record into MySQL Database\nExample >>DBInsert  ");this.AddCommand("Desktop",this.Desktop,this,"Installs the Desktop Enviroment\nExample >>Desktop  ");this.AddCommand("CreateErrorWindow",this.CreateErrorWindow,
this,"Displays Sample Error Window\nExample >>CreateErrorWindow  ");this.AddCommand("WebGL",this.WebGL,this,"Runs WebGL Demo\nExample >>WebGL  ");this.AddCommand("JOSS",this.JOSS,this,"Runs JaHOVA OS Server Demo\nExample >>JOSS  ");this.AddCommand("CubeMap",this.CubeMap,this,"Runs WebGL CubeMap Demo\nExample >>CubeMap  ");this.AddCommand("DynamicShadow",this.DynamicShadow,this,"Runs WebGL Dynamic Shadow Demo\nExample >>DynamicShadow  ");this.AddCommand("Fog",this.Fog,this,"Runs WebGL Fog Demo\nExample >>Fog  ");
this.AddCommand("AudioAdd",this.AudioAdd,this,"Add Audio\nExample >>AudioAdd  ");this.AddCommand("AudioPlay",this.AudioPlay,this,"Play Audio\nExample >>AudioPlay  ");this.AddCommand("AudioPause",this.AudioPause,this,"Pause Audio\nExample >>AudioPause  ")},CreateThreadController:function(){a.threads.ThreadManager.CreateThreadController();a.console.AppendComment("Creating Thread Controller")},CreateThread:function(c){c.split(" ");c=a.threads.ThreadManager.GetFunctionBody(function(a){return"Sum: "+(a.a+
a.b)}.toString());(c=a.threads.ThreadManager.CreateThread("Test Thread","DYNAMIC",0,"true",function(c){a.console.AppendComment("Message Type: "+c.msgType+"\nMessage Data: "+c.data)},c,"0","false",0))?(a.console.AppendComment("Thread Created: "),a.console.AppendComment("     Thread Name:     "+c.name),a.console.AppendComment("     Thread ID:       "+c.ID),a.console.AppendComment("     Thread Type:     "+c.type),a.console.AppendComment("     Thread Priority: "+c.priority),a.console.AppendComment("     Thread Function: \n          var sum = input.a + input.b; \n          return sum\n\n")):
a.console.AppendComment("Returned null, Thread name already exist in map")},ExecuteThread:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Executing Thread: Summing 2 and 3");c.Execute({a:2,b:3})},SuspendThread:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Suspending Thread");c.Suspend()},ResumeThread:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Resuming Thread");
c.Resume()},GetSuspendCount:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Getting Resume Count For Thread");c.GetSuspendCount()},AddThreadTask:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Executing Thread: Summing 5 and 6");c.AddTask({a:5,b:6})},GetThreadCurrentTask:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Requesting Current Task");c.GetCurrentTask()},
GetThreadPendingTask:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Requesting List Of All Pending Task");c.GetPendingTask()},GetThreadStatus:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Getting Thread Status");c.GetStatus()},GetThreadFunction:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Getting Thread Function");c.GetFunction()},SetThreadPriority:function(c){c=
a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Setting Thread Priority");c.SetPriority(1)},GetThreadPriority:function(c){c=a.thread.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Getting Thread Priority");c.GetPriority()},GetThreadFilename:function(c){c=a.threads.ThreadManager.GetThreadByName("Test Thread");a.console.AppendComment("Getting Thread Filename");c.GetFilename()},CreateThreadSocket:function(c){a.console.AppendComment("Requesting Socket Creation in Thread Controller");
a.thread.ThreadManager.CreateSocket()},CloseThreadSocket:function(c){a.console.AppendComment("Requesting Close Socket in Thread Controller");a.thread.ThreadManager.CloseSocket()},StartTimer:function(){a.console.AppendComment("Start Time: "+a.timer.Start())},StopTimer:function(){a.console.AppendComment("Stop Time: "+a.timer.Stop())},LapTimer:function(c){a.console.AppendComment("Lap Time: "+a.timer.Lap(c))},GetLap:function(c){a.console.AppendComment(c+" Time: "+a.timer.GetLap(c).time)},RemoveLap:function(c){a.console.AppendComment("Removing Lap: "+
c)},ListLaps:function(){var c=a.timer.log,b=a.timer.log.length;if(0<b)for(var e=0;e<b;e++)a.console.AppendComment(c[e].name+": "+c[e].time)},GetElapsedTime:function(){a.console.AppendComment("Elapsed Time: "+a.timer.GetElapsedTime())},ResetTimer:function(){a.timer.Reset();a.console.AppendComment("Timer Reset")},ThreadDemo:function(){a.console.Comment("\nCalling Demo Initialization");demo.Initialize()},ThreadDemo2:function(){a.console.Comment("\nCalling Demo Initialization");demoII.Initialize()},CreateWindow:function(c){a.windows.Desktop.Load();
macWin=a.windows.Create.Window();macWin.Display.window();macWin.Set.title("Mac Window");macWin.Set.onFocus(function(){macWin.Set.statusbarText("Got Focus")},window);macWin.Set.onBlur(function(){macWin.Set.statusbarText("Got Blur")});pcWin=a.windows.WindowsManager.Create.Window("PC Window","PC");pcWin.Set.position(300,300);pcWin.Set.statusbarText("Status Message");pcWin.Display.window();c=a.windows.Desktop.Create.Application();c.Set.DisplayText("Create PC");c.onClickScope=window;c.onClick=function(){a.windows.WindowsManager.Create.Window("PC Window",
"PC").Display.window()};a.windows.Desktop.AddApplication(c);c=a.windows.Desktop.Create.Application();c.Set.DisplayText("Create Mac");c.onClickScope=window;c.onClick=function(){a.windows.WindowsManager.Create.Window("Mac Window","Mac").Display.window()};a.windows.Desktop.AddApplication(c)},CreateErrorWindow:function(c){a.windows.Create.ErrorWindow("Tetst Error","Test Message")},socketID:null,SocketCreate:function(){var c=a.network.SocketManager.CreateSocket("demo.jahovaos.com","8080"," ");socketID=
c.GetID();a.console.AppendComment("Socket Created, ID: "+socketID);var b=a.resschmgr.Create.Window("socketDemo","JaHOVA OS Web Socket Demo",500,400,200,200);a.resschmgr.WindowManager.Windows.value().Elements.Window.style.overflow="auto";b.onclose=a.console.SocketClose;b.onclosescope=a.console;c.onmessage=a.console.SocketOnMessage;c.onmessagescope=a.console;c.onclose=function(){a.console.AppendComment("Socket Closed")};c.onclosescope=a.console;c.onopen=function(){a.resschmgr.WindowManager.Windows.value().Elements.Body.innerHTML+=
"<br/>Local: Socket Open"};c.onopenscope=a.console;a.console.AppendComment("Callbacks Set");c.Open()},SocketOnMessage:function(a){e.AppendComment(a)},SocketSend:function(c){a.console.AppendComment("\nSending... ");a.network.SocketManager.Sockets.get(socketID).Send(c);document.createElement("div").innerHTML="<br/>Local: "+c;a.resschmgr.WindowManager.Windows.value().Elements.Body.innerHTML+="<br/>Local: "+c},SocketClose:function(){0<a.network.SocketManager.Sockets.size&&(a.console.AppendComment("\nClosing Socket"),
a.network.SocketManager.Sockets.value().Close(),a.network.SocketManager.Sockets.remove(socketID),a.resschmgr.WindowManager.Windows.value().Elements.Body.innerHTML+="<br/>Local: Socket Closed")},Pin:function(){a.console.Pinned?(a.Elements.ConsoleTabPage.className="debugPage",a.Elements.ConsoleTabPage.style.width="",a.Elements.ConsoleTabPageHeaderPin.className="pin",e.cmdWindow.className="console",a.console.Pinned=!1):(a.Elements.ConsoleTabPage.className="debugPagePin",a.Elements.ConsoleTabPage.style.width=
"700px",a.Elements.ConsoleTabPageHeaderPin.className="pinPin",e.cmdWindow.className="consolePin",a.console.Pinned=!0)},PinHover:function(){},PinAPIDoc:function(){a.console.APIPinned?(a.Elements.DocumentationTabPage.className="debugPage",a.Elements.DocumentationTabPage.style.width="",a.Elements.DocumentationTabPageHeaderPin.className="pin",a.Elements.DocumentationIFrame.className="jahovaIFrame",a.console.APIPinned=!1):(a.Elements.DocumentationTabPage.className="debugPagePin",a.Elements.DocumentationTabPage.style.width=
"700px",a.Elements.DocumentationTabPageHeaderPin.className="pinPin",a.Elements.DocumentationIFrame.className="jahovaIFramePin",a.console.APIPinned=!0)},PinAPIDocHover:function(){if(document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("mouseover",!0,!1);elem.dispatchEvent(a)}else document.createEventObject&&elem.fireEvent("onmouseover")},MakeActive:function(c){e.MakeAllInactive();0<=c.currentTarget.id.indexOf("console")?(a.Elements.OutputConsoleDiv.className="outputDivCurrent outputContentBkgColor",
a.Elements.ConsoleH3.className="outputH3 jahova_borRadB2 outputTabColorSelected textColorBlack",e.cmdWindow.scrollTop=e.cmdWindow.scrollHeight):(a.Elements.OutputErrorDiv.className="outputDivCurrent outputContentBkgColor",a.Elements.ErrorH3.className="outputH3 jahova_borRadB2 outputTabColorSelected textColorBlack")},MakeConsoleActive:function(){e.MakeAllInactive();a.Elements.OutputConsoleDiv.className="outputDivCurrent outputContentBkgColor";a.Elements.ConsoleH3.className="outputH3 jahova_borRadB2 outputTabColorSelected textColorBlack"},
MakeAllInactive:function(){a.Elements.OutputConsoleDiv.className="outputDiv ";a.Elements.OutputConsole.className="outputSection";a.Elements.ConsoleH3.className="outputH3 jahova_borRadB2  textColorWhite";a.Elements.OutputErrorDiv.className="outputDiv";a.Elements.OutputError.className="outputSection";a.Elements.ErrorH3.className="outputH3 jahova_borRadB2 textColorWhite"},MakeFileActive:function(c){e.MakeAllFilesInactive();-1<c.currentTarget.id.indexOf("file1")?(a.Elements.DocSection1.className="docSection jahova_borRadT2 tabColorSelected",
a.Elements.DocH31.className="docH3 jahova_borRadT2",a.Elements.DocDiv.className="docDivCurrent jahova_borRadB2 viewContentBkgColor",a.console.file1.value="CreateThread = "+a.thread.ThreadManager.CreateThread.toString()):(a.Elements.DocSection2.className="docSection jahova_borRadT2 tabColorSelected",a.Elements.DocH32.className="docH3 jahova_borRadT2",a.Elements.DocDivCurrent.className="docDivCurrent jahova_borRadB2 viewContentBkgColor")},MakeAllFilesInactive:function(){a.Elements.DocSection1.className=
"docSection jahova_borRadT2";a.Elements.DocH31.className="docH3 jahova_borRadT2 textColorWhite";a.Elements.DocDiv.className="docDiv viewContentBkgColor";a.Elements.DocSection2.className="docSection jahova_borRadT2";a.Elements.DocH32.className="docH3 jahova_borRadT2 textColorWhite";a.Elements.DocDivCurrent.className="docDiv viewContentBkgColor"},SEHide:function(){a.Elements.FolderView.className="folderView jahova_borRadT2";a.Elements.DocView.className="docViewNFV jahova_borRadB2 appBaseColor";a.Elements.OutputView.className=
"outputViewNFV jahova_borRadB2 appBaseColor"},SEShow:function(){a.Elements.FolderView.className="folderViewDisplayed jahova_borRadT2";a.Elements.DocView.className="docView jahova_borRadB2 appBaseColor";a.Elements.OutputView.className="outputView jahova_borRadB2 appBaseColor"},UE:function(){window.open("http://demo.jahovaos.com/Unearthed/webClient.html")},GetFile:function(c){c.split(" ");var b=a.resschmgr.Create.XHRObject();c="http://demo.jahovaos.com/"+c;a.console.AppendComment("Requesting:\n"+c);
b.open("GET",c,!0);b.onreadystatechange=function(){4==b.readyState&&(a.console.file1.value=b.responseText)};b.send()},GetFolder:function(c){c.split(" ");var b=a.resschmgr.Create.XHRObject(),e="",p=0;"GETFOLDER"==c.toUpperCase()?e="http://demo.jahovaos.com/":(e="http://demo.jahovaos.com/"+c,p=c.length);a.console.AppendComment("Requesting:\n"+e);b.open("PROPFIND",e,!0);b.setRequestHeader("Depth","1");b.onreadystatechange=function(){if(4==b.readyState){var c=b.responseXML,e="",v="",s=c.getElementsByTagName("href");
0==s.length&&(s=c.getElementsByTagName("D:href"));for(c=0;c<s.length;c++)v=s[c].textContent,v=v.substring(p+1),e="/"==v[v.length-1]?e+("\nFolder: "+v.substring(0,v.length-1)):e+("\nFile:   "+v);a.console.file1.value=e}};b.send()},SaveFile:function(c){var b=c.split(" "),e=a.resschmgr.Create.XHRObject();c=a.console.file1.value;b=b[0];a.console.AppendComment("Requesting to Save File:\nhttp://demo.jahovaos.com/"+b);e.open("PUT","http://demo.jahovaos.com/"+b,!0);e.onreadystatechange=function(){4==e.readyState&&
(a.console.file1.value=e.responseText)};e.send(c)},DeleteFile:function(c){c=c.split(" ");var b=a.resschmgr.Create.XHRObject();c=c[0];a.console.AppendComment("Requesting to Delete File:\nhttp://demo.jahovaos.com/"+c);b.open("DELETE","http://demo.jahovaos.com/"+c,!0);b.onreadystatechange=function(){4==b.readyState&&(a.console.file1.value=b.responseText)};b.send()},PHPEcho:function(c){var b=a.resschmgr.Create.XHRObject(),e="";c=c.split(" ");c=JSON.stringify(c);e="JSON="+encodeURIComponent(c);b.open("POST",
"http://demo.jahovaos.com/MySQL/echo.php",!0);b.setRequestHeader("Content-type","application/x-www-form-urlencoded");b.onreadystatechange=function(){4==b.readyState&&(200==b.status?a.console.Comment("PHP Response: "+b.responseText):a.console.Comment("PHP ERROR: "+b.responseText))};b.send(e)},DBOpen:function(c){var b=a.resschmgr.Create.XHRObject(),e="";c=c.split(" ");values={};values.url=c[0];values.un=c[1];values.pw=c[2];values.db=c[3];c=JSON.stringify(values);e="JSON="+encodeURIComponent(c);b.open("POST",
"http://demo.jahovaos.com/MySQL/DBOpen.php",!0);b.setRequestHeader("Content-type","application/x-www-form-urlencoded");b.onreadystatechange=function(){4==b.readyState&&(200==b.status?a.console.Comment("PHP Response: "+b.responseText):a.console.Comment("PHP ERROR: "+b.responseText))};b.send(e)},DBOpenSecure:function(b){var f=a.resschmgr.Create.XHRObject(),e="";b=b.split(" ");values={};values.url=b[0];values.un=b[1];values.pw=b[2];values.db=b[3];b=JSON.stringify(values);e="JSON="+encodeURIComponent(b);
f.open("POST","https://demo.jahovaos.com/MySQL/DBOpen.php",!0);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onreadystatechange=function(){4==f.readyState&&(200==f.status?a.console.Comment("PHP Response: "+f.responseText):(a.console.Error("Could not create secure connection"),a.console.AppendComment("Your browser does not have the JaHOVA OS Certficate Installed\n"),a.console.AppendComment("The pop up window will allow you to install the certificate"),a.console.AppendComment("Or you may go to https://demo.jahovaos.com/MySQL/InstallSSL.html, to install it manually"),
a.console.AppendComment("\nOnce installed, try your request again"),a.console.Comment(),a.console.DBEnableSecureAccess()))};f.send(e)},DBEnableSecureAccess:function(a){window.open("https://demo.jahovaos.com/MySQL/InstallSSL.html","Enable Secure Access","scrollbars=1,menubar=1,resizable=1,width=320,height=480")},DBSelectAll:function(b){var f=a.resschmgr.Create.XHRObject();b="";b=JSON.stringify({url:"demo.jahovaos.com",un:"student",pw:"devry",db:"servers",queryType:"SELECT",query:"SELECT * FROM available"});
b="JSON="+encodeURIComponent(b);f.open("POST","https://demo.jahovaos.com/MySQL/MySQL.php",!0);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onreadystatechange=function(){4==f.readyState&&(200==f.status?a.console.Comment("PHP Response: "+f.responseText):(a.console.Error("Could not create secure connection"),a.console.AppendComment("Your browser does not have the JaHOVA OS Certficate Installed\n"),a.console.AppendComment("The pop up window will allow you to install the certificate"),
a.console.AppendComment("Or you may go to https://demo.jahovaos.com/MySQL/InstallSSL.html, to install it manually"),a.console.AppendComment("\nOnce installed, try your request again"),a.console.Comment(),a.console.DBEnableSecureAccess()))};f.send(b)},DBInsert:function(b){var f=a.resschmgr.Create.XHRObject();b="";b=JSON.stringify({url:"demo.jahovaos.com",un:"student",pw:"devry",db:"servers",queryType:"INSERT",query:"INSERT INTO available(IP, lifetime, utimestamp) VALUES('70.234.209.144', '0', '1285823299')"});
b="JSON="+encodeURIComponent(b);f.open("POST","https://demo.jahovaos.com/MySQL/MySQL.php",!0);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onreadystatechange=function(){4==f.readyState&&(200==f.status?a.console.Comment("PHP Response: "+f.responseText):(a.console.Error("Could not create secure connection"),a.console.AppendComment("Your browser does not have the JaHOVA OS Certficate Installed\n"),a.console.AppendComment("The pop up window will allow you to install the certificate"),
a.console.AppendComment("Or you may go to https://demo.jahovaos.com/MySQL/InstallSSL.html, to install it manually"),a.console.AppendComment("\nOnce installed, try your request again"),a.console.Comment(),a.console.DBEnableSecureAccess()))};f.send(b)},Desktop:function(b){a.windows.Desktop.Load();b=a.windows.Desktop.Create.Application();b.Set.DisplayText("Daily Receipts");b.onClickScope=window;b.onClick=function(){a.windows.WindowsManager.Create.Window("Daily Receipts","PC").Display.window()};a.windows.Desktop.AddApplication(b);
b=a.windows.Desktop.Create.Application();b.Set.DisplayText("Pending Receipts");b.onClickScope=window;b.onClick=function(){a.windows.WindowsManager.Create.Window("Pending Receipts","Mac").Display.window()};a.windows.Desktop.AddApplication(b);b=a.windows.Desktop.Create.Application();b.Set.DisplayText("Report Generator");b.onClickScope=window;b.onClick=function(){a.windows.WindowsManager.Create.Window("Report Generator","Mac").Display.window()};a.windows.Desktop.AddApplication(b)},GetQueryString:function(){var b=
/[?&]([^=]+)(?:=([^&]*))?/g,f;for(f=b.exec(location.search);f;)a.queryString.put(f[1],f[2]),f=b.exec(location.search);for(b=0;b<a.queryString.size;b++)a.console.AppendComment("Key: "+a.queryString.key()+", Value: "+a.queryString.value()),a.queryString.next()},Graph:function(b){b.split(" ");var f=a.resschmgr.Create.XHRObject();b="http://demo.jahovaos.com/"+b;a.console.AppendComment("Requesting:\n"+b);f.open("GET",b,!1);f.send();var f=f.responseText,e;e=a.resschmgr.Create.Window("chart","Distribution Plot",
900,600,100,100);e.Elements.Window.style.backgroundImage="url()";b=document.createElement("canvas");b.id="My Test Chart";b.width="900";b.height="580";b.getContext("2d");e.Elements.Body.appendChild(b);var p=new function(b){this.Canvas={object:"",context:"",width:"",height:""};this.Properties={XAxis:{x:0,y:0,min:0,max:0,divisions:0,label:"",labelOffset:0},YAxis:{x:0,y:0,min:0,max:0,divixions:0,label:"",labelOffset:0},Type:"",Title:"",LegendVisible:!0,TitleVisible:!0,XAxisLabelVisible:!0,YAxisLabelVisible:!0,
DataPointWidth:0,NumOfSeries:0};this.PlotArea={x:0,y:0,x1:0,y1:0,width:0,height:0,pad:0};this.Legend={x:0,y:0,width:0,height:0,tabs:[],CTab:function(){this.id=this.height=this.width=this.y=this.x=0;this.color=[];this.label="";this.Init=void 0}};this.Data={file:"",min:0,max:0,ymin:0,ymax:0,xLabel:"",yLabel:"",series:[],order:[],numOfSeries:0,numOfBins:0,dOrder:[],title:"",CSeries:function(){this.rawData=[];this.browser="";this.color=[0,0,0];this.data=[];this.bins=[];this.stats=[];this.avg=this.num=
this.stdev=this.maxY=this.minY=this.max=this.min=0}};this.Box={pi:"",rad:"",depth:"",theta:"",wBar:"",nSeries:"",xOffset:"",yOffset:"",BackPanel:{x:"",y:"",w:"",h:""}};this.MouseClick=function(a){var b=a.clientX-e.left;a=a.clientY-e.top-20;for(var c=0;c<this.Legend.tabs.length;c++){var k=this.Legend.tabs[c].y,d=this.Legend.tabs[c].x+this.Legend.tabs[c].width,q=this.Legend.tabs[c].y+this.Legend.tabs[c].height;if(b>this.Legend.tabs[c].x&&b<d&&a>k&&a<q){this.Data.dOrder[this.Data.series.length-1]=c;
for(d=k=0;k<this.Legend.tabs.length;k++)k!=c&&(this.Data.dOrder[d]=k,d++);this.DrawData();this.DrawLegend()}}}.bind(this);this.Canvas.object=document.getElementById(b);this.Canvas.context=this.Canvas.object.getContext("2d");this.Properties.NumOfSeries=3;this.PlotArea.pad=10;this.PlotArea.x=100;this.PlotArea.y=75;this.Canvas.object.onmousedown=this.MouseClick;this.LoadData=function(b){b=b.split("*");for(var c=b[0].split("||"),k=[],d=0;d<b.length;d++)k[d]=b[d].split("||");this.Data.title=c[1];this.Data.xLabel=
c[2];this.Data.yLabel=c[3];this.Data.numOfSeries=b.length;for(d=0;d<b.length;d++)this.Data.dOrder[d]=d,c=new this.Data.CSeries,this.Data.series[d]=c,this.Data.series[d].rawData=k[d],this.Data.series[d].browser=p.Data.series[d].rawData[0],c=this.Data.series[d].rawData.slice(4),this.Data.series[d].data=c[0].split("|"),this.Data.series[d].data.pop(),this.Data.series[d].color[d]=128,this.Data.series[d].max=Number(this.Data.series[d].data[0]),this.Data.series[d].min=Number(this.Data.series[d].data[0]);
this.Data.min=Number(this.Data.series[0].data[0]);this.Data.max=Number(this.Data.series[0].data[0]);this.Data.ymin=Number(this.Data.series[0].data[0]);this.Data.ymax=Number(this.Data.series[0].data[0]);for(d=0;d<this.Data.series.length;d++){this.Data.numOfBins<Number(Math.sqrt(this.Data.series[d].data.length).toFixed())&&(this.Data.numOfBins=Number(Math.sqrt(this.Data.series[d].data.length).toFixed()));for(k=0;k<this.Data.series[d].data.length;k++)this.Data.series[d].avg+=Number(this.Data.series[d].data[k]),
Number(this.Data.series[d].data[k])>Number(this.Data.series[d].max)&&(this.Data.series[d].max=Number(this.Data.series[d].data[k])),Number(this.Data.series[d].data[k])<Number(this.Data.series[d].min)&&(this.Data.series[d].min=Number(this.Data.series[d].data[k]));Number(this.Data.series[d].min)<Number(this.Data.min)&&(this.Data.min=Number(this.Data.series[d].min));this.Data.series[d].stats.push(this.Data.series[d].min);Number(this.Data.series[d].max)>Number(this.Data.max)&&(this.Data.max=Number(this.Data.series[d].max));
this.Data.series[d].stats.push(this.Data.series[d].max)}for(d=0;d<this.Data.series.length;d++){this.Data.series[d].num=this.Data.series[d].data.length;this.Data.series[d].stats.push(this.Data.series[d].num);this.Data.series[d].avg=Number(this.Data.series[d].avg)/this.Data.series[d].data.length;this.Data.series[d].stats.push(this.Data.series[d].avg);for(k=this.Data.series[d].stdev=0;k<this.Data.series[d].data.length;k++)this.Data.series[d].stdev+=Math.pow(Number(this.Data.series[d].avg)-Number(this.Data.series[d].data[k]),
2);this.Data.series[d].stdev/=this.Data.series[d].data.length;this.Data.series[d].stdev=Math.sqrt(this.Data.series[d].stdev);this.Data.series[d].stats.push(this.Data.series[d].stdev);this.Data.series[d].bins[0]={bin:this.Data.min,count:0};for(k=1;k<=this.Data.numOfBins;k++)this.Data.series[d].bins[k]={bin:Number(this.Data.series[d].bins[k-1].bin)+(this.Data.max-this.Data.min)/this.Data.numOfBins,count:0};this.Data.series[d].maxY=this.Data.series[d].bins[0].count;this.Data.series[d].minY=this.Data.series[d].bins[0].count;
for(k=0;k<this.Data.series[d].data.length;k++){for(c=0;this.Data.series[d].data[k]>this.Data.series[d].bins[c].bin&&c<this.Data.series[d].bins.length-1;)c++;this.Data.series[d].bins[c].count++;Number(this.Data.series[d].bins[c].count)>this.Data.series[d].maxY&&(this.Data.series[d].maxY=Number(this.Data.series[d].bins[c].count));Number(this.Data.series[d].bins[c].count)<this.Data.series[d].minY&&(this.Data.series[d].minY=Number(this.Data.series[d].bins[c].count));a.console.file1.value+="\nBin: "+this.Data.series[d].bins[c].bin+
", Count: "+this.Data.series[d].bins[c].count}this.Data.series[d].maxY>this.Data.ymax&&(this.Data.ymax=Number(this.Data.series[d].maxY));this.Data.series[d].minY<this.Data.ymin&&(this.Data.ymin=Number(this.Data.series[d].minY))}this.Properties.NumOfSeries=b.length;this.Properties.XAxis.label=this.Data.xLabel;this.Properties.YAxis.label=this.Data.yLabel;this.Type="Histogram";this.Title="Time to Send Large Messages";this.Properties.XAxis.min=this.Data.min;this.Properties.XAxis.max=this.Data.max;this.Properties.YAxis.min=
0;this.Properties.YAxis.max=this.Data.ymax;this.DataPointWidth=10}.bind(this);var c=function(){this.Box.pi=3.14159265;this.Box.theta=45;this.Box.rad=this.Box.theta*this.Box.pi/180;this.Box.nSeries=this.Properties.NumOfSeries;this.Box.wBar=this.DataPointWidth;this.Box.depth=1.5*this.Box.wBar*this.Box.nSeries;this.Box.xOffset=this.Box.depth*Math.cos(this.Box.rad);this.Box.yOffset=this.Box.depth*Math.sin(this.Box.rad);this.Box.BackPanel.x=this.PlotArea.x+this.Box.xOffset;this.Box.BackPanel.y=this.PlotArea.y;
this.Box.BackPanel.w=this.PlotArea.width-this.Box.xOffset;this.Box.BackPanel.h=this.PlotArea.height-this.Box.yOffset}.bind(this),f=function(){c();this.Canvas.context.fillStyle="white";this.Canvas.context.fillRect(this.Box.BackPanel.x,this.Box.BackPanel.y,this.Box.BackPanel.w+this.DataPointWidth,this.Box.BackPanel.h);this.Canvas.context.fillStyle="white";this.Canvas.context.beginPath();this.Canvas.context.moveTo(this.Box.BackPanel.x,this.Box.BackPanel.y);this.Canvas.context.lineTo(this.Box.BackPanel.x-
this.Box.xOffset,this.Box.BackPanel.y+this.Box.yOffset);this.Canvas.context.lineTo(this.Box.BackPanel.x-this.Box.xOffset,this.Box.BackPanel.y+this.Box.yOffset+this.Box.BackPanel.h);this.Canvas.context.lineTo(this.Box.BackPanel.x,this.Box.BackPanel.y+this.Box.BackPanel.h);this.Canvas.context.fill();this.Canvas.context.fillStyle="white";this.Canvas.context.beginPath();this.Canvas.context.moveTo(this.Box.BackPanel.x,this.Box.BackPanel.y+this.Box.BackPanel.h);this.Canvas.context.lineTo(this.Box.BackPanel.x-
this.Box.xOffset,this.Box.BackPanel.y+this.Box.yOffset+this.Box.BackPanel.h);this.Canvas.context.lineTo(this.Box.BackPanel.x-this.Box.xOffset+this.Box.BackPanel.w+this.DataPointWidth,this.Box.BackPanel.y+this.Box.yOffset+this.Box.BackPanel.h);this.Canvas.context.lineTo(this.Box.BackPanel.x+this.Box.BackPanel.w+this.DataPointWidth,this.Box.BackPanel.y+this.Box.BackPanel.h);this.Canvas.context.fill()}.bind(this),s=function(){var a=16*this.Data.series[0].stats.length;this.Legend.width=80;var b=this.Legend.width/
this.Data.series.length;this.Legend.height=32+a;this.Legend.x=this.PlotArea.x1+(this.Canvas.width-this.PlotArea.x1-this.Legend.width)/2;this.Legend.y=this.PlotArea.y;for(a=0;a<this.Data.series.length;a++)this.Legend.tabs[a]=new this.Legend.CTab,this.Legend.tabs[a].label=this.Data.series[a].browser,this.Legend.tabs[a].width=b,this.Legend.tabs[a].height=16,this.Legend.tabs[a].x=this.Legend.x+b*a,this.Legend.tabs[a].y=this.Legend.y+16,this.Legend.tabs[a].color=this.Data.series[a].color}.bind(this);this.DrawData=
function(){d();for(var a=0;a<this.Properties.NumOfSeries;a++)for(var b=0;b<this.Data.series[a].bins.length;b++)g(this.Data.series[this.Data.dOrder[a]].bins[b].bin,this.Data.series[this.Data.dOrder[a]].bins[b].count,a+1,this.Data.series[this.Data.dOrder[a]].color)}.bind(this);var d=function(){var a=this.Canvas.context.createLinearGradient(0,0,this.Canvas.width,this.Canvas.height);a.addColorStop(0,"lightsteelblue");a.addColorStop(1,"whitesmoke");this.Canvas.context.fillStyle=a;this.Canvas.context.fillRect(0,
0,this.Canvas.width,this.Canvas.height);this.PlotArea.width=this.Canvas.width-300;this.PlotArea.height=this.Canvas.height-150;this.PlotArea.x1=this.PlotArea.x+this.PlotArea.width;this.PlotArea.y1=this.PlotArea.y+this.PlotArea.height;h();f();k();q();t();u()}.bind(this),h=function(){this.Canvas.context.font="14px sans-serif";this.Canvas.context.fillStyle="black";this.Canvas.context.textAlign="center";this.Canvas.context.textBaseline="bottom";this.Canvas.context.fillText(this.Data.title,this.Canvas.width/
2,this.PlotArea.y+-30)}.bind(this);(function(){var a=this.DataPointWidth/2,b=this.Series.length*this.DataPointWidth;this.Canvas.context.fillStyle="white";this.Canvas.context.fillRect(this.PlotArea.x+this.DataPointWidth+b,this.PlotArea.y-b,this.PlotArea.width,this.PlotArea.height+b);this.Canvas.context.fillStyle="lightgray";this.Canvas.context.beginPath();this.Canvas.context.moveTo(this.PlotArea.x,this.PlotArea.y1);this.Canvas.context.lineTo(this.PlotArea.x+a,this.PlotArea.y1-a);this.Canvas.context.lineTo(this.PlotArea.x1+
a,this.PlotArea.y1-a);this.Canvas.context.lineTo(this.PlotArea.x1,this.PlotArea.y1);this.Canvas.context.fill()}).bind(this);(function(){}).bind(this);(function(){}).bind(this);var k=function(){var a=Number((this.Data.ymax/10).toFixed()),b=0,c=Number((this.Box.BackPanel.h/10).toFixed());this.Canvas.context.textAlign="right";this.Canvas.context.textBaseline="middle";this.Canvas.context.fillStyle="black";this.Canvas.context.font="12px sans-serif";for(var k=0;10>k;k++)this.Canvas.context.fillText(this.Properties.YAxis.min+
b,this.PlotArea.x-5,this.PlotArea.y1-k*c),b+=a,this.Canvas.context.strokeStyle="lightgray",this.Canvas.context.beginPath(),this.Canvas.context.moveTo(this.PlotArea.x,this.PlotArea.y1-k*c),this.Canvas.context.lineTo(this.Box.BackPanel.x,this.PlotArea.y1-k*c-this.Box.yOffset),this.Canvas.context.lineTo(this.Box.BackPanel.x+this.Box.BackPanel.w+this.DataPointWidth,this.PlotArea.y1-k*c-this.Box.yOffset),this.Canvas.context.stroke();this.Canvas.context.fillText(b,this.PlotArea.x-5,this.PlotArea.y1-10*
c);this.Canvas.context.strokeStyle="lightgray";this.Canvas.context.beginPath();this.Canvas.context.moveTo(this.Box.BackPanel.x,this.Box.BackPanel.y+this.Box.BackPanel.h);this.Canvas.context.lineTo(this.Box.BackPanel.x,this.Box.BackPanel.y);this.Canvas.context.stroke()}.bind(this),q=function(){this.Canvas.context.save();this.Canvas.context.translate(this.PlotArea.x-50,this.PlotArea.y1-this.PlotArea.height/2);this.Canvas.context.rotate(-Math.PI/2);this.Canvas.context.textAlign="center";this.Canvas.context.fillStyle=
"black";this.Canvas.context.font="12px sans-serif";this.Canvas.context.fillText(this.Properties.YAxis.label,0,0);this.Canvas.context.restore()}.bind(this);(function(){}).bind(this);(function(){}).bind(this);var t=function(){var a=Number(((this.Data.max-this.Data.min)/5).toFixed(1)),b=0,c=Number((this.Box.BackPanel.w/5).toFixed(1));this.Canvas.context.textAlign="left";this.Canvas.context.fillStyle="black";this.Canvas.context.font="12px sans-serif";for(var k=0;5>k;k++)(Number(this.Data.min.toFixed(1))+
Number(b.toFixed(1))).toFixed(1),this.Canvas.context.fillText(Number((Number(this.Data.min.toFixed(1))+Number(b.toFixed(1))).toFixed(1)),this.PlotArea.x+k*c-5,this.PlotArea.y1+15),b+=a;this.Canvas.context.fillText(Number((Number(this.Data.min.toFixed(1))+Number(b.toFixed(1))).toFixed(1)),this.PlotArea.x+5*c,this.PlotArea.y1+15)}.bind(this),u=function(){this.Canvas.context.fillStyle="black";this.Canvas.context.font="12px sans-serif";this.Canvas.context.textAlign="center";this.Canvas.context.textBaseline=
"bottom";this.Canvas.context.fillText(this.Properties.XAxis.label,this.PlotArea.x+this.PlotArea.width/2,this.PlotArea.y1+40)}.bind(this);this.DrawLegend=function(){s();this.Canvas.context.strokeStyle="black";this.Canvas.context.strokeRect(this.Legend.x,this.Legend.y,this.Legend.width,this.Legend.height);this.Canvas.context.font="12px sans-serif";this.Canvas.context.fillStyle="black";this.Canvas.context.textAlign="center";this.Canvas.context.textBaseline="bottom";this.Canvas.context.fillText("Statistics",
this.Legend.x+this.Legend.width/2,this.Legend.y+14);for(var a=0;a<this.Legend.tabs.length;a++)this.Canvas.context.fillStyle="rgb("+this.Data.series[a].color[0]+", "+this.Data.series[a].color[1]+", "+this.Data.series[a].color[2]+")",this.Canvas.context.fillRect(this.Legend.tabs[a].x,this.Legend.tabs[a].y,this.Legend.tabs[a].width,this.Legend.tabs[a].height);this.Canvas.context.font="10px monaco";this.Canvas.context.textAlign="left";this.Canvas.context.fillStyle="black";var a=this.Data.dOrder[this.Data.series.length-
1],b=this.Legend.tabs[0].y+this.Legend.tabs[0].height;this.Canvas.context.fillText("Min:   "+this.Data.series[a].stats[0].toFixed(2),this.Legend.x+3,b+1*(this.Legend.tabs[0].height-3));this.Canvas.context.fillText("Max:   "+this.Data.series[a].stats[1].toFixed(2),this.Legend.x+3,b+2*(this.Legend.tabs[0].height-3));this.Canvas.context.fillText("N:     "+this.Data.series[a].stats[2].toFixed(),this.Legend.x+3,b+3*(this.Legend.tabs[0].height-3));this.Canvas.context.fillText("Mean:  "+this.Data.series[a].stats[3].toFixed(2),
this.Legend.x+3,b+4*(this.Legend.tabs[0].height-3));this.Canvas.context.fillText("Stdev: "+this.Data.series[a].stats[4].toFixed(2),this.Legend.x+3,b+5*(this.Legend.tabs[0].height-3));this.Canvas.context.strokeStyle="black";this.Canvas.context.strokeRect(this.Legend.x,this.Legend.y+this.Legend.height+10,this.Legend.width,75);this.Canvas.context.font="12px sans-serif";this.Canvas.context.fillStyle="black";this.Canvas.context.textAlign="center";this.Canvas.context.textBaseline="bottom";this.Canvas.context.fillText("Legend",
this.Legend.x+this.Legend.width/2,this.Legend.y+this.Legend.height+25);for(a=0;a<this.Data.series.length;a++)this.Canvas.context.fillStyle="rgb("+this.Data.series[a].color[0]+", "+this.Data.series[a].color[1]+", "+this.Data.series[a].color[2]+")",this.Canvas.context.fillRect(this.Legend.x,this.Legend.y+this.Legend.height+15+16*(1+a),14,14),this.Canvas.context.font="12px sans-serif",this.Canvas.context.textAlign="left",this.Canvas.context.fillStyle=this.Data.dOrder[this.Data.series.length-1]==a?"rgb("+
this.Data.series[a].color[0]+", "+this.Data.series[a].color[1]+", "+this.Data.series[a].color[2]+")":"black",this.Canvas.context.fillText(this.Data.series[a].browser,this.Legend.x+20,this.Legend.y+this.Legend.height+30+16*(1+a))}.bind(this);var g=function(a,b,c,k){a=this.PlotArea.x+(a-this.Properties.XAxis.min)*(this.Box.BackPanel.w/(this.Properties.XAxis.max-this.Properties.XAxis.min));b=(b-this.Properties.YAxis.min)*(this.Box.BackPanel.h/(this.Properties.YAxis.max-this.Properties.YAxis.min));var d=
this.PlotArea.y+this.PlotArea.height-b,q=this.DataPointWidth,q=this.Box.depth/(2*this.Box.nSeries-1),h=2*q*Math.cos(this.Box.rad),f=2*q*Math.sin(this.Box.rad),e=q*Math.cos(this.Box.rad),t=q*Math.sin(this.Box.rad),q=this.DataPointWidth;a+=h*(this.Box.nSeries-c);d-=f*(this.Box.nSeries-c);this.Canvas.context.fillStyle="rgb("+k[0]+", "+k[1]+", "+k[2]+")";this.Canvas.context.fillRect(a,d,q,b);this.Canvas.context.fillStyle="rgb("+(k[0]-60)+", "+(k[1]-60)+", "+(k[2]-60)+")";this.Canvas.context.beginPath();
this.Canvas.context.moveTo(a+q,d);this.Canvas.context.lineTo(a+q,d+b);this.Canvas.context.lineTo(a+q+e,d+b-t);this.Canvas.context.lineTo(a+q+e,d-t);this.Canvas.context.fill();this.Canvas.context.fillStyle="rgb("+(k[0]+60)+", "+(k[1]+60)+", "+(k[2]+60)+")";this.Canvas.context.beginPath();this.Canvas.context.moveTo(a,d);this.Canvas.context.lineTo(a+q,d);this.Canvas.context.lineTo(a+q+e,d-t);this.Canvas.context.lineTo(a+e,d-t);this.Canvas.context.fill()}.bind(this)}("My Test Chart");p.Canvas.width="900";
p.Canvas.height="580";p.LoadData(f);p.DrawData();p.DrawLegend()},WebGL:function(){canvas=a.resschmgr.Create.HTMLElement("canvas");canvas.html().style.width="100%";canvas.html().style.height="100%";Win=a.windows.WindowsManager.Create.Window("WebGL Demo","PC");Win.Set.position(300,300);Win.elements.content.AppendChild(canvas.html());Win.elements.content.html().style.overflow="hidden";Win.Set.statusbarText("FPS: ");Win.Display.window();Win.Set.width(400);Win.Set.height(300);Win.Set.onMax(a.graphics.OnReset);
Win.Set.onMin(a.graphics.Pause);a.graphics.Load(!0,!1,canvas.html());a.graphics.Managers.Texture.Create.Texture("scorpion","scripts/jahova/OS/Cores/Graphics/textures/scorpion.jpg");a.graphics.Managers.Mesh.Create.Mesh("scorpion","scripts/jahova/OS/Cores/Graphics/meshes/scorpion.json");a.graphics.Managers.Texture.Create.Texture("goliath","scripts/jahova/OS/Cores/Graphics/textures/goliath.jpg");a.graphics.Managers.Mesh.Create.Mesh("goliath","scripts/jahova/OS/Cores/Graphics/meshes/goliath.json");ent=
a.graphics.Managers.Entity.Create();ent.Graphics.Add.Mesh("scorpion");ent.Graphics.Add.Texture("scorpion");ent.Graphics.Vectors.Scale.set([0.5,0.5,0.5]);ent.Graphics.Update=function(a){ent.roll+=0.05*a;ent.pitch+=0.05*a;Win.Set.statusbarText("FPS: "+(1E3*(1/a)).toFixed(3))};a.graphics.AddToWorld(ent);a.graphics.Start()},Fog:function(){var b=a.resschmgr.Create.HTMLElement("canvas");b.html().style.width="100%";b.html().style.height="100%";document.body.appendChild(b.html());document.body.style.overflow=
"hidden";a.graphics.Load(!1,!1,b.html());a.graphics.Managers.Texture.Create.Texture("starhawk","scripts/jahova/OS/Cores/Graphics/textures/starhawk.jpg");a.graphics.Managers.Mesh.Create.Mesh("starhawk","scripts/jahova/OS/Cores/Graphics/meshes/starhawk.json");quad=a.graphics.Managers.Mesh.Create.Primitive.Quad("quad");quad.Initialize();a.graphics.Managers.Shader.Create.VertexShader("shadow","scripts/jahova/OS/Cores/Graphics/shaders/shadow.vs");a.graphics.Managers.Shader.Create.FragmentShader("shadow",
"scripts/jahova/OS/Cores/Graphics/shaders/shadow.fs");Win=a.windows.WindowsManager.Create.Window("Fog","PC");Win.Set.position(0,0);Win.elements.content.html().style.overflow="hidden";Win.Set.statusbarText("");Win.Display.window();Win.Set.width(200);Win.Set.height(60);Win.Set.onMax(a.graphics.OnReset);Win.Set.onMin(a.graphics.Pause);terrain=a.graphics.Managers.Entity.Create();terrain.Graphics.Add.Mesh("quad");terrain.Graphics.Set.light(!1);terrain.Graphics.Set.useBlendColor(!0);terrain.Graphics.Set.texture(!1);
terrain.Graphics.Set.blendColor([0.17,0.26,0.4]);terrain.Set.Scale(2E3,2E3,2E3);terrain.pitch=90;terrain.Set.Position(0,1999,0);terrain.Graphics.Set.fog(!0);terrain.Graphics.Set.fogEndPosition(1E3);terrain.Graphics.Set.fogBeginPosition(200);a.graphics.AddToWorld(terrain);starhawk=a.graphics.Managers.Entity.Create();starhawk.Graphics.Add.Mesh("starhawk");starhawk.Graphics.Add.Texture("starhawk");starhawk.Graphics.Vectors.Scale.set([0.5,0.5,0.5]);starhawk.Set.Position(0,50,100);starhawk.Graphics.Update=
function(a){starhawk.yaw+=0.05*a};starhawk.Graphics.Set.fog(!0);starhawk.Graphics.Set.fogEndPosition(1500);starhawk.Graphics.Set.fogBeginPosition(200);b=a.graphics.Managers.Shader.Create.Program("shadow","shadow","shadow");b.CreateAttribute("aVertexPosition");b.CreateUniform("uPMatrix");b.CreateUniform("uVMatrix");b.CreateUniform("uWMatrix");b.CreateUniform("uLight");b=starhawk.Graphics.Add.Shader("shadow","shadow");b.AddAttribute("aVertexPosition","FLOAT",null,"VERTEX",null);b.AddUniform("uPMatrix",
"4X4",a.graphics.Matrix.Projection);b.AddUniform("uVMatrix","4X4",a.graphics.Matrix.View);b.AddUniform("uWMatrix","4X4",starhawk.Graphics.Matrix.World);b.AddUniform("uLight","VEC3",[0,1E3,500]);a.graphics.AddToUpdate(starhawk);FogDraw=function(){starhawk.Graphics.Draw("default");starhawk.Graphics.Draw("shadow")};FogUpdate=function(a){Win.Set.statusbarText("FPS: "+(1E3*(1/a)).toFixed(3))};a.graphics.Set.Callback.Draw(FogDraw);a.graphics.Set.Callback.Update(FogUpdate);a.graphics.Managers.Camera.MoveUp(150);
a.graphics.Managers.Camera.Rotation.pitch=5;Input={Mouse:{lastX:0,lastY:0,pressed:!1}};onKeyDown=function(b){"W"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveForward(10):"S"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveBackward(10):"A"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveLeft(10):"D"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveRight(10):"Q"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveUp(5):"E"==String.fromCharCode(b.keyCode)&&
a.graphics.Managers.Camera.MoveDown(10)};onMouseDown=function(a){Input.Mouse.lastX=a.clientX;Input.Mouse.lastY=a.clientY;Input.Mouse.pressed=!0};onMouseUp=function(a){Input.Mouse.pressed=!1};onMouseMove=function(b){if(Input.Mouse.pressed){var c=a.graphics.Managers.Camera,e=b.clientX;b=b.clientY;c.Rotation.yaw+=(e-Input.Mouse.lastX)/10;360<c.Rotation.yaw?c.Rotation.yaw-=360:0>c.Rotation.yaw&&(c.Rotation.yaw+=360);c.Rotation.pitch+=(b-Input.Mouse.lastY)/10;360<c.Rotation.pitch?c.Rotation.pitch-=360:
0>c.Rotation.pitch&&(c.Rotation.pitch+=360);Input.Mouse.lastX=e;Input.Mouse.lastY=b}};window.addEventListener("keydown",onKeyDown,!1);a.graphics.Get.Canvas().addEventListener("mousedown",onMouseDown,!1);document.addEventListener("mouseup",onMouseUp,!1);document.addEventListener("mousemove",onMouseMove,!1);a.graphics.Start()},DynamicShadow:function(){var b=a.resschmgr.Create.HTMLElement("canvas");b.html().style.width="100%";b.html().style.height="100%";document.body.appendChild(b.html());document.body.style.overflow=
"hidden";a.graphics.Load(!1,!1,b.html());a.graphics.Managers.Texture.Create.Texture("starhawk","scripts/jahova/OS/Cores/Graphics/textures/starhawk.jpg");a.graphics.Managers.Mesh.Create.Mesh("starhawk","scripts/jahova/OS/Cores/Graphics/meshes/starhawk.json");quad=a.graphics.Managers.Mesh.Create.Primitive.Quad("quad");quad.Initialize();a.graphics.Managers.Shader.Create.VertexShader("shadow","scripts/jahova/OS/Cores/Graphics/shaders/shadow.vs");a.graphics.Managers.Shader.Create.FragmentShader("shadow",
"scripts/jahova/OS/Cores/Graphics/shaders/shadow.fs");Win=a.windows.WindowsManager.Create.Window("Dynamic Shadows","PC");Win.Set.position(0,0);Win.elements.content.html().style.overflow="hidden";Win.Set.statusbarText("");Win.Display.window();Win.Set.width(200);Win.Set.height(60);Win.Set.onMax(a.graphics.OnReset);Win.Set.onMin(a.graphics.Pause);terrain=a.graphics.Managers.Entity.Create();terrain.Graphics.Add.Mesh("quad");terrain.Graphics.Set.light(!1);terrain.Graphics.Set.useBlendColor(!0);terrain.Graphics.Set.texture(!1);
terrain.Graphics.Set.blendColor([0.17,0.26,0.4]);terrain.Set.Scale(2E3,2E3,2E3);terrain.pitch=90;terrain.Set.Position(0,1999,0);a.graphics.AddToWorld(terrain);starhawk=a.graphics.Managers.Entity.Create();starhawk.Graphics.Add.Mesh("starhawk");starhawk.Graphics.Add.Texture("starhawk");starhawk.Graphics.Vectors.Scale.set([0.5,0.5,0.5]);starhawk.Set.Position(0,250,500);starhawk.Graphics.Update=function(a){starhawk.roll+=0.05*a;starhawk.pitch+=0.05*a;Win.Set.statusbarText("FPS: "+(1E3*(1/a)).toFixed(3))};
b=a.graphics.Managers.Shader.Create.Program("shadow","shadow","shadow");b.CreateAttribute("aVertexPosition");b.CreateUniform("uPMatrix");b.CreateUniform("uVMatrix");b.CreateUniform("uWMatrix");b.CreateUniform("uLight");b=starhawk.Graphics.Add.Shader("shadow","shadow");b.AddAttribute("aVertexPosition","FLOAT",null,"VERTEX",null);b.AddUniform("uPMatrix","4X4",a.graphics.Matrix.Projection);b.AddUniform("uVMatrix","4X4",a.graphics.Matrix.View);b.AddUniform("uWMatrix","4X4",starhawk.Graphics.Matrix.World);
b.AddUniform("uLight","VEC3",[0,1E3,500]);a.graphics.AddToUpdate(starhawk);ShadowDraw=function(){starhawk.Graphics.Draw("default");starhawk.Graphics.Draw("shadow")};a.graphics.Set.Callback.Draw(ShadowDraw);a.graphics.Managers.Camera.MoveUp(150);a.graphics.Managers.Camera.Rotation.pitch=5;Input={Mouse:{lastX:0,lastY:0,pressed:!1}};onKeyDown=function(b){"W"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveForward(10):"S"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveBackward(10):
"A"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveLeft(10):"D"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveRight(10):"Q"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveUp(5):"E"==String.fromCharCode(b.keyCode)&&a.graphics.Managers.Camera.MoveDown(10)};onMouseDown=function(a){Input.Mouse.lastX=a.clientX;Input.Mouse.lastY=a.clientY;Input.Mouse.pressed=!0};onMouseUp=function(a){Input.Mouse.pressed=!1};onMouseMove=function(b){if(Input.Mouse.pressed){var c=
a.graphics.Managers.Camera,e=b.clientX;b=b.clientY;c.Rotation.yaw+=(e-Input.Mouse.lastX)/10;360<c.Rotation.yaw?c.Rotation.yaw-=360:0>c.Rotation.yaw&&(c.Rotation.yaw+=360);c.Rotation.pitch+=(b-Input.Mouse.lastY)/10;360<c.Rotation.pitch?c.Rotation.pitch-=360:0>c.Rotation.pitch&&(c.Rotation.pitch+=360);Input.Mouse.lastX=e;Input.Mouse.lastY=b}};window.addEventListener("keydown",onKeyDown,!1);a.graphics.Get.Canvas().addEventListener("mousedown",onMouseDown,!1);document.addEventListener("mouseup",onMouseUp,
!1);document.addEventListener("mousemove",onMouseMove,!1);a.graphics.Start()},CubeMap:function(){var b=a.resschmgr.Create.HTMLElement("canvas");b.html().style.width="100%";b.html().style.height="100%";document.body.appendChild(b.html());document.body.style.overflow="hidden";a.graphics.Load(!1,!1,b.html());Win=a.windows.WindowsManager.Create.Window("Cube Map","PC");Win.Set.position(0,0);Win.elements.content.html().style.overflow="hidden";Win.Set.statusbarText("");Win.Display.window();Win.Set.width(100);
Win.Set.height(60);Win.Set.onMax(a.graphics.OnReset);Win.Set.onMin(a.graphics.Pause);b=a.graphics.Managers.Texture.Create.CubeMap("arch");b.Load.positiveX("images/textures/cubemaps/arch/arch_positive_x.jpg");b.Load.negativeX("images/textures/cubemaps/arch/arch_negative_x.jpg");b.Load.positiveY("images/textures/cubemaps/arch/arch_positive_y.jpg");b.Load.negativeY("images/textures/cubemaps/arch/arch_negative_y.jpg");b.Load.positiveZ("images/textures/cubemaps/arch/arch_positive_z.jpg");b.Load.negativeZ("images/textures/cubemaps/arch/arch_negative_z.jpg");
b=a.graphics.Managers.Texture.Create.CubeMap("brightday");b.Load.positiveX("images/textures/cubemaps/brightday/brightday2_positive_x.png");b.Load.negativeX("images/textures/cubemaps/brightday/brightday2_negative_x.png");b.Load.positiveY("images/textures/cubemaps/brightday/brightday2_positive_y.png");b.Load.negativeY("images/textures/cubemaps/brightday/brightday2_negative_y.png");b.Load.positiveZ("images/textures/cubemaps/brightday/brightday2_positive_z.png");b.Load.negativeZ("images/textures/cubemaps/brightday/brightday2_negative_z.png");
b=a.graphics.Managers.Texture.Create.CubeMap("grandcanyon");b.Load.positiveX("images/textures/cubemaps/grandcanyon/grandcanyon_positive_x.jpg");b.Load.negativeX("images/textures/cubemaps/grandcanyon/grandcanyon_negative_x.jpg");b.Load.positiveY("images/textures/cubemaps/grandcanyon/grandcanyon_positive_y.jpg");b.Load.negativeY("images/textures/cubemaps/grandcanyon/grandcanyon_negative_y.jpg");b.Load.positiveZ("images/textures/cubemaps/grandcanyon/grandcanyon_positive_z.jpg");b.Load.negativeZ("images/textures/cubemaps/grandcanyon/grandcanyon_negative_z.jpg");
b=a.graphics.Managers.Texture.Create.CubeMap("hills");b.Load.positiveX("images/textures/cubemaps/hills/hills_positive_x.png");b.Load.negativeX("images/textures/cubemaps/hills/hills_negative_x.png");b.Load.positiveY("images/textures/cubemaps/hills/hills_positive_y.png");b.Load.negativeY("images/textures/cubemaps/hills/hills_negative_y.png");b.Load.positiveZ("images/textures/cubemaps/hills/hills_positive_z.png");b.Load.negativeZ("images/textures/cubemaps/hills/hills_negative_z.png");b=a.graphics.Managers.Texture.Create.CubeMap("mars");
b.Load.positiveX("images/textures/cubemaps/mars/mars_positive_x.jpg");b.Load.negativeX("images/textures/cubemaps/mars/mars_negative_x.jpg");b.Load.positiveY("images/textures/cubemaps/mars/mars_positive_y.jpg");b.Load.negativeY("images/textures/cubemaps/mars/mars_negative_y.jpg");b.Load.positiveZ("images/textures/cubemaps/mars/mars_positive_z.jpg");b.Load.negativeZ("images/textures/cubemaps/mars/mars_negative_z.jpg");b=a.graphics.Managers.Texture.Create.CubeMap("museum");b.Load.positiveX("images/textures/cubemaps/museum/museum_positive_x.png");
b.Load.negativeX("images/textures/cubemaps/museum/museum_negative_x.png");b.Load.positiveY("images/textures/cubemaps/museum/museum_positive_y.png");b.Load.negativeY("images/textures/cubemaps/museum/museum_negative_y.png");b.Load.positiveZ("images/textures/cubemaps/museum/museum_positive_z.png");b.Load.negativeZ("images/textures/cubemaps/museum/museum_negative_z.png");b=a.graphics.Managers.Texture.Create.CubeMap("snow");b.Load.positiveX("images/textures/cubemaps/snow/snow_positive_x.jpg");b.Load.negativeX("images/textures/cubemaps/snow/snow_negative_x.jpg");
b.Load.positiveY("images/textures/cubemaps/snow/snow_positive_y.jpg");b.Load.negativeY("images/textures/cubemaps/snow/snow_negative_y.jpg");b.Load.positiveZ("images/textures/cubemaps/snow/snow_positive_z.jpg");b.Load.negativeZ("images/textures/cubemaps/snow/snow_negative_z.jpg");b=a.graphics.Managers.Texture.Create.CubeMap("space");b.Load.positiveX("images/textures/cubemaps/space/space_positive_x.png");b.Load.negativeX("images/textures/cubemaps/space/space_negative_x.png");b.Load.positiveY("images/textures/cubemaps/space/space_positive_y.png");
b.Load.negativeY("images/textures/cubemaps/space/space_negative_y.png");b.Load.positiveZ("images/textures/cubemaps/space/space_positive_z.png");b.Load.negativeZ("images/textures/cubemaps/space/space_negative_z.png");b=a.graphics.Managers.Texture.Create.CubeMap("terrain");b.Load.positiveX("images/textures/cubemaps/terrain/terrain_positive_x.png");b.Load.negativeX("images/textures/cubemaps/terrain/terrain_negative_x.png");b.Load.positiveY("images/textures/cubemaps/terrain/terrain_positive_y.png");b.Load.negativeY("images/textures/cubemaps/terrain/terrain_negative_y.png");
b.Load.positiveZ("images/textures/cubemaps/terrain/terrain_positive_z.png");b.Load.negativeZ("images/textures/cubemaps/terrain/terrain_negative_z.png");a.graphics.Managers.Texture.Create.Texture("scorpion","scripts/jahova/OS/Cores/Graphics/textures/scorpion.jpg");a.graphics.Managers.Mesh.Create.Mesh("scorpion","scripts/jahova/OS/Cores/Graphics/meshes/scorpion.json");ent=a.graphics.Managers.Entity.Create();ent.Graphics.Add.Mesh("scorpion");ent.Graphics.Add.Texture("scorpion");ent.Graphics.Vectors.Scale.set([0.1,
0.1,0.1]);ent.Graphics.Update=function(b){Win.Set.statusbarText("FPS: "+(1E3*(1/b)).toFixed(3))};a.graphics.AddToWorld(ent);a.graphics.Managers.Shader.Create.VertexShader("skybox","scripts/jahova/OS/Cores/Graphics/shaders/skybox.vs");a.graphics.Managers.Shader.Create.FragmentShader("skybox","scripts/jahova/OS/Cores/Graphics/shaders/skybox.fs");b=a.graphics.Managers.Shader.Create.Program("skybox","skybox","skybox");b.CreateAttribute("aVertexPosition");b.CreateAttribute("aVertexNormal");b.CreateUniform("uPMatrix");
b.CreateUniform("uVMatrix");b.CreateUniform("uWMatrix");b.CreateUniform("uNMatrix");b.CreateUniform("uSampler");skybox=a.graphics.Managers.Entity.Create("skybox");b=skybox.Graphics.Add.Shader("skybox","skybox");b.AddAttribute("aVertexPosition","FLOAT",null,"VERTEX",null);b.AddAttribute("aVertexNormal","FLOAT",null,"NORMAL",null);b.AddUniform("uPMatrix","4X4",a.graphics.Matrix.Projection);b.AddUniform("uVMatrix","4X4",a.graphics.Matrix.View);b.AddUniform("uWMatrix","4X4",skybox.Graphics.Matrix.World);
b.AddUniform("uNMatrix","3X3",skybox.Graphics.Matrix.Normal);b=a.graphics.Managers.Mesh.Create.Primitive.Cube("skybox");b.model.vertexTextureCoords=null;b.Initialize();skybox.Graphics.Add.Mesh("skybox");skybox.Graphics.Add.Texture("space");skybox.Set.Scale(5E3,5E3,5E3);skybox.Attach=function(b){(skybox.attachedEntity=b)?skybox.attached=!0:skybox.atached=!1};skybox.attached=!1;skybox.attachedEntity=null;skybox.Attach(a.graphics.Managers.Camera);skybox.Graphics.Update=function(b){skybox.attached&&vec3.set(skybox.attachedEntity.Position,
skybox.Position)}.bind(skybox);a.graphics.AddToWorld(skybox);Input={Mouse:{lastX:0,lastY:0,pressed:!1}};onKeyDown=function(b){"W"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveForward(10):"S"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveBackward(10):"A"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveLeft(10):"D"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveRight(10):"Q"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveUp(5):
"E"==String.fromCharCode(b.keyCode)?a.graphics.Managers.Camera.MoveDown(10):"1"==String.fromCharCode(b.keyCode)?(skybox.Graphics.Texture.removeAll(),skybox.Graphics.Add.Texture("arch"),skybox.Set.Scale(5E3,5E3,5E3)):"2"==String.fromCharCode(b.keyCode)?(skybox.Graphics.Texture.removeAll(),skybox.Graphics.Add.Texture("brightday"),skybox.Set.Scale(5E3,5E3,5E3)):"3"==String.fromCharCode(b.keyCode)?(skybox.Graphics.Texture.removeAll(),skybox.Graphics.Add.Texture("grandcanyon"),skybox.Set.Scale(5E3,5E3,
5E3)):"4"==String.fromCharCode(b.keyCode)?(skybox.Graphics.Texture.removeAll(),skybox.Graphics.Add.Texture("hills"),skybox.Set.Scale(5E3,5E3,5E3)):"5"==String.fromCharCode(b.keyCode)?(skybox.Graphics.Texture.removeAll(),skybox.Graphics.Add.Texture("mars"),skybox.Set.Scale(5E3,5E3,5E3)):"6"==String.fromCharCode(b.keyCode)?(skybox.Graphics.Texture.removeAll(),skybox.Graphics.Add.Texture("museum"),skybox.Set.Scale(5E3,5E3,5E3)):"7"==String.fromCharCode(b.keyCode)?(skybox.Graphics.Texture.removeAll(),
skybox.Graphics.Add.Texture("snow"),skybox.Set.Scale(5E3,5E3,5E3)):"8"==String.fromCharCode(b.keyCode)?(skybox.Graphics.Texture.removeAll(),skybox.Graphics.Add.Texture("space"),skybox.Set.Scale(5E3,5E3,5E3)):"9"==String.fromCharCode(b.keyCode)&&(skybox.Graphics.Texture.removeAll(),skybox.Graphics.Add.Texture("terrain"),skybox.Set.Scale(5E3,5E3,5E3))};onMouseDown=function(b){Input.Mouse.lastX=b.clientX;Input.Mouse.lastY=b.clientY;Input.Mouse.pressed=!0};onMouseUp=function(b){Input.Mouse.pressed=!1};
onMouseMove=function(b){if(Input.Mouse.pressed){var c=a.graphics.Managers.Camera,e=b.clientX;b=b.clientY;c.Rotation.yaw+=(e-Input.Mouse.lastX)/10;360<c.Rotation.yaw?c.Rotation.yaw-=360:0>c.Rotation.yaw&&(c.Rotation.yaw+=360);c.Rotation.pitch+=(b-Input.Mouse.lastY)/10;360<c.Rotation.pitch?c.Rotation.pitch-=360:0>c.Rotation.pitch&&(c.Rotation.pitch+=360);Input.Mouse.lastX=e;Input.Mouse.lastY=b}};window.addEventListener("keydown",onKeyDown,!1);a.graphics.Get.Canvas().addEventListener("mousedown",onMouseDown,
!1);document.addEventListener("mouseup",onMouseUp,!1);document.addEventListener("mousemove",onMouseMove,!1);a.graphics.Start()},JOSS:function(){server=a.network.Create.JOSServer("demo.jahovaos.com","8081","");server.Events.onMessage=function(b){a.windows.Create.ErrorWindow("JOS Server Message","Messabe Received: <br/>UserID: "+b.UserID+" <br/>SessionID: "+b.SessionID+" <br/>ModuleID: "+b.ModuleID+" <br/>Data Type: "+b.Data.Type+" <br/>Data Args: "+b.Data.Args+" <br/>Func ID: "+b.FunctionID+" <br/>")};
server.Connect()},AudioAdd:function(){a.audio.Add("battle","scripts/Applications/Audio/BattleTheme",!0,!1)},AudioPlay:function(){a.audio.Play("battle");a.audio.Set.Volume("battle",1)},AudioPause:function(){a.audio.Pause("battle")},AddCommand:function(b,e,g,p){this.Commands.put(b.toUpperCase(),a.resschmgr.Create.Command(b,e,g,p))},RemoveCommand:function(b){this.Commands.remove(b.toUpperCase())},GetCommand:function(b){return this.Commands.get(b.toUpperCase())},DisplayCommands:function(){for(var b=0;b++<
this.Commands.size;this.Commands.next())a.console.AppendComment("Command: "+this.Commands.value().name),a.console.AppendComment("Description:"),a.console.AppendComment(this.Commands.value().help),a.console.AppendComment("")},log:function(b){},AppendComment:function(b){e.cmdWindow.value+="\n"+b;e.cmdWindow.scrollTop=e.cmdWindow.scrollHeight},Comment:function(b){e.cmdWindow.value+=b+"\n~JaHOVA OS >>";e.cmdWindow.scrollTop=e.cmdWindow.scrollHeight},Warning:function(b){e.cmdWindow.value+="\n~WARNING~ "+
b+"\n~JaHOVA OS >>";e.cmdWindow.scrollTop=e.cmdWindow.scrollHeight},Error:function(b){e.cmdWindow.value+="\n~ERROR~ "+b+"\n~JaHOVA OS >>";e.cmdWindow.scrollTop=e.cmdWindow.scrollHeight},Clear:function(){e.cmdWindow.value="~JaHOVA OS >>";e.cmdWindow.scrollTop=e.cmdWindow.scrollHeight},EvaluateInput:function(b){var f=b.keyCode?b.keyCode:b.charCode;13==f?(b.preventDefault(),lastIndex=a.console.cmdWindow.value.lastIndexOf("~JaHOVA OS >>"),lastInput=a.console.cmdWindow.value.substring(lastIndex+13),cmdIndex=
lastInput.indexOf(" "),cmdString=0<cmdIndex?lastInput.substring(0,cmdIndex).toUpperCase():lastInput.toUpperCase(),(cmd=a.console.Commands.get(cmdString))?cmd.Execute(lastInput.substring(cmdIndex+1)):e.AppendComment("Command: "+cmdString+"\nNot Found, type help to get a list of loaded commands"),e.Comment(""),a.console.length=0):38==f?cmd&&(e.cmdWindow.value+=lastInput,e.cmdWindow.scrollTop=e.cmdWindow.scrollHeight):8==f?0<a.console.length?a.console.length--:b.preventDefault():31<f&&a.console.length++},
ProcessInputString:function(){lastIndex=a.console.cmdWindow.value.lastIndexOf("~JaHOVA OS >>");lastInput=a.console.cmdWindow.value.substring(lastIndex+13);cmdIndex=lastInput.indexOf(" ");cmdString=0<cmdIndex?lastInput.substring(0,cmdIndex).toUpperCase():lastInput.toUpperCase();(cmd=a.console.Commands.get(cmdString))?cmd.Execute(lastInput.substring(cmdIndex+1)):e.AppendComment("Command: "+cmdString+"\nNot Found, type help to get a list of loaded commands");e.Comment("");a.console.length=0}}}var g;
return{Instance:function(){g||(g=m());return g}}}();
com.jahova.utilities.Instance().Timer=function(){function m(){var b=null,a=null,e=null,c=!1,f=com.jahova.os.Instance().resschmgr.Create.Map(),g=function(b,a){this.name=b;this.time=a};return{log:null,Initialize:function(){this.log=[];e=0},Start:function(){c=!0;return b=(new Date).getTime()},Stop:function(){var e=(new Date).getTime();c=!1;return a+=e-b},Lap:function(p){var l=(new Date).getTime();if(c){a+=l-b;l=a-e;e+=l;var n=new g(p,l);this.log.push(n);f.put(p,n);b=(new Date).getTime();return l}return null},
Reset:function(){e=a=b=0;this.log=[];f.removeAll()},GetElapsedTime:function(){var e=(new Date).getTime();c&&(a+=e-b,b=e);return a},GetName:function(){return"JaHOVA Utilities : Timer Module"},GetLap:function(b){return f.get(b)},RemoveLap:function(b){f.remove(b)},GetVersion:function(){return"0v3"},GetPath:function(){return"scripts/jahova/Utilities/Console/jahova.utilities.timer.js"}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.utilities.Instance().DebugBar=function(){function m(){var b=!0,a=com.jahova.os.Instance();return{ConsolePagePinned:!1,LogsPagePinned:!1,SettingsPagePinned:!1,GetName:function(){return"JaHOVA Utilities : Debug Bar"},GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/Utilities/DebugBar/jahova.utilities.debugbar.js"},GetStatus:function(){return b},Enable:function(){b=!0;a.Elements.DebugBar.style.display="block"},Disable:function(){b=!1;a.Elements.DebugBar.style.display=
"none"},Initialize:function(){window.onkeydown=a.debugbar.EvaluateShortCuts;a.debugbar.Build()},Build:function(){a.Elements.DebugBar=document.createElement("div");a.Elements.DebugBar.id="com.jahova.debugBar";a.Elements.DebugBar.className="ideSidebar appBaseColor";document.body.appendChild(a.Elements.DebugBar);a.Elements.DebugBarConsoleTab=document.createElement("div");a.Elements.DebugBarConsoleTab.id="com.jahova.debugBar.Console.Tab";a.Elements.DebugBarConsoleTab.className="ideSidebarTabFolderView jahova_borRadR2 sidebarTabColor";
a.Elements.DebugBar.appendChild(a.Elements.DebugBarConsoleTab);a.Elements.DebugBarConsoleTabLabel=document.createElement("div");a.Elements.DebugBarConsoleTabLabel.id="com.jahova.debugBar.Console.Tab.Label";a.Elements.DebugBarConsoleTabLabel.className="ideSidebarTabTextFolderView textColorWhite";a.Elements.DebugBarConsoleTabLabel.innerHTML="Console";a.Elements.DebugBarConsoleTab.appendChild(a.Elements.DebugBarConsoleTabLabel);a.Elements.DebugBarConsole=document.createElement("div");a.Elements.DebugBarConsole.id=
"com.jahova.debugBar.Console.Wrapper";a.Elements.DebugBarConsole.className="ideSidebarPageFolderView sidebarTabColor jahova_borRadL2 jahova_borRadB2 jahova_transWp5s";a.Elements.DebugBarConsoleTab.appendChild(a.Elements.DebugBarConsole);a.Elements.DebugBarConsoleHeader=document.createElement("div");a.Elements.DebugBarConsoleHeader.id="com.jahova.debugBar.Console.Header";a.Elements.DebugBarConsoleHeader.className="ideSidebarFolderHeader jahova_borRadT2 menuColor";a.Elements.DebugBarConsole.appendChild(a.Elements.DebugBarConsoleHeader);
a.Elements.DebugBarConsoleHeaderLabel=document.createElement("div");a.Elements.DebugBarConsoleHeaderLabel.id="com.jahova.debugBar.Console.Header.Label";a.Elements.DebugBarConsoleHeaderLabel.className="ideSidebarFolderH3";a.Elements.DebugBarConsoleHeaderLabel.innerHTML="Terminal Window";a.Elements.DebugBarConsoleHeader.appendChild(a.Elements.DebugBarConsoleHeaderLabel);a.Elements.DebugBarConsoleHeaderPin=document.createElement("div");a.Elements.DebugBarConsoleHeaderPin.id="com.jahova.debugBar.Console.Header.Pin";
a.Elements.DebugBarConsoleHeaderPin.className="ideSidebarPin";a.Elements.DebugBarConsoleHeaderPin.onclick=this.AnchorPage;a.Elements.DebugBarConsoleHeader.appendChild(a.Elements.DebugBarConsoleHeaderPin);a.Elements.DebugBarConsoleIconHeader=document.createElement("div");a.Elements.DebugBarConsoleIconHeader.id="com.jahova.debugBar.Console.Icons";a.Elements.DebugBarConsoleIconHeader.className="ideSidebarFolderIconHeader iconColor";a.Elements.DebugBarConsole.appendChild(a.Elements.DebugBarConsoleIconHeader);
a.Elements.DebugBarConsoleContent=document.createElement("div");a.Elements.DebugBarConsoleContent.id="com.jahova.debugBar.Console.Content";a.Elements.DebugBarConsoleContent.className="ideSidebarFolderContent jahova_borRadB2 viewContentBkgColor";a.Elements.DebugBarConsole.appendChild(a.Elements.DebugBarConsoleContent);a.console.cmdWindow.style.border="0px";a.console.cmdWindow.style.height="503px";a.Elements.DebugBarConsoleContent.appendChild(a.console.cmdWindow);a.Elements.DebugBarLogTab=document.createElement("div");
a.Elements.DebugBarLogTab.id="com.jahova.debugBar.Log.Tab";a.Elements.DebugBarLogTab.className="ideSidebarTabFolderView jahova_borRadR2 sidebarTabColor";a.Elements.DebugBar.appendChild(a.Elements.DebugBarLogTab);a.Elements.DebugBarLogTabLabel=document.createElement("div");a.Elements.DebugBarLogTabLabel.id="com.jahova.debugBar.Log.TabLabel";a.Elements.DebugBarLogTabLabel.className="ideSidebarTabTextFolderView textColorWhite";a.Elements.DebugBarLogTabLabel.innerHTML="Logs";a.Elements.DebugBarLogTab.appendChild(a.Elements.DebugBarLogTabLabel);
a.Elements.DebugBarLog=document.createElement("div");a.Elements.DebugBarLog.id="com.jahova.debugBar.Log.Wrapper";a.Elements.DebugBarLog.className="ideSidebarPageFolderView sidebarTabColor jahova_borRadL2 jahova_borRadB2 jahova_transWp5s";a.Elements.DebugBarLogTab.appendChild(a.Elements.DebugBarLog);a.Elements.DebugBarLogHeader=document.createElement("div");a.Elements.DebugBarLogHeader.id="com.jahova.debugBar.Log.Header";a.Elements.DebugBarLogHeader.className="ideSidebarFolderHeader jahova_borRadT2 menuColor";
a.Elements.DebugBarLog.appendChild(a.Elements.DebugBarLogHeader);a.Elements.DebugBarLogHeaderLabel=document.createElement("div");a.Elements.DebugBarLogHeaderLabel.id="com.jahova.debugBar.Log.Header.Label";a.Elements.DebugBarLogHeaderLabel.className="ideSidebarFolderH3";a.Elements.DebugBarLogHeaderLabel.innerHTML="JaHOVA Logs";a.Elements.DebugBarLogHeader.appendChild(a.Elements.DebugBarLogHeaderLabel);a.Elements.DebugBarLogHeaderPin=document.createElement("div");a.Elements.DebugBarLogHeaderPin.id=
"com.jahova.debugBar.Log.Header.Pin";a.Elements.DebugBarLogHeaderPin.className="ideSidebarPin";a.Elements.DebugBarLogHeaderPin.onclick=this.AnchorPage;a.Elements.DebugBarLogHeader.appendChild(a.Elements.DebugBarLogHeaderPin);a.Elements.DebugBarLogIconHeader=document.createElement("div");a.Elements.DebugBarLogIconHeader.id="com.jahova.debugBar.Log.Icons";a.Elements.DebugBarLogIconHeader.className="ideSidebarFolderIconHeader iconColor";a.Elements.DebugBarLog.appendChild(a.Elements.DebugBarLogIconHeader);
a.Elements.DebugBarLogContent=document.createElement("pre");a.Elements.DebugBarLogContent.id="com.jahova.debugBar.Log.Content";a.Elements.DebugBarLogContent.className="ideSidebarFolderContent jahova_borRadB2 viewContentBkgColor";a.Elements.DebugBarLog.appendChild(a.Elements.DebugBarLogContent);a.Elements.DebugBarSettingsTab=document.createElement("div");a.Elements.DebugBarSettingsTab.id="com.jahova.debugBar.Settings.Tab";a.Elements.DebugBarSettingsTab.className="ideSidebarTabFolderView jahova_borRadR2 sidebarTabColor";
a.Elements.DebugBar.appendChild(a.Elements.DebugBarSettingsTab);a.Elements.DebugBarSettingsTabLabel=document.createElement("div");a.Elements.DebugBarSettingsTabLabel.id="com.jahova.debugBar.Settings.TabLabel";a.Elements.DebugBarSettingsTabLabel.className="ideSidebarTabTextFolderView textColorWhite";a.Elements.DebugBarSettingsTabLabel.innerHTML="Settings";a.Elements.DebugBarSettingsTab.appendChild(a.Elements.DebugBarSettingsTabLabel);a.Elements.DebugBarSettings=document.createElement("div");a.Elements.DebugBarSettings.id=
"com.jahova.debugBar.Settings.Wrapper";a.Elements.DebugBarSettings.className="ideSidebarPageFolderView sidebarTabColor jahova_borRadL2 jahova_borRadB2 jahova_transWp5s";a.Elements.DebugBarSettingsTab.appendChild(a.Elements.DebugBarSettings);a.Elements.DebugBarSettingsHeader=document.createElement("div");a.Elements.DebugBarSettingsHeader.id="com.jahova.debugBar.Settings.Header";a.Elements.DebugBarSettingsHeader.className="ideSidebarFolderHeader jahova_borRadT2 menuColor";a.Elements.DebugBarSettings.appendChild(a.Elements.DebugBarSettingsHeader);
a.Elements.DebugBarSettingsHeaderLabel=document.createElement("div");a.Elements.DebugBarSettingsHeaderLabel.id="com.jahova.debugBar.Settings.Header.Label";a.Elements.DebugBarSettingsHeaderLabel.className="ideSidebarFolderH3";a.Elements.DebugBarSettingsHeaderLabel.innerHTML="JaHOVA Settings";a.Elements.DebugBarSettingsHeader.appendChild(a.Elements.DebugBarSettingsHeaderLabel);a.Elements.DebugBarSettingsHeaderPin=document.createElement("div");a.Elements.DebugBarSettingsHeaderPin.id="com.jahova.debugBar.Settings.Header.Pin";
a.Elements.DebugBarSettingsHeaderPin.className="ideSidebarPin";a.Elements.DebugBarSettingsHeaderPin.onclick=this.AnchorPage;a.Elements.DebugBarSettingsHeader.appendChild(a.Elements.DebugBarSettingsHeaderPin);a.Elements.DebugBarSettingsIconHeader=document.createElement("div");a.Elements.DebugBarSettingsIconHeader.id="com.jahova.debugBar.Settings.Icons";a.Elements.DebugBarSettingsIconHeader.className="ideSidebarFolderIconHeader iconColor";a.Elements.DebugBarSettings.appendChild(a.Elements.DebugBarSettingsIconHeader);
a.Elements.DebugBarSettingsContent=document.createElement("div");a.Elements.DebugBarSettingsContent.id="com.jahova.debugBar.Settings.Content";a.Elements.DebugBarSettingsContent.className="ideSidebarFolderContent jahova_borRadB2 viewContentBkgColor";a.Elements.DebugBarSettings.appendChild(a.Elements.DebugBarSettingsContent)},AnchorPage:function(b){var c=b.target.id,c=c.substring(20),c=c.substring(0,c.indexOf("."));"CONSOLE"==c.toUpperCase()?a.debugbar.AnchorConsolePage(b):"LOG"==c.toUpperCase()?a.debugbar.AnchorLogsPage(b):
"SETTINGS"==c.toUpperCase()&&a.debugbar.AnchorSettingsPage(b)},AnchorConsolePage:function(b){"ideSidebarPinned"==a.Elements.DebugBarConsoleHeaderPin.className?(a.Elements.DebugBarConsole.className="ideSidebarPageFolderView sidebarTabColor jahova_borRadL2 jahova_borRadB2 jahova_transWp5s",a.Elements.DebugBarConsole.style.width="",a.Elements.DebugBarConsoleHeaderPin.className="ideSidebarPin",a.Elements.DebugBarConsoleHeaderLabel.className="ideSidebarFolderH3",a.Elements.DebugBarConsoleContent.className=
"ideSidebarFolderContent jahova_borRadB2 viewContentBkgColor",a.Elements.DebugBarConsoleHeaderLabel.innerHTML="Terminal Window",this.ConsolePagePinned=!1):(a.Elements.DebugBarConsole.className="ideSidebarPageFolderViewPinned sidebarTabColor jahova_borRadL2 jahova_borRadB2",a.Elements.DebugBarConsole.style.width="560px",a.Elements.DebugBarConsoleHeaderPin.className="ideSidebarPinned",a.Elements.DebugBarConsoleHeaderLabel.className="ideSidebarFolderH3Pinned",a.Elements.DebugBarConsoleContent.className=
"ideSidebarFolderContentPinned jahova_borRadB2 viewContentBkgColor",a.Elements.DebugBarConsoleHeaderLabel.innerHTML="Terminal Window",this.ConsolePagePinned=!0)},AnchorLogsPage:function(b){"ideSidebarPinned"==a.Elements.DebugBarLogHeaderPin.className?(a.Elements.DebugBarLog.className="ideSidebarPageFolderView sidebarTabColor jahova_borRadL2 jahova_borRadB2 jahova_transWp5s",a.Elements.DebugBarLogHeaderPin.className="ideSidebarPin",a.Elements.DebugBarLogHeaderLabel.className="ideSidebarFolderH3",a.Elements.DebugBarLogContent.className=
"ideSidebarFolderContent jahova_borRadB2 viewContentBkgColor",a.Elements.DebugBarLogHeaderLabel.innerHTML="JaHOVA Logs",this.LogsPagePinned=!1):(a.Elements.DebugBarLog.className="ideSidebarPageFolderViewPinned sidebarTabColor jahova_borRadL2 jahova_borRadB2",a.Elements.DebugBarLogHeaderPin.className="ideSidebarPinned",a.Elements.DebugBarLogHeaderLabel.className="ideSidebarFolderH3Pinned",a.Elements.DebugBarLogContent.className="ideSidebarFolderContentPinned jahova_borRadB2 viewContentBkgColor",a.Elements.DebugBarLogHeaderLabel.innerHTML=
"JaHOVA Logs",this.LogsPagePinned=!0)},AnchorSettingsPage:function(b){"ideSidebarPinned"==a.Elements.DebugBarSettingsHeaderPin.className?(a.Elements.DebugBarSettings.className="ideSidebarPageFolderView sidebarTabColor jahova_borRadL2 jahova_borRadB2 jahova_transWp5s",a.Elements.DebugBarSettingsHeaderPin.className="ideSidebarPin",a.Elements.DebugBarSettingsHeaderLabel.className="ideSidebarFolderH3",a.Elements.DebugBarSettingsContent.className="ideSidebarFolderContent jahova_borRadB2 viewContentBkgColor",
a.Elements.DebugBarSettingsHeaderLabel.innerHTML="JaHOVA Settings",this.SettingsPagePinned=!1):(a.Elements.DebugBarSettings.className="ideSidebarPageFolderViewPinned sidebarTabColor jahova_borRadL2 jahova_borRadB2",a.Elements.DebugBarSettingsHeaderPin.className="ideSidebarPinned",a.Elements.DebugBarSettingsHeaderLabel.className="ideSidebarFolderH3Pinned",a.Elements.DebugBarSettingsContent.className="ideSidebarFolderContentPinned jahova_borRadB2 viewContentBkgColor",a.Elements.DebugBarSettingsHeaderLabel.innerHTML=
"JaHOVA Settings",this.SettingsPagePinned=!0)},EvaluateShortCuts:function(b){var c=b.keyCode?b.keyCode:b.charCode;b.ctrlKey&&192==c&&(a.debugbar.GetStatus()?a.debugbar.Disable():a.debugbar.Enable())}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Kernel=function(){function m(){var b=com.jahova.os.Instance(),a=null;return{GetName:function(){return"JaHOVA OS Kernel"},GetVersion:function(){return"0v3"},GetPath:function(){return"scripts/jahova/OS/Kernel/jahova.os.kernel.js"},Initialize:function(){b.Kernel.Instance();a=com.jahova.utilities.Instance();a.Console.Instance();debug=a.DebugBar.Instance();document.getElementById("com.jahova")&&(b.Elements.JaHOVA=document.getElementById("com.jahova"),b.Elements.JaHOVA.className=
"mainContent appBaseColor")},Command:null,ResSchMgr:null,Instruction:null}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Kernel.Instance().Command=function(){function m(){var b=com.jahova.os.Instance(),a=com.jahova.utilities.Instance().Console.Instance();return{Core:null,GetName:function(){return"JaHOVA OS Kernel : Command Module"},GetVersion:function(){return"0v3"},GetPath:function(){return"scripts/jahova/OS/Kernel/jahova.os.kernel.command.js"},Interface:null,Initialize:function(){b.console.AppendComment("Initializing Command Module\n");b.command.Interface=b.resschmgr.Create.Map();var a=b.resschmgr.CoreManager.RegisterResource("com.jahova.os.kernel.command",
b.command.GetPath(),!1);b.command.Core=b.resschmgr.CoreManager.GetCoreByID(a);b.command.Core.OnRequest=b.command.OnRequest;b.resschmgr.CoreManager.ActivateResource(a);b.command.Interface.put("GetResources",b.command.GetResources);b.command.Interface.put("Display",b.command.Display)},OnRequest:function(a){a=a.jahovaos;for(var c=a.length,f=0;f<c;f++)null!=a[f].InterfaceName?b.command.Interface.get(a[f].InterfaceName)(a[f]):b.command.Interface.get(a[f].InterfaceID)(a[f])},Display:function(b){var c=(new Date).getTime();
a.AppendComment("Kernel::Command Module:: Request Received");a.AppendComment("Current Time: "+c);a.AppendComment("Transit Time: "+(c-b.SendTime)+"ms");a.AppendComment("     Sender ID:       "+b.SenderID);a.AppendComment("     Receiver ID:     "+b.ReceiverID);a.AppendComment("     Data:         "+b.Data);a.AppendComment("     Priority:        "+b.Priority);a.AppendComment("     Interface ID:    "+b.InterfaceID);a.AppendComment("     Interface Name:  "+b.InterfaceName);a.AppendComment("     Send Time:       "+
b.SendTime);a.AppendComment("     Delivery Time:   "+b.DeliveryTime);a.AppendComment("     Call Back Func:  "+b.CallBackFunction);a.AppendComment("     Call Back ID:    "+b.CallBackInterfaceID);a.Comment("")},GetResources:function(a){for(var c=b.resschmgr.CoreManager.GetAllResources(),f=[],g=c.length,p=0;p<g;p++)f.push({id:c[p].GetID(),name:c[p].name,path:c[p].path});g=(new Date).getTime();c=b.resschmgr.Create.Instruction();c.SenderID=b.command.Core.GetID();c.ReceiverID=a.SenderID;c.Data=f;c.Priority=
a.Priority;c.InterfaceID=a.CallBackInterfaceID;c.InterfaceName=a.CallBackFunction;c.SendTime=g;c.DeliveryTime=g;c.CallBackInterfaceID=a.CallBackInterfaceID;a=[];a.push(c);f=b.resschmgr.CoreManager.GetCoreByID(c.ReceiverID);f=b.resschmgr.EventManager.GetEventObjectByName(f.name).GetEventsByName("onRequest")[0];b.command.Core.SendRequest.apply(f,[a])}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Kernel.Instance().ResSchMgr=function(){function m(){var b=null,a=com.jahova.os.Instance();com.jahova.utilities.Instance();var e=function(){var b=!1;try{b=new XMLHttpRequest}catch(a){for(var d=["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<d.length;++c){try{b=new ActiveXObject(d[c])}catch(h){continue}break}}finally{return b}},c=function(b){var a=b,d;this.os=com.jahova.os.Instance();this.utilities=com.jahova.utilities.Instance();
this.OnRequest=this.Dispatcher=this.SendRequest=this.threadSafe=this.path=this.osName=this.name=null;this.Interface=this.os.resschmgr.Create.Map();this.SetID=function(b){a=b};this.GetID=function(){return a};this.SetState=function(b){d=b};this.GetState=function(){return d}},f=function(b,a,d,c,h,l,e){this.os=com.jahova.os.Instance();this.utilities=com.jahova.utilities.Instance();this.scope=this;this.id=b;this.target=a;this.name=d;this.eventType=c;this.custom=h;this.cancelable=this.can_bubble=!1;this.event;
this.nextID=0;this.Subscribers=this.os.resschmgr.Create.Map();this.Name2ID=this.os.resschmgr.Create.Map();this.custom?document.createEvent?window.Worker&&this.target instanceof Worker?this.event=document.createEvent("MessageEvent"):(this.event=document.createEvent("MouseEvents"),this.event.initMouseEvent("click",!1,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):this.target.constructor!=Worker&&(this.event=document.createEventObject()):document.createEvent?/Konqueror|Safari|KHTML/.test(navigator.userAgent)?
(this.event=document.createEvent(this.eventType),this.event.initEvent(this.name,this.can_bubble,this.cancelable)):(this.event=document.createEvent(this.eventType),this.event.initMouseEvent(this.name,this.can_bubble,this.cancelable,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):this.event=document.createEventObject()};f.prototype.Subscribe=function(b,a,d,c){this.nextID++;var h=this.nextID;a=new this.os.resschmgr.Create.Subscriber(b,h,a,d,c);this.Subscribers.put(h,a);this.Name2ID.put(b,h);this.custom?window.Worker&&
this.target instanceof Worker?void 0!=this.target.attachEvent?this.target.attachEvent("onmessage",d):this.target.addEventListener("message",d,c):void 0!=this.target.attachEvent?this.target.attachEvent("onclick",d):this.target.addEventListener("click",d,c):void 0!=this.target.attachEvent?this.target.attachEvent("on"+this.name,d):this.target.addEventListener(this.name,d,c);return a};f.prototype.Unsubscribe=function(b){var a=this.Subscribers.get(b);this.custom?void 0!=this.target.detachEvent?this.target.detachEvent("onclick",
a.callback):this.target.removeEventListener("click",a.callback,!1):void 0!=this.target.detachEvent?this.target.detachEvent("on"+this.name,a.callback):this.target.removeEventListener(this.name,a.callback,a.capture);Name2ID.remove(a.name);Subscribers.remove(b)};f.prototype.RemoveAllSubscribers=function(){for(var b=0;b++<this.Subscribers.size;this.Subscribers.next())this.Unsubscribe(Subscribers.value().id)};f.prototype.Dispatch=function(b){return this.custom?(this.event.jahovaos=b,document.createEvent?
window.Worker&&this.target instanceof Worker?this.target.postMessage(b):this.target.dispatchEvent(this.event):this.target.fireEvent("onclick",this.event)):document.createEvent?this.target.dispatchEvent(this.event):this.target.fireEvent("on"+this.name,this.event)};f.prototype.GetSubscriberByID=function(b){return this.Subscribers.get(b)};f.prototype.GetSubscribersByName=function(b){for(var a=!1,d=0;d++<this.Subscribers.size;this.Subscribers.next())this.Subscribers.value().name==b&&(a||(a=[]),a.push(this.Subscribers.value()));
return a};f.prototype.GetSubscriberID=function(b){return this.Subscribers.get(this.Name2ID.get(b))};var g=function(b,a,d,c){this.os=com.jahova.os.Instance();this.utilities=com.jahova.utilities.Instance();this.id=b;this.name=a;this.target;this.targetID=c;this.custom=d;this.nextID=0;this.PublishedEvents=this.os.resschmgr.Create.Map();this.Name2ID=this.os.resschmgr.Create.Map();this.custom?isNaN(this.targetID)?this.target=new Worker(this.targetID):(this.target=document.createElement("a"),this.target.name=
this.name,this.target.id=this.targetID,document.body.appendChild(this.target)):this.target=document.getElementById(this.targetID)};g.prototype.PublishEvent=function(b,a,d,c){this.nextID++;var h=this.nextID;a=this.os.resschmgr.Create.Event(h,this.target,b,a,this.custom,d,c);this.PublishedEvents.put(h,a);this.Name2ID.put(b,h);return a};g.prototype.UnpublishEvent=function(b){var a=this.PublishedEvents.get(b);a.RemoveAllSubscribers();this.Name2ID.remove(a.name);this.PublishedEvents.remove(b)};g.prototype.UnpublishAllEvents=
function(){for(var b=0;b++<this.PublishedEvents.size;this.PublishedEvents.next())this.PublishedEvents.value().RemoveAllSubscribers()};g.prototype.GetEventByID=function(b){return this.PublishedEvents.get(b)};g.prototype.GetEventsByName=function(b){for(var a=!1,d=0;d++<this.PublishedEvents.size;this.PublishedEvents.next())this.PublishedEvents.value().name==b&&(a||(a=[]),a.push(this.PublishedEvents.value()));return a};g.prototype.GetEventID=function(b){return this.PublishedEvents.get(this.Name2ID.get(b))};
var p=function(b,a,d,c,h){this.name=b;this.id=a;this.eventName=d;this.callback=c;this.capture=h},l=function(){this.CallBackInterfaceID=this.CallBackFunction=this.DeliveryTime=this.SendTime=this.InterfaceName=this.InterfaceID=this.Priority=this.Data=this.ReceiverID=this.SenderID=null},n=function(b,a,d,c){this.name=b;this.callback=a;this.scope=d;this.help=c};n.prototype.Execute=function(){this.callback.apply(this.scope,arguments)};var r=function(b){this.current=void 0;this.size=0;this.isLinked=!0;!1===
b&&this.disableLinking();this.from=function(b,a,k){k=new Map(k);for(var d in b)(a||b.hasOwnProperty(d))&&k.put(d,b[d]);return k};this.noop=function(){return this};this.illegal=function(){throw Error("can't do this with unlinked maps");};this.reverseIndexTableFrom=function(b,a){for(var k=new Map(a),d=0,c=b.length;d<c;++d){var h=b[d],l=k.get(h);l?l.push(d):k.put(h,[d])}return k};this.cross=function(b,a,d,k){var c,h;b.isLinked?(c=b,h=a):a.isLinked?(c=a,h=b):Map.illegal();for(var l=c.size;l--;c.next()){var e=
c.key();h.contains(e)&&d.call(k,e,b.get(e),a.get(e))}return k};this.uniqueArray=function(b){for(var a=new Map,k=0,d=b.length;k<d;++k)a.put(b[k]);return a.listKeys()}};r.prototype.disableLinking=function(){this.isLinked=!1;this.disableLinking=this.unlink=this.link=Map.noop;this.listValues=this.listKeys=this.drop=this.flip=this.each=this.removeAll=this.value=this.key=this.next=Map.illegal;return this};r.prototype.hash=function(b){return b instanceof Object?b.__hash||(b.__hash="object "+ ++arguments.callee.current):
typeof b+" "+String(b)};r.prototype.hash.current=0;r.prototype.link=function(b){0===this.size?(b.prev=b,this.current=b.next=b):(b.prev=this.current.prev,b.prev.next=b,b.next=this.current,this.current.prev=b)};r.prototype.unlink=function(b){0===this.size?this.current=void 0:(b.prev.next=b.next,b.next.prev=b.prev,b===this.current&&(this.current=b.next))};r.prototype.get=function(b){b=this[this.hash(b)];return"undefined"===typeof b?void 0:b.value};r.prototype.put=function(b,a){var d=this.hash(b);if(this.hasOwnProperty(d))this[d].value=
a;else{var c={key:b,value:a};this[d]=c;this.link(c);++this.size}return this};r.prototype.remove=function(b){b=this.hash(b);this.hasOwnProperty(b)&&(--this.size,this.unlink(this[b]),delete this[b]);return this};r.prototype.removeAll=function(){for(;this.size;)this.remove(this.key());return this};r.prototype.contains=function(b){return this.hasOwnProperty(this.hash(b))};r.prototype.isUndefined=function(b){b=this.hash(b);return this.hasOwnProperty(b)?"undefined"===typeof this[b]:!1};r.prototype.next=
function(){this.current=this.current.next};r.prototype.key=function(){return this.current.key};r.prototype.value=function(){return this.current.value};r.prototype.each=function(b,a){"undefined"===typeof a&&(a=this);for(var d=this.size;d--;this.next()){var c=b.call(a,this.key(),this.value(),0<d);"number"===typeof c&&(d+=c)}return this};r.prototype.flip=function(b){b=new Map(b);for(var a=this.size;a--;this.next()){var d=this.value(),c=b.get(d);c?c.push(this.key()):b.put(d,[this.key()])}return b};r.prototype.drop=
function(b,a){"undefined"===typeof a&&(a=this);for(var d=this.size;d--;)b.call(a,this.key(),this.value())?(this.remove(this.key()),--d):this.next();return this};r.prototype.listValues=function(){for(var b=[],a=this.size;a--;this.next())b.push(this.value());return b};r.prototype.listKeys=function(){for(var b=[],a=this.size;a--;this.next())b.push(this.key());return b};r.prototype.toString=function(){function b(d,c,k){a+="    { "+this.hash(d)+" : "+c+" }"+(k?",":"")+"\n"}var a="[object Map";this.isLinked&&
this.size&&(a+="\n",this.each(b));return a+="]"};var s=function(){this.q=[]};s.prototype.push=function(b){this.q.push(b)};s.prototype.pop=function(){return this.q.splice(0,1)};s.prototype.push_front=function(b){this.q.unshift(b)};s.prototype.push_back=function(b){this.q.push(b)};s.prototype.pop_front=function(){return this.q.splice(0,1)};s.prototype.pop_back=function(){return this.q.pop()};s.prototype.length=function(){return this.q.length};s.prototype.toString=function(){return this.q.toString()};
s.prototype.at=function(b){return this.q[b]};s.prototype.set=function(b,a){this.q[b]=a};s.prototype.find=function(b){for(var a=!1,d=0;d<this.q.length;d++)"function"==typeof b?b.test(this.q[d])&&(a||(a=[]),a.push(d)):this.q[d]===b&&(a||(a=[]),a.push(d));return a};s.prototype.remove=function(b){this.q.splice(b,1)};var d=function(){this.vertexPositions=[];this.vertexNormals=[];this.vertexTextureCoords=[];this.indices=[]},h=function(b,d,c,h,l,e){var f=function(d){null!=this.onclose&&this.onclose.apply(this.onclosescope,
[d]);a.resschmgr.WindowManager.Windows.remove(b);document.body.removeChild(this.Elements.Window)}.bind(this),r=function(b){null!=this.onmin&&this.onmin.apply(this.onminscope,[b]);this.isMinimized?(this.Elements.Body.setAttribute("style",""),this.Elements.Status.setAttribute("style",""),this.Elements.Menu.setAttribute("style",""),this.Elements.HeaderButtons.setAttribute("style",""),this.Elements.Header.setAttribute("style",""),this.Elements.Window.style.position="absolute",this.Elements.Window.style.width=
this.width+"px",this.Elements.Window.style.height=this.height+"px",this.Elements.Window.style.top=this.top,this.Elements.Window.style.left=this.left,this.Elements.Window.className="outputWindow",document.body.appendChild(this.Elements.Window),this.Elements.Header.onclick="",this.isMinimized=!1):(this.Elements.Body.style.display="none",this.Elements.Status.style.display="none",this.Elements.Menu.style.display="none",this.Elements.HeaderButtons.style.display="none",this.Elements.Header.style.overflow=
"hidden",this.Elements.Header.style.resize="none",this.Elements.Header.style.width="100%",this.Elements.Header.style.height="100%",this.Elements.Header.style.borderTopLeftRadius="0px",this.Elements.Header.style.borderTopRightRadius="0px",this.left=this.Elements.Window.style.left,this.top=this.Elements.Window.style.top,this.Elements.Window.className="",this.Elements.Window.style.height="25px",this.Elements.Window.style.width="150px",this.Elements.Window.style.top="",this.Elements.Window.style.left=
"",this.Elements.Window.style.borderRight="1px solid black",this.Elements.Window.style.position="relative",this.Elements.Window.style["float"]="left",this.Elements.Window.style.cssFloat="left",this.Elements.Window.style.display="inline-block","VISIBLE"==a.windows.Desktop.Get.state.desktop()&&(a.windows.Desktop.Elements.dock.AppendChild(this.Elements.Window),this.Elements.Header.onclick=r),this.isMinimized=!0);b.stopPropagation()}.bind(this),n=function(b){null!=this.onmax&&this.onmax.apply(this.onmaxscope,
[b]);this.isMaximized?(this.isMaximized=!1,this.Elements.Window.style.width=this.width+"px",this.Elements.Window.style.height=this.height+"px",this.Elements.Window.style.top=this.top,this.Elements.Window.style.left=this.left,this.Elements.Window.style.borderRight="",this.Elements.Status.setAttribute("style","")):(this.isMaximized=!0,this.left=this.Elements.Window.style.left,this.top=this.Elements.Window.style.top,this.Elements.Window.style.width="100%",this.Elements.Window.style.height=window.innerHeight-
46+"px",this.Elements.Window.style.top="20px",this.Elements.Window.style.left="0px",this.Elements.Window.style.border="none",this.makeActive());b.stopPropagation()}.bind(this);this.makeActive=function(b){a.resschmgr.WindowManager.ActiveWindow&&(a.resschmgr.WindowManager.ActiveWindow.Elements.Header.onmousedown=a.resschmgr.WindowManager.ActiveWindow.BeginDrag,a.resschmgr.WindowManager.ActiveWindow.Elements.Window.onclick=a.resschmgr.WindowManager.ActiveWindow.makeActive,a.resschmgr.WindowManager.ActiveWindow.Elements.Window.style.zIndex=
20,a.resschmgr.WindowManager.ActiveWindow.Elements.StatusText.innerHTML="Status: Inactive",a.resschmgr.WindowManager.ActiveWindow.Elements.Menu.style.display="none");this.Elements.Header.onmousedown=this.BeginDrag;this.Elements.Window.onclick="";this.Elements.Window.style.zIndex=25;this.Elements.StatusText.innerHTML="Status: Active";this.Elements.Menu.setAttribute("style","");a.resschmgr.WindowManager.ActiveWindow=this}.bind(this);this.width=c;this.height=h;this.top=l;this.left=e;this.onfocusscope=
this.onmaxscope=this.onminscope=this.onclosescope=this.onfocus=this.onmax=this.onmin=this.onclose=this.startTop=this.startLeft=this.startY=this.startX=null;this.isMaximized=this.isMinimized=!1;this.Elements={Window:document.createElement("div"),Header:document.createElement("div"),HeaderText:document.createElement("div"),HeaderButtons:document.createElement("div"),Close:document.createElement("div"),Min:document.createElement("div"),Max:document.createElement("div"),Body:document.createElement("div"),
Status:document.createElement("div"),StatusText:document.createElement("div"),Menu:document.createElement("div"),File:document.createElement("div"),Edit:document.createElement("div"),View:document.createElement("div")};this.Elements.Window.style.position="absolute";this.Elements.Window.style.width=this.width+"px";this.Elements.Window.style.height=this.height+"px";this.Elements.Window.style.top=this.top+"px";this.Elements.Window.style.left=this.left+"px";this.Elements.Window.className="outputWindow";
this.Elements.Window.id=b;this.Elements.Window.name=b;this.Elements.Window.onclick=this.makeActive;this.Elements.Window.onfocus=function(){alert("On Focus")};this.Elements.Window.onblur=function(){alert("On Blur")};this.Elements.Window.onactivate=function(){alert("On Activate")};this.Elements.Header.className="windowTitleBar";this.Elements.Header.id=b;this.Elements.HeaderButtons.className="macButtonsContainer";this.Elements.Close.className="mac_os_x_close";this.Elements.HeaderButtons.appendChild(this.Elements.Close);
this.Elements.Min.className="mac_os_x_minimize";this.Elements.HeaderButtons.appendChild(this.Elements.Min);this.Elements.Max.className="mac_os_x_maximize";this.Elements.HeaderButtons.appendChild(this.Elements.Max);this.Elements.Header.appendChild(this.Elements.HeaderButtons);this.Elements.Header.name=b;this.Elements.HeaderText.innerHTML=d;this.Elements.HeaderText.className="windowTitle";this.Elements.HeaderText.name=b;this.Elements.Header.appendChild(this.Elements.HeaderText);this.Elements.Window.appendChild(this.Elements.Header);
this.Elements.Close.onclick=f;this.Elements.Min.onclick=r;this.Elements.Max.onclick=n;this.Elements.File.className="windowMenu";this.Elements.File.innerHTML="File";this.Elements.Edit.className="windowMenu";this.Elements.Edit.innerHTML="Edit";this.Elements.View.className="windowMenu";this.Elements.View.innerHTML="View";this.Elements.Menu.className="windowMenuBarMac";this.Elements.Menu.name=b;this.Elements.Menu.appendChild(this.Elements.File);this.Elements.Menu.appendChild(this.Elements.Edit);this.Elements.Menu.appendChild(this.Elements.View);
this.Elements.Window.appendChild(this.Elements.Menu);this.Elements.Window.appendChild(this.Elements.Body);this.Elements.Status.className="windowStatusBar";this.Elements.Status.name=b;this.Elements.StatusText.innerHTML="Status: Active";this.Elements.StatusText.className="windowStatus";this.Elements.StatusText.name=b;this.Elements.Status.appendChild(this.Elements.StatusText);this.Elements.Window.appendChild(this.Elements.Status);document.body.appendChild(this.Elements.Window);a.resschmgr.WindowManager.Windows.put(b,
this);this.makeActive();return this};h.prototype.BeginDrag=function(b){var d=a.resschmgr.WindowManager.Windows.get(b.target.name);d&&(d.Elements.Window.style.zIndex=21,a.resschmgr.WindowManager.ActiveWindow&&(a.resschmgr.WindowManager.ActiveWindow.Elements.Window.style.zIndex=20),d.makeActive(),document.addEventListener("mouseup",d.DragStop,!1),document.addEventListener("mousemove",d.DragStart,!1),d.startX=b.clientX+window.scrollX,d.startY=b.clientY+window.scrollY,d.startLeft=parseInt(d.Elements.Window.style.left,
10),d.startTop=parseInt(d.Elements.Window.style.top,10),isNaN(d.startLeft)&&(d.startLeft=0),isNaN(d.startTop)&&(d.startTop=0));b.preventDefault()};h.prototype.DragStart=function(b,d){var c=a.resschmgr.WindowManager.ActiveWindow,h,l;h=b.clientX+window.scrollX;l=b.clientY+window.scrollY;c&&(c.Elements.Window.style.left=c.startLeft+h-c.startX+"px",c.Elements.Window.style.top=c.startTop+l-c.startY+"px");b.preventDefault()};h.prototype.DragStop=function(b,d){var c=a.resschmgr.WindowManager.ActiveWindow;
c&&(document.removeEventListener("mousemove",c.DragStart,!1),document.removeEventListener("mouseup",c.DragStop,!1))};h.prototype.Close=function(){a.resschmgr.WindowManager.Windows.remove(b);document.body.removeChild(this.Elements.Window)};h.prototype.Move=function(b,a){this.Elements.Window.style.top=b+"px";this.Elements.Window.style.left=a+"px";this.top=b;this.left=a};h.prototype.Resize=function(b,a){this.Elements.Window.style.width=b+"px";this.Elements.Window.style.height=a+"px";this.width=b;this.height=
a};return{CHTMLElement:function(b){var a=null,d="";this.Class={Add:function(b){d+=b+" ";return a.className=d},Remove:function(b){return d=d.replace(b,"")},ClearAll:function(){d="";a.className=""},Get:function(){return d}};this.AppendToID=function(b){document.getElementById(b).appendChild(a)};this.AppendTo=function(b){b.appendChild(a)};this.AppendChild=function(b){a.appendChild(b)};this.GetHeight=function(){return a.clientHeight};this.SetHTML=function(b){a=document.createElement(b)};this.SetID=function(b){a=
document.getElementById(b)};this.RemoveAllChildren=function(){if(a.hasChildNodes())for(;1<=a.childNodes.length;)a.removeChild(a.firstChild)};a=document.createElement(b);this.html=function(){return a};return this},CEntity:function(b){this.ID=function(){return b};this.Get={id:function(){return b}.bind(this)};this.Set={};this.Physics=this.AI=this.Graphics=null},GetName:function(){return"JaHOVA OS Kernel : Resource and Schedule Manager Module"},GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/OS/Kernel/jahova.os.kernel.resschmgr.js"},
GetID:function(){return b},Initialize:function(){a.console.AppendComment("Initializing Resource and Schedule Manager");a.console.AppendComment("        Initializing Core Manager");this.CoreManager.Initialize();a.console.AppendComment("        Initializing Event Manager");this.EventManager.Initialize();a.console.AppendComment("        Initializing Schedule Manager");this.ScheduleManager.Initialize();a.console.AppendComment("");b=this.CoreManager.RegisterResource("com.jahova.os.kernel.resschmgr","scripts/jahova/OS/Kernel/jahova.os.kernel.resschmgr.js",
!1);this.Core=this.CoreManager.Cores.get(b);this.Core.OnRequest=this.OnRequest},Core:null,OnRequest:function(b){},Create:{XHRObject:function(){return new e},Core:function(b){return new c(b)},Command:function(b,a,d,c){return new n(b,a,d,c)},Event:function(b,a,d,c,h,l,e){return new f(b,a,d,c,h,l,e)},EventObject:function(b,a,d,c){return new g(b,a,d,c)},Subscriber:function(b,a,d,c,h){return new p(b,a,d,c,h)},Instruction:function(){return new l},JSON:function(){return new d},Map:function(b){return new r(b)},
Queue:function(){return new s},Window:function(b,a,d,c,l,e){return new h(b,a,d,c,l,e)},HTMLElement:function(b){return new a.resschmgr.CHTMLElement(b)},Entity:function(b){return new a.resschmgr.CEntity(b)}},WindowManager:{NextID:0,ActiveWindow:null,Windows:new r},CoreManager:{NextID:0,Cores:null,Name2ID:null,GetCoreByID:function(b){return this.Cores.get(b)},GetCoreByName:function(b){return this.Cores.get(this.Name2ID.get(b))},GetAllResources:function(){for(var b=[],d=0;d++<a.resschmgr.CoreManager.Cores.size;a.resschmgr.CoreManager.Cores.next())b.push(a.resschmgr.CoreManager.Cores.value());
return b},Initialize:function(){this.Cores=a.resschmgr.Create.Map();this.Name2ID=a.resschmgr.Create.Map()},RegisterResource:function(b,d,c){var h=this.Name2ID.get(b);if(h)h=-1;else{var h=this.NextID++,l=a.resschmgr.Create.Core(h);l.name=b;l.SetID(h);l.osName="com_jahovaos_res_"+b;l.path=d;l.threadSafe=c;this.Cores.put(h,l);this.Name2ID.put(b,h)}return h},ActivateResource:function(b){b=this.Cores.get(b);var d;window.Worker&&b.threadSafe?(d=a.resschmgr.EventManager.PublishThread(b.name,a.GetDomain()+
b.path),d=d.PublishEvent("onRequest","message",!1,!0),d.Subscribe(b.name,"onRequest",a.instruction.AddRequest,!1),b.OnRequest=a.instruction.Core.Dispatcher):(d=a.resschmgr.EventManager.PublishEventObject(b.name,!0,b.GetID()),d=d.PublishEvent("onRequest","click",!1,!0),d.Subscribe(b.name,"onRequest",b.OnRequest,!1));b.Dispatcher=d.Dispatch;b.SendRequest=a.instruction.Core.Dispatcher;a.instruction.AddResource(b);b.SetState(2)},ActivateResSchMgrModule:function(){var d=!1;a.resschmgr.Core.OnRequest=a.resschmgr.OnRequest;
this.ActivateResource(b);2==a.resschmgr.Core.GetState()&&(d=!0);return d},ExecuteResource:function(){}},EventManager:{NextID:0,PublishedEventObjects:null,Name2ID:null,Initialize:function(){this.PublishedEventObjects=a.resschmgr.Create.Map();this.Name2ID=a.resschmgr.Create.Map()},PublishEventObject:function(b,d,c){this.NextID++;var h=this.NextID;d=a.resschmgr.Create.EventObject(h,b,d,c);this.PublishedEventObjects.put(d.id,d);this.Name2ID.put(b,h);return d},PublishThread:function(b,a){return this.PublishEventObject(b,
!0,a)},UnpublishEventObject:function(b){var a=this.PublishedEventObjects.get(b);a.UnpublishAllEvents();this.Name2ID.remove(a.name);this.PublishedEventObjects.remove(b)},GetEventObjectByID:function(b){return this.PublishedEventObjects.get(b)},GetEventObjectByName:function(b){var a=this.Name2ID.get(b);this.GetEventObjectByID(a);return this.PublishedEventObjects.get(this.Name2ID.get(b))},GetEventObjectID:function(b){return this.GetEventObjectByName(b).id}},ScheduleManager:{NextID:0,Initialize:function(){}}}}
var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Kernel.Instance().Instruction=function(){function m(){var b=null,a=com.jahova.os.Instance();com.jahova.utilities.Instance();return{GetName:function(){return"JaHOVA OS Kernel : Instruction Module"},GetVersion:function(){return"0v3"},GetPath:function(){return"scripts/jahova/OS/Kernel/jahova.os.kernel.instruction.js"},GetID:function(){return b},Core:null,Initialize:function(){a.console.AppendComment("Initializing Instruction Module");a.console.AppendComment("     Initializing Router");
this.Router.Initialize();a.console.AppendComment("");b=a.resschmgr.CoreManager.RegisterResource("com.jahova.os.kernel.instruction","scripts/jahova/OS/Kernel/jahova.os.kernel.instruction.js",!1);this.Core=a.resschmgr.CoreManager.Cores.get(b);var e=!1;this.Core.SetState(1);this.Core.OnRequest=this.AddRequest;a.resschmgr.CoreManager.ActivateResource(this.Core.GetID());2==this.Core.GetState()&&(e=!0);a.resschmgr.Core.GetState();return e},AddRequest:function(b){b instanceof MouseEvent?a.instruction.Router.Process(b.jahovaos):
b.target instanceof Worker?a.instruction.Router.Process(b.data):a.instruction.Router.Process(b)},AddResource:function(e){e.GetID()!=b&&this.Router.Cores.put(e.GetID(),{info:e,requests:a.resschmgr.Create.Queue()})},RemoveResource:function(b){this.Router.Cores.remove(b.GetID())},Router:{Requests:null,Cores:null,Initialize:function(){this.Requests=a.resschmgr.Create.Queue();this.Cores=a.resschmgr.Create.Map()},Process:function(b){for(var a=b.length,f=0;f<a;f++){var g=b.pop();this.Cores.get(g.ReceiverID).requests.push(g)}this.Route()},
Route:function(){for(var b=this.Cores.size,c=0;c++<b;this.Cores.next()){var f=this.Cores.value();if(0<f.requests.q.length){for(var g=[],p=f.requests.q.length,l=0;l<p;l++)g.push(f.requests.q[l]),f.requests.remove(l);p=a.resschmgr.EventManager.GetEventObjectByName(f.info.name).GetEventsByName("onRequest")[0];f.info.Dispatcher.apply(p,[g])}}0<this.Requests.q.length&&this.Process()}}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Cores=function(){function m(){com.jahova.os.Instance();return{GetName:function(){return"JaHOVA OS Internal APIs"},GetVersion:function(){return"0v3"},GetPath:function(){return"scripts/jahova/OS/Cores/jahova.os.cores.js"},GetID:function(){return null},Initialize:function(){},Network:null,HTML:null,Threads:null,Database:null,Audio:null,Input:null,Windows:null,Graphics:null}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Cores.Instance().Network=function(){function m(){var b=com.jahova.os.Instance();com.jahova.utilities.Instance();var a=function(){this.ModuleID=this.SessionID=this.UserID="";this.Data={Type:"",Args:""};this.FunctionID="";this.Parse=function(a){var c="";try{c=JSON.parse(a),this.UserID=c.UserID,this.SessionID=c.SessionID,this.Data=c.Data,this.ModuleID=c.ModuleID,this.FunctionID=c.FunctionID}catch(l){b.windows.Create.ErrorWindow("ERROR: JOS Server","Unable to parse message: <br/>"+
a)}};this.Serialize=function(){return JSON.stringify(this)}},e=function(){var c=function(){b.console.Comment("JaHOVA OS Server: Connection Opened");if(this.Events.onOpen)this.Events.onOpen()}.bind(this),e=function(){b.console.Comment("JaHOVA OS Server: Connection Closed");if(this.Events.onClose)this.Events.onClose()}.bind(this),l=function(c){var l=new a;l.Parse(c);if(this.Events.onMessage)this.Events.onMessage(l);"userID"==l.Data.Type&&(this.userID=l.Data.Args[0],this.mainSessionID=l.SessionID,b.console.Comment("JaHOVA OS Server ID Set: "+
this.userID))}.bind(this),f=function(b){if(this.Events.onError)this.Events.onError(b)}.bind(this);this.mainSessionID=this.userID=this.message=this.socket=null;this.Events={onOpen:null,onMessage:null,onClose:null,onError:null};this.Connect=function(){this.socket.Events.onOpen=c;this.socket.Events.onMessage=l;this.socket.Events.onClose=e;this.socket.Events.onError=f;this.socket.Open()};this.Send=function(b){this.socket.Send(b.Serialize())};this.Disconnect=function(){var b=new a;b.UserID=this.userID;
b.Data.Type="disconnect";this.Send(b)};this.Create={Session:function(b,c,d){var h=new a;h.SessionID=this.mainSessionID;h.UserID=this.userID;h.Data.Type="createSession";h.Data.Args=[b,c,d];h.ModuleID="";this.Send(h)}.bind(this),RegisteredSession:function(b,c){var d=new a;d.SessionID=this.mainSessionID;d.UserID=this.userID;d.Data.Type="createRegisteredSession";d.Data.Args=[b,c];d.ModuleID="";this.Send(d)}.bind(this),Module:function(b,c){var d=new a;d.SessionID="";d.UserID=this.userID;d.Data.Type="createModule";
d.Data.Args=[c];d.ModuleID=module;this.Send(d)}.bind(this),Function:function(b,c,d,h){var k=new a;k.SessionID="";k.UserID=this.userID;k.Data.Type="createFunction";k.Data.Args=[b,c,d,h];k.ModuleID=b;this.Send(k)}.bind(this),Message:function(){var b=new a;b.UserID=this.userID;return b}.bind(this)};this.Get={SessionList:function(b){var c=new a;c.SessionID=this.mainSessionID;c.UserID=this.userID;c.Data.Type="getList";c.Data.Args=[b];c.ModuleID="";this.Send(c)}.bind(this),SessionPropertyTypes:function(b){var c=
new a;c.SessionID=b;c.UserID=this.userID;c.Data.Type="getSessionProperties";c.Data.Args=[];c.ModuleID="";this.Send(c)}.bind(this),SessionPropertyValues:function(b){var c=new a;c.SessionID=b;c.UserID=this.userID;c.Data.Type="getSessionValues";c.Data.Args=[];c.ModuleID="";this.Send(c)}.bind(this)};this.Set={SessionProperty:function(b,c,d){var h=new a;h.SessionID=b;h.UserID=this.userID;h.Data.Type="setSessionProperty";h.Data.Args=[c,d];h.ModuleID="";this.Send(h)}.bind(this)};this.JoinSession=function(b,
c){var d=new a;d.SessionID=b;d.UserID=this.userID;d.Data.Type="joinSession";d.Data.Args=[c];d.ModuleID="";this.Send(d)};this.Broadcast=function(b,c){var d=new a;d.SessionID=b;d.UserID=this.userID;d.Data.Type="sessionBroadcast";d.Data.Args=[c];d.ModuleID="";this.Send(d)};this.LeaveSession=function(b){var c=new a;c.SessionID=b;c.UserID=this.userID;c.Data.Type="leaveSession";c.ModuleID="";this.Send(c)};this.AccessModule=function(b,c,d){var h=new a;h.SessionID=b;h.UserID=this.userID;h.Data.Type="accessModule";
h.Data.Args=[d];h.ModuleID=c;this.Send(h)};this.ExecuteFunction=function(b,c,d){b=new a;b.SessionID="";b.UserID=this.userID;b.Data.Type="executeFunction";b.Data.Args=[param];b.ModuleID=c;this.Send(b)}},c=function(b,a,c,e){var f=null,g=function(){if(this.Events.onOpen)this.Events.onOpen()}.bind(this),d=function(){if(this.Events.onClose)this.Events.onClose()}.bind(this),h=function(b){if(this.Events.onMessage)this.Events.onMessage(b)}.bind(this),k=function(b){if(this.Events.onError)this.Events.onError(b)}.bind(this);
this.Events={onOpen:null,onMessage:null,onClose:null,onError:null};this.GetID=function(){return e};this.Open=function(){null==f&&(f=io.connect(b+":"+a+"/"+c),f.on("connect",g),f.on("disconnect",d),f.on("message",h),f.on("error",k))};this.Close=function(){};this.Send=function(b){f.send(b)}},f=function(b,a,c,e){var f=null,g=function(b){this.state=f.readyState;if(null!=this.Event.onConnect)this.Event.onConnect()}.bind(this),d=function(b){this.state=f.readyState;if(null!=this.Events.onClose)this.Events.onClose()}.bind(this),
h=function(b){this.state=f.readyState;if(null!=this.Events.onMessage)this.Events.onMessage()}.bind(this),k=function(){this.state=f.readyState;if(null!=this.Events.onError)this.Events.onError()}.bind(this);this.Events={onOpen:null,onMessage:null,onClose:null,onError:null};this.GetID=function(){return e};this.Open=function(){return null==f?(f=new WebSocket("ws://"+b+":"+a+"/"+c),this.state=f.readyState,f.onopen=g.bind(this),f.onclose=d.bind(this),f.onmessage=h.bind(this),f.onerror=k.bind(this),this.state):
"Already Initialized"};this.Close=function(){f.close()};this.Send=function(b){f.send(b)}};return{GetName:function(){return"JaHOVA OS Internal API : Network Core"},GetVersion:function(){return"0v3"},GetPath:function(){return"scripts/jahova/OS/Cores/Network/jahova.os.cores.network.js"},GetID:function(){return null},Initialize:function(){},SocketManager:{Sockets:b.resschmgr.Create.Map(),CreateSocket:function(b,a,c){var e=(new Date).getTime();b=new f(b,a,c,e);this.Sockets.put(e,b);return b}},Create:{Socket:function(a,
c,l){var e=(new Date).getTime();a=new f(a,c,l,e);b.network.SocketManager.Sockets.put(e,a);return a},SocketIO:function(a,e,l){var f=(new Date).getTime();a=new c(a,e,l,f);b.network.SocketManager.Sockets.put(f,a);return a},JOSServer:function(a,c,l){var f=new e;f.socket=io?b.network.Create.SocketIO(a,c,l):b.network.Create.Socket(a,c,l);return f}}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Cores.Instance().Threads=function(){function m(){var b=com.jahova.os.Instance();com.jahova.utilities.Instance();var a=function(a,e,g,p,l){this.ID=b.threads.ThreadManager.NextID++;this.name=a;this.type=e;this.pool=p;this.frame=null;this.maxThreadCount=l;this.priority=g;this.callbacks=b.resschmgr.Create.Map()};a.prototype.Suspend=function(a){a=new e;a.msgType="SUSPENDTHREAD";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};
a.prototype.Resume=function(a){a=new e;a.msgType="RESUMETHREAD";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};a.prototype.GetSuspendCount=function(a){a=new e;a.msgType="GETSUSPENDCOUNT";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};a.prototype.Execute=function(a){var f=new e;f.msgType="EXECUTETHREAD";f.data=a;f.priority=0;f.sendTime=(new Date).getTime();
f.osThreadID=this.ID;b.threads.ThreadManager.SendToController(f.Serialize())};a.prototype.SetPriority=function(a){var f=new e;f.msgType="SETPRIORITY";f.data=a;f.priority=0;f.sendTime=(new Date).getTime();f.osThreadID=this.ID;b.threads.ThreadManager.SendToController(f.Serialize())};a.prototype.GetPriority=function(){var a=new e;a.msgType="GETPRIORITY";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};a.prototype.AddTask=function(a){var f=
new e;f.msgType="ADDTASK";f.data=a;f.priority=0;f.sendTime=(new Date).getTime();f.osThreadID=this.ID;b.threads.ThreadManager.SendToController(f.Serialize())};a.prototype.GetPendingTask=function(){var a=new e;a.msgType="GETPENDINGTASK";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};a.prototype.Exit=function(){var a=new e;a.msgType="EXITTHREAD";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};
a.prototype.SetMaxThreadCount=function(a){var f=new e;f.msgType="SETMAXTHREADCOUNT";f.data=a;f.priority=0;f.sendTime=(new Date).getTime();f.osThreadID=this.ID;b.threads.ThreadManager.SendToController(f.Serialize())};a.prototype.GetFunction=function(){var a=new e;a.msgType="GETFUNCTION";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};a.prototype.GetCurrentTask=function(){var a=new e;a.msgType="GETCURRENTTASK";a.priority=0;a.sendTime=
(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};a.prototype.GetFilename=function(){var a=new e;a.msgType="GETFILENAME";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};a.prototype.AddCallback=function(){};a.prototype.RemoveCallback=function(){};a.prototype.GetStatus=function(){var a=new e;a.msgType="GETTHREADSTATUS";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=
this.ID;b.threads.ThreadManager.SendToController(a.Serialize())};var e=function(){this.msgID=b.threads.ThreadManager.NextMessageID++;this.msgType;this.data;this.priority;this.sendTime;this.deliveryTime;this.osThreadID;this.cntrlThreadID;this.callbackCoreID;this.callbackFunctionID};e.prototype.Serialize=function(){return JSON.stringify(this)};e.prototype.Parse=function(b){b=JSON.parse(b);this.msgID=b.msgID;this.msgType=b.msgType;this.data=b.data;this.priority=b.priority;this.sendTime=b.sendTime;this.deliveryTime=
b.deliveryTime;this.osThreadID=b.osThreadID;this.cntrlThreadID=b.cntrlThreadID;this.callbackCoreID=b.callbackCoreID;this.callbackFunctionID=b.callbackFunctionID};return{GetName:function(){return"JaHOVA OS Internal API : Multithreading Core"},GetVersion:function(){return"0v3"},GetPath:function(){return"scripts/jahova/OS/Cores/jahova.os.cores.thread.js"},GetID:function(){return null},Initialize:function(){this.ThreadManager.Initialize()},ThreadManager:{NextID:0,SharedWorkers:!1,NextMessageID:0,ThreadController:null,
ThreadControllerPath:null,SWThreadControllerPath:null,ThreadPath:null,ThreadNameMap:null,ThreadIDMap:null,ThreadCallbacksMap:null,PendingCommandsMap:null,CommandFunctionsMap:null,Initialize:function(){b.console.AppendComment("Initializing Thread Core");b.console.AppendComment("        Creating Thread Maps");this.ThreadNameMap=b.resschmgr.Create.Map();this.ThreadIDMap=b.resschmgr.Create.Map();this.ThreadCallbacksMap=b.resschmgr.Create.Map();this.PendingCommandsMap=b.resschmgr.Create.Map();this.CommandFunctionsMap=
b.resschmgr.Create.Map();this.ThreadControllerPath="scripts/jahova/OS/Cores/Threads/jahova.os.cores.thread.controller.js";this.SWThreadControllerPath="scripts/jahova/OS/Cores/Threads/jahova.os.cores.thread.swcontroller.js";b.console.AppendComment("        Path Set: "+this.ThreadControllerPath);this.ThreadPath="scripts/jahova/OS/Cores/Threads/jahova.os.cores.thread.dynamic.js";b.console.AppendComment("        Set Dynamic Thread Path");window.Worker?(b.console.AppendComment("        Web Workers Supported: true"),
window.SharedWorker&&(this.SharedWorkers=!0),b.console.AppendComment("        Shared Workers Supported: "+this.SharedWorkers)):b.console.AppendComment("        Web Workers Supported: false")},CreateThread:function(b,f,g,p,l,n,r,m,d){var h=null;this.ThreadNameMap.get(b)||(h=new a(b,f,g,m,d),l&&h.callbacks.put(l,l),this.SharedWorkers&&(h.frame=document.createElement("iframe"),h.frame.style.display="none",h.frame.name=h.name,h.frame.id=h.ID,document.body.appendChild(h.frame),b=document.createElement("script"),
b.type="text/javascript",b.src="scripts/jahova/OS/Cores/Threads/jahova.os.cores.thread.swdynamic.js",h.frame.contentDocument.head.appendChild(b)),this.ThreadIDMap.put(h.ID,h),this.ThreadNameMap.put(h.name,h),p={id:h.ID,name:h.name,type:h.type,priority:h.priority,pooled:h.pool,maxPooledThreads:h.maxThreadCount,suspend:p,filename:n,data:{func:n,input:r}},n=new e,n.msgType="CreateThread",n.data=JSON.stringify(p),n.priority=g,n.sendTime=(new Date).getTime(),n.deliveryTime,n.osThreadID=h.ID,n.cntrlThreadID=
null,n.callbackCoreID=l,n.callbackFunctionID,this.SendToController(n.Serialize()));return h},ExitThread:function(){},GetFunctionBody:function(b){var a=b.indexOf("{")+1,e=b.lastIndexOf("}");return b.slice(a,e)},GetThreadByName:function(b){return this.ThreadNameMap.get(b)},GetThreadByID:function(){},CreateThreadController:function(){if(null==this.ThreadController)if(window.Worker){if(this.SharedWorkers){this.ThreadController=new SharedWorker(this.SWThreadControllerPath);this.ThreadController.port.start();
this.ThreadController.port.onmessage=this.ProcessControllerRequest;var a=new e}else this.ThreadController=new Worker(this.ThreadControllerPath),this.ThreadController.addEventListener("message",this.ProcessControllerRequest,!1),a=new e;a.msgType="Start";a.data="Core Requesting Controller Initialize";this.SendToController(a.Serialize())}else b.console.Comment(""),b.console.Warning("\nCan not create Thread Controller \nYour Browser Does Not Support Web Workers");else b.console.Comment(""),b.console.Warning("Thread Controller already exist")},
SendToController:function(a){this.SharedWorkers?b.threads.ThreadManager.ThreadController.port.postMessage(a):b.threads.ThreadManager.ThreadController.postMessage(a)},ProcessControllerRequest:function(a){var f=new e;f.Parse(a.data);if(a=b.threads.ThreadManager.ThreadIDMap.get(f.osThreadID))if(numOfCallbacks=a.callbacks.size,0<numOfCallbacks)for(var g=0;g++<numOfCallbacks;a.callbacks.next())a.callbacks.value()(f);else b.console.AppendComment("\nNo Callback Assigned For Thread"),b.console.AppendComment("Message Type: "+
f.msgType+"\nMessage Data: "+f.data);else b.console.AppendComment("\nNo Thread Found to Handle Command Callback"),b.console.AppendComment("Message Type: "+f.msgType+"\nMessage Data: "+f.data);b.console.Comment("")},CreateSocket:function(){var a=new e;a.msgType="CREATESOCKET";a.priority=0;a.sendTime=(new Date).getTime();a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())},CloseSocket:function(){var a=new e;a.msgType="CLOSESOCKET";a.priority=0;a.sendTime=(new Date).getTime();
a.osThreadID=this.ID;b.threads.ThreadManager.SendToController(a.Serialize())}}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Cores.Instance().HTML=function(){function m(){com.jahova.os.Instance();com.jahova.utilities.Instance();return{GetName:function(){return"JaHOVA OS Internal API : HTML Core"},GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/OS/Cores/HTML/jahova.os.cores.html.js"},GetID:function(){return null},Initialize:function(){}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Cores.Instance().Windows=function(){function m(){var b=com.jahova.os.Instance();com.jahova.utilities.Instance();var a=function(a,c,e){var f="HIDDEN",d="VISIBLE",h="VISIBLE",k="VISIBLE",q="VISIBLE",g="VISIBLE",u=0,p=0,m=c,v=null,x=null;this.menu=this.theme=this.type=null;this.isMax=this.isMin=!1;this.Callbacks={onOpen:null,onClose:null,onMax:null,onMin:null,onFocus:null,onBlur:null};this.Scope={onOpen:null,onClose:null,onMax:null,onMin:null,onFocus:null,onBlur:null};this.Hide=
{window:function(){this.elements.window.html().style.display="none";f="HIDDEN"}.bind(this),titlebar:function(){this.elements.titlebar.html().style.display="none";d="HIDDEN";var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),c=this.elements.menubar.GetHeight(),h=this.elements.statusbar.GetHeight(),k=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?this.elements.content.html().style.height=b-a-c-h-k+"px":this.elements.content.html().style.height=b-a-h-k+"px"}.bind(this),
menubar:function(){this.elements.menubar.html().style.display="none";h="HIDDEN";if(this.theme.menubarIntegrated){var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),d=this.elements.menubar.GetHeight(),c=this.elements.statusbar.GetHeight(),k=this.elements.toolbar.GetHeight();this.elements.content.html().style.height=b-a-d-c-k+"px"}}.bind(this),toolbar:function(){this.elements.toolbar.html().style.display="none";k="HIDDEN";var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),
d=this.elements.menubar.GetHeight(),c=this.elements.statusbar.GetHeight(),h=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?this.elements.content.html().style.height=b-a-d-c-h+"px":this.elements.content.html().style.height=b-a-c-h+"px"}.bind(this),statusbar:function(){this.elements.statusbar.html().style.display="none";q="HIDDEN";var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),d=this.elements.menubar.GetHeight(),c=this.elements.statusbar.GetHeight(),h=this.elements.toolbar.GetHeight();
this.theme.menubarIntegrated?this.elements.content.html().style.height=b-a-d-c-h+"px":this.elements.content.html().style.height=b-a-c-h+"px"}.bind(this),content:function(){this.elements.content.html().style.display="none";g="HIDDEN"}.bind(this),buttons:function(){this.elements.titlebar.buttons.html().style.display="none"}.bind(this)};this.Display={window:function(){this.elements.window.html().style.display="block";f="VISIBLE";this.MakeActive();var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),
d=this.elements.menubar.GetHeight(),c=this.elements.statusbar.GetHeight(),h=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?this.elements.content.html().style.height=b-a-d-c-h+"px":this.elements.content.html().style.height=b-a-c-h+"px"}.bind(this),titlebar:function(){this.elements.titlebar.html().style.display="block";d="VISIBLE";var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),c=this.elements.menubar.GetHeight(),h=this.elements.statusbar.GetHeight(),k=this.elements.toolbar.GetHeight();
this.theme.menubarIntegrated?this.elements.content.html().style.height=b-a-c-h-k+"px":this.elements.content.html().style.height=b-a-h-k+"px"}.bind(this),menubar:function(){this.elements.menubar.html().style.display="block";h="VISIBLE";if(this.theme.menubarIntegrated){var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),d=this.elements.menubar.GetHeight(),c=this.elements.statusbar.GetHeight(),k=this.elements.toolbar.GetHeight();this.elements.content.html().style.height=b-a-d-
c-k+"px"}}.bind(this),toolbar:function(){this.elements.toolbar.html().style.display="block";k="VISIBLE";var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),d=this.elements.menubar.GetHeight(),c=this.elements.statusbar.GetHeight(),h=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?this.elements.content.html().style.height=b-a-d-c-h+"px":this.elements.content.html().style.height=b-a-c-h+"px"}.bind(this),statusbar:function(){this.elements.statusbar.html().style.display=
"block";q="VISIBLE";var b=this.elements.window.GetHeight(),a=this.elements.titlebar.GetHeight(),d=this.elements.menubar.GetHeight(),c=this.elements.statusbar.GetHeight(),h=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?this.elements.content.html().style.height=b-a-d-c-h+"px":this.elements.content.html().style.height=b-a-c-h+"px"}.bind(this),content:function(){this.elements.content.html().style.display="block";g="VISIBLE"}.bind(this),buttons:function(){this.elements.titlebar.buttons.html().style.display=
"block"}.bind(this)};this.Get={State:{window:function(){return f},titlebar:function(){return d},menubar:function(){return h},toolbar:function(){return k},statusbar:function(){return q},content:function(){return g}},theme:function(){return this.theme}.bind(this),id:function(){return a},position:function(){return{top:u,left:p}},title:function(){return m}};this.Set={position:function(b,a){u=b;p=a;this.elements.window.html().style.top=b+"px";this.elements.window.html().style.left=a+"px"}.bind(this),width:function(b){v=
b;this.elements.window.html().style.width=v+"px"}.bind(this),height:function(b){x=b;this.elements.window.html().style.height=x+"px";b=this.elements.window.GetHeight();var a=this.elements.titlebar.GetHeight(),d=this.elements.menubar.GetHeight(),c=this.elements.statusbar.GetHeight(),h=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?this.elements.content.html().style.height=b-a-d-c-h+"px":this.elements.content.html().style.height=b-a-c-h+"px"}.bind(this),title:function(b){m=b;this.elements.titlebar.text.html().innerHTML=
m}.bind(this),statusbarText:function(b){this.elements.statusbar.text.html().innerHTML=b}.bind(this),theme:function(b){this.LoadTheme(b)}.bind(this),onOpen:function(b,a){this.Callbacks.onOpen=b;this.Scope.onOpen=a}.bind(this),onClose:function(b,a){this.Callbacks.onClose=b;this.Scope.onClose=a}.bind(this),onMin:function(b,a){this.Callbacks.onMin=b;this.Scope.onMin=a}.bind(this),onMax:function(b,a){this.Callbacks.onMax=b;this.Scope.onMax=a}.bind(this),onFocus:function(b,a){this.Callbacks.onFocus=b;this.Scope.onFocus=
a}.bind(this),onBlur:function(b,a){this.Callbacks.onBlur=b;this.Scope.onBlur=a}.bind(this)};var w={onOpen:function(b){if(this.Callbacks.onOpen)if(this.Scope.onOpen)this.Callbacks.onOpen.apply(this.Scope.onOpen,[b]);else this.Callbacks.onOpen(b)}.bind(this),onClose:function(a){b.windows.WindowsManager.Windows.remove(null);document.body.removeChild(this.elements.window.html());if(this.Callbacks.onClose)if(this.Scope.onClose)this.Callbacks.onClose.apply(this.Scope.onClose,[a]);else this.Callbacks.onClose(a)}.bind(this),
onMin:function(a){if(this.isMin){this.Display.content();this.Display.statusbar();"VISIBLE"==h&&this.Display.menubar();this.Display.buttons();this.elements.titlebar.Class.ClearAll();this.elements.titlebar.Class.Add(this.theme.Class.titlebar);this.elements.window.Class.ClearAll();this.elements.window.Class.Add(this.theme.Class.window);this.Set.position(u,p);this.Set.width(v);this.Set.height(x);this.elements.titlebar.html().onclick="";"VISIBLE"==b.windows.Desktop.Get.state.desktop()&&document.body.appendChild(this.elements.window.html());
var d=this.elements.window.GetHeight(),c=this.elements.titlebar.GetHeight(),k=this.elements.menubar.GetHeight(),e=this.elements.statusbar.GetHeight(),q=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?this.elements.content.html().style.height=d-c-k-e-q+"px":this.elements.content.html().style.height=d-c-e-q+"px";this.isMin=!1}else this.Hide.content(),this.Hide.statusbar(),this.Hide.menubar(),this.Hide.buttons(),this.elements.titlebar.Class.ClearAll(),this.elements.titlebar.Class.Add(this.theme.Class.titlebarMinimized),
this.elements.window.Class.ClearAll(),this.elements.window.Class.Add(this.theme.Class.windowMinimized),this.elements.window.html().style.width="150px",this.elements.window.html().style.height="25px",this.elements.titlebar.html().onclick=w.onMin,"VISIBLE"==b.windows.Desktop.Get.state.desktop()?(this.elements.window.html().style.top="",this.elements.window.html().style.left="",b.windows.Desktop.Elements.dock.AppendChild(this.elements.window.html())):this.elements.window.html().style.position="absolute",
this.isMin=!0;a&&a.stopPropagation();if(this.Callbacks.onMin)if(this.Scope.onMin)this.Callbacks.onMin.apply(this.Scope.onMin,[a]);else this.Callbacks.onMin(a)}.bind(this),onMax:function(a){if(this.isMax)this.isMax=!1,this.elements.window.Class.ClearAll(),this.elements.window.Class.Add(this.theme.Class.window),this.elements.window.html().style.height=x+"px",this.Set.position(u,p),this.Set.width(v),this.Set.height(x),c=this.elements.window.GetHeight(),h=this.elements.titlebar.GetHeight(),k=this.elements.menubar.GetHeight(),
e=this.elements.statusbar.GetHeight(),q=this.elements.toolbar.GetHeight(),this.theme.menubarIntegrated?this.elements.content.html().style.height=c-h-k-e-q+"px":this.elements.content.html().style.height=c-h-e-q+"px";else{this.isMax=!0;this.elements.window.Class.ClearAll();this.elements.window.Class.Add(this.theme.Class.windowMaximized);this.elements.window.html().style.left="0px";this.elements.window.html().style.width="";var d=b.windows.Desktop.Elements.dock.html().clientHeight,c=this.elements.window.GetHeight(),
h=this.elements.titlebar.GetHeight(),k=this.elements.menubar.GetHeight(),e=this.elements.statusbar.GetHeight(),q=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?(this.elements.content.html().style.height=window.innerHeight-d-h-e-k-q+"px",this.elements.window.html().style.height=window.innerHeight-d+"px",this.elements.window.html().style.top="0px"):(this.elements.content.html().style.height=window.innerHeight-d-h-e-q+"px",this.elements.window.html().style.height=window.innerHeight-d-
k+"px",this.elements.window.html().style.top="20px")}a&&a.stopPropagation();if(this.Callbacks.onMax)if(this.Scope.onMax)this.Callbacks.onMax.apply(this.Scope.onMax,[a]);else this.Callbacks.onMax(a)}.bind(this),onFocus:function(b){if(this.Callbacks.onFocus)if(this.Scope.onFocus)this.Callbacks.onFocus.apply(this.Scope.onFocus,[b]);else this.Callbacks.onFocus(b)}.bind(this),onBlur:function(b){this.elements.window.html().onclick=this.MakeActive;this.elements.window.html().style.zIndex=20;this.theme.menubarIntegrated||
this.Hide.menubar();if(this.Callbacks.onBlur)if(this.Scope.onBlur)this.Callbacks.onBlur.apply(this.Scope.onBlur,[b]);else this.Callbacks.onBlur(b)}.bind(this)};this.MakeActive=function(a){w.onFocus();b.windows.WindowsManager.ActiveWindow&&b.windows.WindowsManager.ActiveWindow!=this&&b.windows.WindowsManager.ActiveWindow.Blur();b.windows.WindowsManager.ActiveWindow=this;this.elements.window.html().onclick="";this.elements.window.html().style.zIndex=25;this.theme.menubarIntegrated||"VISIBLE"==h&&this.Display.menubar()}.bind(this);
this.Blur=function(){w.onBlur()}.bind(this);this.Maximize=function(){w.onMax()};this.Minimize=function(){w.onMin()};this.LoadTheme=function(d){d?(this.theme=b.windows.WindowsManager.Themes.get(d))||alert(d+" Window Theme was not found"):this.theme=b.windows.WindowsManager.Themes.get("Mac");y();this.elements.window.Class.Add(this.theme.Class.window);this.elements.titlebar.Class.Add(this.theme.Class.titlebar);this.elements.menubar.Class.Add(this.theme.Class.menubar);this.elements.toolbar.Class.Add(this.theme.Class.toolbar);
this.elements.statusbar.Class.Add(this.theme.Class.statusbar);this.elements.content.Class.Add(this.theme.Class.content);this.elements.titlebar.text.Class.Add(this.theme.Class.titlebarText);this.elements.titlebar.buttons.Class.Add(this.theme.Class.titlebarButtonContainer);this.elements.titlebar.buttons.max.Class.Add(this.theme.Class.titlebarButtonMax);this.elements.titlebar.buttons.min.Class.Add(this.theme.Class.titlebarButtonMin);this.elements.titlebar.buttons.close.Class.Add(this.theme.Class.titlebarButtonClose);
this.elements.statusbar.text.Class.Add(this.theme.Class.statusbarText);this.elements.window.html().id=a;this.Set.position(this.theme.Position.top,this.theme.Position.left);this.Set.width(this.theme.width);this.Set.height(this.theme.height)};var y=function(){this.elements.window.Class.ClearAll();this.elements.titlebar.Class.ClearAll();this.elements.menubar.Class.ClearAll();this.elements.toolbar.Class.ClearAll();this.elements.statusbar.Class.ClearAll();this.elements.content.Class.ClearAll();this.elements.titlebar.text.Class.ClearAll();
this.elements.titlebar.buttons.Class.ClearAll();this.elements.titlebar.buttons.max.Class.ClearAll();this.elements.titlebar.buttons.min.Class.ClearAll();this.elements.titlebar.buttons.close.Class.ClearAll();this.elements.statusbar.text.Class.ClearAll()}.bind(this);this.elements={window:b.resschmgr.Create.HTMLElement("div"),titlebar:b.resschmgr.Create.HTMLElement("div"),menubar:b.resschmgr.Create.HTMLElement("div"),toolbar:b.resschmgr.Create.HTMLElement("div"),statusbar:b.resschmgr.Create.HTMLElement("div"),
content:b.resschmgr.Create.HTMLElement("div")};this.elements.titlebar.text=b.resschmgr.Create.HTMLElement("div");this.elements.titlebar.buttons=b.resschmgr.Create.HTMLElement("div");this.elements.titlebar.buttons.max=b.resschmgr.Create.HTMLElement("div");this.elements.titlebar.buttons.min=b.resschmgr.Create.HTMLElement("div");this.elements.titlebar.buttons.close=b.resschmgr.Create.HTMLElement("div");this.elements.menubar.children=b.resschmgr.Create.Map();this.elements.toolbar.children=b.resschmgr.Create.Map();
this.elements.statusbar.text=b.resschmgr.Create.HTMLElement("div");this.LoadTheme(e);m&&(this.elements.titlebar.text.html().innerHTML=m);this.elements.window.html().id=a;this.elements.titlebar.html().id=a;this.elements.menubar.html().id=a;this.elements.toolbar.html().id=a;this.elements.statusbar.html().id=a;this.elements.content.html().id=a;this.elements.titlebar.text.html().id=a;this.elements.titlebar.buttons.html().id=a;this.elements.titlebar.buttons.max.html().id=a;this.elements.titlebar.buttons.min.html().id=
a;this.elements.titlebar.buttons.close.html().id=a;this.elements.statusbar.text.html().id=a;this.elements.titlebar.buttons.max.html().onclick=w.onMax;this.elements.titlebar.buttons.min.html().onclick=w.onMin;this.elements.titlebar.buttons.close.html().onclick=w.onClose;this.elements.titlebar.html().onmousedown=b.windows.WindowsManager.BeginDrag;this.elements.titlebar.buttons.AppendChild(this.elements.titlebar.buttons.close.html());this.elements.titlebar.buttons.AppendChild(this.elements.titlebar.buttons.min.html());
this.elements.titlebar.buttons.AppendChild(this.elements.titlebar.buttons.max.html());this.elements.titlebar.AppendChild(this.elements.titlebar.buttons.html());this.elements.titlebar.AppendChild(this.elements.titlebar.text.html());this.elements.statusbar.AppendChild(this.elements.statusbar.text.html());this.elements.window.AppendChild(this.elements.titlebar.html());this.elements.window.AppendChild(this.elements.menubar.html());this.elements.window.AppendChild(this.elements.toolbar.html());this.elements.window.AppendChild(this.elements.content.html());
this.elements.window.AppendChild(this.elements.statusbar.html());document.body.appendChild(this.elements.window.html());c=this.elements.window.GetHeight();e=this.elements.titlebar.GetHeight();var E=this.elements.menubar.GetHeight(),C=this.elements.statusbar.GetHeight(),D=this.elements.toolbar.GetHeight();this.theme.menubarIntegrated?this.elements.content.html().style.height=c-e-E-C-D+"px":this.elements.content.html().style.height=c-e-C-D+"px";this.Hide.window();b.windows.WindowsManager.Windows.put(a,
this)},e=function(b){this.type=null;this.name=b;this.menubarIntegrated=this.url=null;this.Class={window:null,windowMinimized:null,windowMaximized:null,titlebar:null,titlebarText:null,titlebarButtonContainer:null,titlebarButtonMax:null,titlebarButtonMin:null,titlebarButtonClose:null,titlebarMinimized:null,menubar:null,menubarElement:null,toolbar:null,toolbarElement:null,content:null,statusbar:null,statusbarText:null};this.Position={top:0,left:0};this.width=400;this.height=300;this.resizable=!1},c=
function(){this.SetHTML("div");this.children=[];this.onClick=this.onClickScope=this.theme=null;this.AddChild=function(){}};c.inherits(b.resschmgr.CHTMLElement);var f=function(){this.SetHTML("div");this.tooltipText=this.theme=this.imageURL=null;this.tooltipEnabled=!1;this.onClick=this.onClickScope=null};f.inherits(b.resschmgr.CHTMLElement);var g=function(b){this.name=b;this.url=null;this.Class={desktop:null,dock:null,startButton:null,startButtonText:null,startMenu:null,application:null}},p=function(a){this.SetHTML("div");
var c=function(b){if(this.onClick)if(this.onClickScope)this.onClick.apply(this.onClickScope,[b]);else this.onClick(b)}.bind(this);this.onClick=this.onClickScope=null;this.Get={ID:function(){return a}.bind(this),DisplayText:function(){}.bind(this),TooltipText:function(){}.bind(this),Callback:function(){}.bind(this),Image:function(){}.bind(this)};this.Set={DisplayText:function(b){this.html().innerHTML=b}.bind(this),TooltipText:function(){}.bind(this),Callback:function(b,a){this.onClick=b;a&&(this.onClickScope=
a)}.bind(this),Image:function(){}.bind(this),Theme:function(b){this.Class.ClearAll();this.Class.Add(b.Class.application)}.bind(this)};this.EnableTooltip=function(){};this.DisableTooltip=function(){};this.html().onclick=c;b.windows.Desktop.Applications.put(a,this)};p.inherits(b.resschmgr.CHTMLElement);return{Create:{Window:function(c,e){return new a("jahova.window.id."+b.windows.WindowsManager.nextID++,c,e)},ErrorWindow:function(a,c){macWin=b.windows.Create.Window("ERROR: "+a,"PC");macWin.elements.content.html().innerHTML=
c;macWin.elements.content.html().style.backgroundImage="none";macWin.elements.content.html().style.borderRadius="5px";macWin.Set.width(400);macWin.Set.height(100);macWin.Set.position(window.innerHeight/2-50,window.innerWidth/2-200);macWin.Hide.statusbar();macWin.Hide.menubar();macWin.Hide.toolbar();macWin.Display.window()},Theme:function(a){var c=new e(a);b.windows.WindowsManager.Themes.put(a,c);return c},MenuElement:function(){return new c},ToolbarElement:function(){return new f}},WindowsManager:{nextID:0,
Windows:null,Themes:null,BuildDefaultThemes:function(){var a=new b.windows.Create.Theme("PC");a.menubarIntegrated=!0;a.type="STD";a.url=b.GetDomain+"styles/jahova.window.pc.css";a.Position.top=50;a.Position.left=50;a.Class.window="pcWindow";a.Class.windowMinimized="pcWindowMinimized";a.Class.windowMaximized="pcWindowMaximized";a.Class.titlebar="pcTitlebar";a.Class.titlebarText="pcTitlebarText";a.Class.titlebarButtonContainer="pcButtonContainer";a.Class.titlebarButtonMax="pcButtonMax";a.Class.titlebarButtonMin=
"pcButtonMin";a.Class.titlebarButtonClose="pcButtonClose";a.Class.titlebarMinimized="pcTitlebarMinimized";a.Class.menubar="pcMenubar";a.Class.menubarElement="pcMenubarElement";a.Class.toolbar="pcToolbar";a.Class.toolbarElement="pcToolbarElement";a.Class.content="pcContent";a.Class.statusbar="pcStatusbar";a.Class.statusbarText="pcStatusbarText";b.windows.WindowsManager.Themes.put(a.name,a);a=b.windows.Create.Theme("Mac");a.type="STD";a.menubarIntegrated=!1;a.url=b.GetDomain+"styles/jahova.window.mac.css";
a.Position.top=50;a.Position.left=50;a.Class.window="macWindow";a.Class.windowMinimized="macWindowMinimized";a.Class.windowMaximized="macWindowMaximized";a.Class.titlebar="macTitlebar";a.Class.titlebarText="macTitlebarText";a.Class.titlebarButtonContainer="macButtonsContainer";a.Class.titlebarButtonMax="macButtonMax";a.Class.titlebarButtonMin="macButtonMin";a.Class.titlebarButtonClose="macButtonClose";a.Class.titlebarMinimized="macTitlebarMinimized";a.Class.menubar="macMenubar";a.Class.menubarElement=
"macMenubarElement";a.Class.toolbar="macToolbar";a.Class.toolbarElement="macToolbarElement";a.Class.content="macContent";a.Class.statusbar="macStatusbar";a.Class.statusbarText="macStatusbarText";b.windows.WindowsManager.Themes.put("Mac",a)},ActiveWindow:null,Create:{Window:function(c,e){return new a("jahova.window.id."+b.windows.WindowsManager.nextID++,c,e)},Theme:function(a){var c=new e(a);b.windows.WindowsManager.Themes.put(a,c);return c},MenuElement:function(){return new c},ToolbarElement:function(){return new f}},
BeginDrag:function(a){var c=b.windows.WindowsManager.Windows.get(a.target.id);c&&(b.windows.WindowsManager.ActiveWindow&&(b.windows.WindowsManager.ActiveWindow.elements.window.html().zIndex=20),c.MakeActive(),document.addEventListener("mousemove",b.windows.WindowsManager.DragStart,!1),document.addEventListener("mouseup",b.windows.WindowsManager.DragStop,!1),c.startX=a.clientX+window.scrollX,c.startY=a.clientY+window.scrollY,c.startTop=c.Get.position().top,c.startLeft=c.Get.position().left);a.preventDefault()},
DragStart:function(a){var c=b.windows.WindowsManager.ActiveWindow,e,f;e=a.clientX+window.scrollX;f=a.clientY+window.scrollY;c&&c.Set.position(c.startTop+f-c.startY,c.startLeft+e-c.startX);a.preventDefault()},DragStop:function(a){b.windows.WindowsManager.ActiveWindow&&(document.removeEventListener("mousemove",b.windows.WindowsManager.DragStart,!1),document.removeEventListener("mouseup",b.windows.WindowsManager.DragStop,!1));a.preventDefault()},BeginResize:function(b){},ResizeStart:function(b){},ResizeStop:function(b){}},
Desktop:{Themes:null,Applications:null,nextID:0,theme:null,_state:{desktop:null,dock:null,startButton:null,startButtonText:null,startMenu:null},Get:{state:{desktop:function(){return b.windows.Desktop._state.desktop},dock:function(){return b.windows.Desktop._state.dock},startButton:function(){return b.windows.Desktop._state.startButton},startButtonText:function(){return b.windows.Desktop._state.startButtonText},startMenu:function(){return b.windows.Desktop._state.startMenu}}},Create:{Theme:function(a){var c=
new g(a);b.windows.Desktop.Themes.put(a,c);return c},Application:function(){return new p(b.windows.Desktop.nextID++)}},Display:{desktop:function(){b.windows.Desktop.Elements.desktop.html().style.display="block";b.windows.Desktop._state.desktop="VISIBLE"},dock:function(){b.windows.Desktop.Elements.dock.html().style.display="block";b.windows.Desktop._state.dock="VISIBLE"},startButton:function(){b.windows.Desktop.Elements.startButton.html().style.display="block";b.windows.Desktop._state.startButton=
"VISIBLE"},startButtonText:function(){b.windows.Desktop.Elements.startButtonText.html().style.display="block";b.windows.Desktop._state.startButtonText="VISIBLE"},startMenu:function(){b.windows.Desktop.Elements.startMenu.html().style.display="block";b.windows.Desktop._state.startMenu="VISIBLE"}},Hide:{desktop:function(){b.windows.Desktop.Elements.desktop.html().style.display="none";b.windows.Desktop._state.desktop="HIDDEN"},dock:function(){b.windows.Desktop.Elements.dock.html().style.display="none";
b.windows.Desktop._state.dock="HIDDEN"},startButton:function(){b.windows.Desktop.Elements.startButton.html().style.display="none";b.windows.Desktop._state.startButton="HIDDEN"},startButtonText:function(){b.windows.Desktop.Elements.startButtonText.html().style.display="none";b.windows.Desktop._state.startButtonText="HIDDEN"},startMenu:function(){b.windows.Desktop.Elements.startMenu.html().style.display="none";b.windows.Desktop._state.startMenu="HIDDEN"}},Set:{},BuildDefaultTheme:function(){var a=b.windows.Desktop.Create.Theme("default");
a.url=b.GetDomain+"styles/jahova.window.desktop.css";a.Class.desktop="jDesktop";a.Class.dock="jDock";a.Class.startButton="jStartButton";a.Class.startButtonText="jStartButtonText";a.Class.startMenu="jStartMenu";a.Class.application="jApplication"},AddApplication:function(a){a.Set.Theme(b.windows.Desktop.theme);b.windows.Desktop.Elements.startMenu.AppendChild(a.html())},RemoveApplication:function(){},LoadTheme:function(a){b.windows.Desktop.theme=a;b.windows.Desktop.ClearTheme();b.windows.Desktop.Elements.desktop.Class.Add(a.Class.desktop);
b.windows.Desktop.Elements.dock.Class.Add(a.Class.dock);b.windows.Desktop.Elements.startButton.Class.Add(a.Class.startButton);b.windows.Desktop.Elements.startButtonText.Class.Add(a.Class.startButtonText);b.windows.Desktop.Elements.startMenu.Class.Add(a.Class.startMenu);document.body.className="jDesktop";for(var c=0;c<b.windows.Desktop.Applications.size;c++)b.windows.Applications.value().Set.Theme(a)},ClearTheme:function(){b.windows.Desktop.Elements.desktop.Class.ClearAll();b.windows.Desktop.Elements.dock.Class.ClearAll();
b.windows.Desktop.Elements.startButton.Class.ClearAll();b.windows.Desktop.Elements.startButtonText.Class.ClearAll();b.windows.Desktop.Elements.startMenu.Class.ClearAll();document.body.className=""},Elements:{desktop:b.resschmgr.Create.HTMLElement("div"),dock:b.resschmgr.Create.HTMLElement("div"),startButton:b.resschmgr.Create.HTMLElement("div"),startButtonText:b.resschmgr.Create.HTMLElement("div"),startMenu:b.resschmgr.Create.HTMLElement("div")},Load:function(a){a=a?b.windows.Desktop.Themes.get(a):
b.windows.Desktop.Themes.get("default");b.windows.Desktop.LoadTheme(a);b.windows.Desktop.Elements.desktop.html().id="jdesktop";b.windows.Desktop.Elements.dock.html().id="jdesktop.dock";b.windows.Desktop.Elements.startButton.html().id="jdesktop.startButton";b.windows.Desktop.Elements.startButtonText.html().id="jdesktop.startButtonText";b.windows.Desktop.Elements.startMenu.html().id="jdesktop.startMenu";b.windows.Desktop.Elements.startButtonText.html().innerHTML="Start";b.windows.Desktop.Elements.desktop.AppendChild(b.windows.Desktop.Elements.dock.html());
b.windows.Desktop.Elements.dock.AppendChild(b.windows.Desktop.Elements.startButton.html());b.windows.Desktop.Elements.startButton.AppendChild(b.windows.Desktop.Elements.startButtonText.html());b.windows.Desktop.Elements.startButton.AppendChild(b.windows.Desktop.Elements.startMenu.html());document.body.appendChild(b.windows.Desktop.Elements.desktop.html());b.windows.Desktop._state.desktop="VISIBLE";b.windows.Desktop._state.dock="VISIBLE";b.windows.Desktop._state.startButton="VISIBLE";b.windows.Desktop._state.startButtonText=
"VISIBLE";b.windows.Desktop._state.startMenu="VISIBLE"}},GetName:function(){return"JaHOVA OS Internal API : Windows Core"},GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/OS/Cores/Windows/jahova.os.cores.windows.js"},GetID:function(){return null},Initialize:function(){b.windows.WindowsManager.Windows=b.resschmgr.Create.Map();b.windows.WindowsManager.Themes=b.resschmgr.Create.Map();b.windows.WindowsManager.BuildDefaultThemes();b.windows.Desktop.Themes=b.resschmgr.Create.Map();
b.windows.Desktop.Applications=b.resschmgr.Create.Map();b.windows.Desktop.BuildDefaultTheme()}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Cores.Instance().Input=function(){function m(){var b=com.jahova.os.Instance();com.jahova.utilities.Instance();var a=0,e=function(a){var d=a;this.debugRaw=d;this.id=a.index;var c=this;this.indicies={Dpad:{up:12,down:13,left:14,right:15},LeftShoulder:{top:4,bottom:6},RightShoulder:{top:5,bottom:7},Buttons:{top:3,bottom:0,left:2,right:1},LeftStick:{x:0,y:1,button:10},RightStick:{x:2,y:3,button:11},select:8,start:9};this.type=0>a.id.toUpperCase().indexOf("PLAYSTATION")?"XBOX":
"PLAYSTATION";this.Dpad={Up:function(){return d.buttons[c.indicies.Dpad.up]},Down:function(){return d.buttons[c.indicies.Dpad.down]},Left:function(){return d.buttons[c.indicies.Dpad.left]},Right:function(){return d.buttons[c.indicies.Dpad.right]}};this.LeftShoulder={Top:function(){return d.buttons[c.indicies.LeftShoulder.top]},Bottom:function(){return d.buttons[c.indicies.LeftShoulder.bottom]}};this.RightShoulder={Top:function(){return d.buttons[c.indicies.RightShoulder.top]},Bottom:function(){return d.buttons[c.indicies.RightShoulder.bottom]}};
this.Buttons={Top:function(){return d.buttons[c.indicies.Buttons.top]},Bottom:function(){return d.buttons[c.indicies.Buttons.bottom]},Left:function(){return d.buttons[c.indicies.Buttons.left]},Right:function(){return d.buttons[c.indicies.Buttons.right]}};this.LeftStick={X:function(){return d.axes[c.indicies.LeftStick.x]},Y:function(){return d.axes[c.indicies.LeftStick.y]},Button:function(){return d.buttons[c.indicies.LeftStick.button]}};this.RightStick={X:function(){return d.axes[c.indicies.RightStick.x]},
Y:function(){return d.axes[c.indicies.RightStick.y]},Button:function(){return d.buttons[c.indicies.RightStick.button]}};this.Select=function(){return d.buttons[c.indicies.select]};this.Start=function(){return d.buttons[c.indicies.start]};this.Delete=function(){b.input.Gamepads.current.remove(this.id)};this.Update=function(a){"PLAYSTATION"!=this.type&&(d=b.input.Gamepads.Raw.current[this.id])}},c=function(b){q.lastX=b.clientX;q.lastY=b.clientY;q.pressed=!0;var a=u.get("DOWN");if(a)for(var d=a.length-
1;0<=d;d--)a[d].scope?a[d].func.apply(a.scope,[b]):a[d].func(b)},f=function(b){q.pressed=!1;var a=u.get("UP");if(a)for(var d=a.length-1;0<=d;d--)a[d].scope?a[d].func.apply(a.scope,[b]):a[d].func(b)},m=function(b){if(q.pressed){var a=u.get("MOVE");if(a)for(var d=a.length-1;0<=d;d--)a[d].scope?a[d].func.apply(a.scope,[b]):a[d].func(b);q.lastX=b.clientX;q.lastY=b.clientY}},p=function(b){b.preventDefault();k.lastX=b.touches[0].pageX;k.lastY=b.touches[0].pageY;k.startX=b.touches[0].pageX;k.startY=b.touches[0].pageY;
k.pressed=!0;var a=t.get("START");if(a)for(var d=a.length-1;0<=d;d--)a[d].scope?a[d].func.apply(a.scope,[b]):a[d].func(b)},l=function(b){b.preventDefault();k.pressed=!1;k.startX=0;k.startY=0;var a=t.get("END");if(a)for(var d=a.length-1;0<=d;d--)a[d].scope?a[d].func.apply(a.scope,[b]):a[d].func(b)},n=function(b){b.preventDefault();if(k.pressed){var a=t.get("MOVE");if(a)for(var d=a.length-1;0<=d;d--)a[d].scope?a[d].func.apply(a.scope,[b]):a[d].func(b);k.lastX=b.touches[0].pageX;k.lastY=b.touches[0].pageY}},
r=function(b){var a=47<b.keyCode&&91>b.keyCode?z.get(String.fromCharCode(b.keyCode)):x.get(b.keyCode);if(a)for(var d=a.length-1;0<=d;d--)a[d].scope?a[d].func.apply(a.scope,[b]):a[d].func(b)},s=function(b){var a=47<b.keyCode&&91>b.keyCode?A.get(String.fromCharCode(b.keyCode)):w.get(b.keyCode);if(a)for(var d=a.length-1;0<=d;d--)a[d].scope?a[d].func.apply(a.scope,[b]):a[d].func(b)},d={Connect:function(a){a=new e(a);b.input.Gamepads.current.put(a.id,a);var d=y.get("CONNECT");if(d)for(var c=d.length-1;0<=
c;c--)d[c].scope?d[c].func.apply(d.scope,[a]):d[c].func(a)},Disconnect:function(a){a=b.input.Gamepads.current.get(a.index);var d=y.get("DISCONNECT");if(d)for(var c=d.length-1;0<=c;c--)d[c].scope?d[c].func.apply(d.scope,[a]):d[c].func(a);a.Delete()}},h=function(b,a,d){this.func=a;this.scope=void 0==d?!1:d;this.id=b},k={startX:0,startY:0,lastX:0,lastY:0,pressed:!1},q={lastX:0,lastY:0,pressed:!1},t=null,u=null,B=null,z=null,A=null,x=null,w=null,y=null;return{currentTime:0,previousTime:0,Update:function(a){b.input.Gamepads.Update(a)},
Get:{State:{Mouse:function(){return q},Touch:function(){return k},Keyboard:function(b){return B.get(b)},Gamepad:function(b){return _Gamepads.get(b)}}},Register:{Mouse:{Event:{Down:function(b,d){var c=new h(a++,b,d);u.get("DOWN").push(c);return c},Up:function(b,d){var c=new h(a++,b,d);u.get("UP").push(c);return c},Move:function(b,d){var c=new h(a++,b,d);u.get("MOVE").push(c);return c}},State:{}},Touch:{Event:{Start:function(b,d){var c=new h(a++,b,d);t.get("START").push(c);return c},End:function(b,
d){var c=new h(a++,b,d);t.get("END").push(c);return c},Move:function(b,d){var c=new h(a++,b,d);t.get("MOVE").push(c);return c}},State:{}},Keyboard:{Event:{Keydown:function(b,d,c){d=new h(a++,d,c);isNaN(b);c=x.get(b);c||(c=[],isNaN(b)?z.put(b,c):x.put(b,c));c.push(d);return d},Keyup:function(b,d,c){d=new h(a++,d,c);isNaN(b);c=w.get(b);c||(c=[],isNaN(b)?A.put(b,c):w.put(b,c));c.push(d);return d}},State:{}},Gamepad:{Event:{Connected:function(b,d){var c=new h(a++,b,d);y.get("CONNECT").push(c);return c},
Disconnected:function(b,d){var c=new h(a++,b,d);y.get("DISCONNECT").push(c);return c}},State:{}}},Gamepads:{Raw:{current:[void 0,void 0,void 0,void 0],previous:[void 0,void 0,void 0,void 0]},current:null,previous:null,Poll:function(a){for(a=3;0<=a;a--)b.input.Gamepads.Raw.previous[a]=b.input.Gamepads.Raw.current[a];b.input.Gamepads.Raw.current=navigator.webkitGetGamepads&&navigator.webkitGetGamepads()||navigator.webkitGamepads;if(b.input.Gamepads.Raw.current)for(a=3;0<=a;a--)typeof b.input.Gamepads.Raw.current[a]!=
typeof b.input.Gamepads.Raw.previous[a]&&("undefined"==typeof b.input.Gamepads.Raw.previous[a]?d.Connect(b.input.Gamepads.Raw.current[a]):d.Disconnect(b.input.Gamepads.Raw.previous[a]))},Update:function(a){b.input.Gamepads.Poll(a);for(a=b.input.Gamepads.current.size-1;0<=a;a--)b.input.Gamepads.current.value().Update(),b.input.Gamepads.current.next()}},GetName:function(){return"JaHOVA OS Internal API : Input Core"},GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/OS/Cores/Audio/jahova.os.cores.audio.js"},
GetID:function(){return null},Initialize:function(){document.addEventListener("touchstart",p,!1);document.addEventListener("touchend",l,!1);document.addEventListener("touchmove",n,!1);document.addEventListener("mousedown",c,!1);document.addEventListener("mouseup",f,!1);document.addEventListener("mousemove",m,!1);window.addEventListener("keydown",r,!1);window.addEventListener("keyup",s,!1);t=b.resschmgr.Create.Map();t.put("START",[]);t.put("END",[]);t.put("MOVE",[]);u=b.resschmgr.Create.Map();u.put("DOWN",
[]);u.put("UP",[]);u.put("MOVE",[]);B=b.resschmgr.Create.Map();z=b.resschmgr.Create.Map();A=b.resschmgr.Create.Map();x=b.resschmgr.Create.Map();w=b.resschmgr.Create.Map();y=b.resschmgr.Create.Map();g.Gamepads.current=b.resschmgr.Create.Map();g.Gamepads.previous=b.resschmgr.Create.Map();y.put("CONNECT",[]);y.put("DISCONNECT",[])}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Cores.Instance().Database=function(){function m(){com.jahova.os.Instance();com.jahova.utilities.Instance();return{GetName:function(){return"JaHOVA OS Internal API : Database Core"},GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/OS/Cores/Database/jahova.os.cores.database.js"},GetID:function(){return null},Initialize:function(){}}}var g;return{Instance:function(){g||(g=m());return g}}}();
com.jahova.os.Instance().Cores.Instance().Audio=function(){function m(){var b=com.jahova.os.Instance();com.jahova.utilities.Instance();var a=null,e=function(a){this.key=a;this.path="";this.autoplay=this.loop=!1;this.volume=this.duration=this.type="";this.audio=b.resschmgr.Create.HTMLElement("audio")};return{Add:function(c,f,g,p,l){var n=new e(c);n.loop=g;n.autoplay=p;if(l){n.type=l;n.path=f;var m=document.createElement("source");"MP3"==l.toUpperCase()?n.audio.html().canPlayType("audio/mpeg;")?(m.type=
"audio/mpeg",m.src=f,n.audio.html().setAttribute("preload","auto"),g&&n.audio.html().setAttribute("loop",g),p&&n.audio.html().setAttribute("autoplay",p),n.audio.html().appendChild(m),a.put(c,n)):b.windows.Create.ErrorWindow(" Audio","Audio File: "+c+" not loaded <br/>Audio File Type: "+l+" is not supported by browser"):"OGG"==l.toUpperCase&&(n.audio.html().canPlayType("audio/ogg;")?(m.type="audio/ogg",m.src=f,n.audio.html().setAttribute("preload","auto"),loop&&n.audio.html().setAttribute("loop",g),
autoplay&&n.audio.html().setAttribute("autoplay",p),n.audio.html().appendChild(m),a.put(c,n)):b.windows.Create.ErrorWindow(" Audio","Audio File: "+c+" not loaded <br/>Audio File Type: "+l+" is not supported by browser"))}else n.type=l,n.path=f,m=document.createElement("source"),n.audio.html().canPlayType("audio/mpeg;")?(m.type="audio/mpeg",m.src=f+".mp3",n.audio.html().setAttribute("preload","auto"),g&&n.audio.html().setAttribute("loop",g),p&&n.audio.html().setAttribute("autoplay",p),n.audio.html().appendChild(m),
a.put(c,n)):n.audio.html().canPlayType("audio/ogg;")&&(m.type="audio/ogg",m.src=f+".ogg",n.audio.html().setAttribute("preload","auto"),g&&n.audio.html().setAttribute("loop",g),p&&n.audio.html().setAttribute("autoplay",p),n.audio.html().appendChild(m),a.put(c,n));n.duration=n.audio.html().duration;n.volume=n.audio.html().volume;return n},Get:{Volume:function(b){return a.get(b).volume},Sound:function(b){return a.get(b)},Duration:function(b){return a.get(key).audio.html().duration}},Set:{Volume:function(b,
e){var g=a.get(b);g.audio.html().volume=e;g.volume=e},CurrentTime:function(b,e){a.get(b).audio.html().currentTime=e}},Play:function(b){a.get(b).audio.html().play()},Pause:function(b){a.get(b).audio.html().pause()},GetName:function(){return"JaHOVA OS Internal API : Audio Core"},GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/OS/Cores/Audio/jahova.os.cores.audio.js"},GetID:function(){return null},Initialize:function(){a=b.resschmgr.Create.Map()}}}var g;return{Instance:function(){g||
(g=m());return g}}}();function degToRad(m){return m*(Math.PI/180)}function radToDegrees(m){return m*(180/Math.PI)}
com.jahova.os.Instance().Cores.Instance().Graphics=function(){function m(){var b=com.jahova.os.Instance();com.jahova.utilities.Instance();var a=!1,e=!1,c=null,f=null,g=null,m=null,l=null,n=null,r=null,s=function(b,a){for(var c=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<c.length;++f){try{e=b.getContext(c[f],a)}catch(g){}if(e)break}e||alert("Could Not Create WebGL Context");return e};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b,a){window.setTimeout(b,1E3/60)}}();CVertexShader=function(a,c){this.filename=c;this.name=a;this.loaded=!1;this.code="";this.shader=null;this.compiled=!1;this.onLoad=null;this.Load=function(){var a=b.resschmgr.Create.XHRObject();a.open("GET",this.filename,!1);a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status){if(this.code=a.responseText,this.loaded=!0,this.Initialize(),this.onLoad)this.onLoad()}else b.windows.Create.ErrorWindow("Shader Failer",
"Failed to load Vertex Shader: "+this.name+"<br/>At URL: "+this.filename+"<br/><br/>Check url and filename")}.bind(this);a.send()};this.Initialize=function(){var a=b.graphics.gl;this.shader=a.createShader(a.VERTEX_SHADER);a.shaderSource(this.shader,this.code);a.compileShader(this.shader);a.getShaderParameter(this.shader,a.COMPILE_STATUS)?this.compiled=!0:b.windows.Create.ErrorWindow("Shader Compile Error","Vertex Shader: "+this.name+"<br/><br/>"+a.getShaderInfoLog(this.shader))}.bind(this);this.Load()};
CFragmentShader=function(a,c){this.filename=c;this.name=a;this.loaded=!1;this.code="";this.onLoad=this.shader=null;this.Load=function(){var a=b.resschmgr.Create.XHRObject();a.open("GET",this.filename,!1);a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status){if(this.code=a.responseText,this.loaded=!0,this.Initialize(),this.onLoad)this.onLoad()}else b.windows.Create.ErrorWindow("Shader Failer","Failed to load Fragment Shader: "+this.name+"<br/>At URL: "+this.filename+"<br/><br/>Check url and filename")}.bind(this);
a.send()};this.Initialize=function(){var a=b.graphics.gl;this.shader=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(this.shader,this.code);a.compileShader(this.shader);a.getShaderParameter(this.shader,a.COMPILE_STATUS)?this.compiled=!0:b.windows.Create.ErrorWindow("Shader Compile Error","Fragment Shader: "+this.name+"<br/><br/>"+a.getShaderInfoLog(this.shader))}.bind(this);this.Load()};CProgram=function(a,c,k){var e=b.graphics.gl;this.name=k;this.compiled=!1;this.attributes=b.resschmgr.Create.Map();
this.uniforms=b.resschmgr.Create.Map();this.fragment=b.graphics.Managers.Shader.Maps.FragmentShaders.get(c);this.vertex=b.graphics.Managers.Shader.Maps.VertexShaders.get(a);this.program=e.createProgram();e.attachShader(this.program,this.fragment.shader);e.attachShader(this.program,this.vertex.shader);e.linkProgram(this.program);e.getProgramParameter(this.program,e.LINK_STATUS)?this.compiled=!0:b.windows.Create.ErrorWindow("Program Link Error","Program: "+this.name+"<br/><br/>Unable to initialize program<br/><br/>"+
e.getProgramInfoLog(this.program));this.CreateAttribute=function(a){b.graphics.Managers.Shader.ActiveProgram!=this.name&&b.graphics.Managers.Shader.SetActiveProgram(this);var d=e.getAttribLocation(this.program,a);this.attributes.put(a,d);e.enableVertexAttribArray(d)};this.CreateUniform=function(a){b.graphics.Managers.Shader.ActiveProgram!=this.name&&b.graphics.Managers.Shader.SetActiveProgram(this);var d=e.getUniformLocation(this.program,a);this.uniforms.put(a,d)}};CShader=function(a){this.Uniforms=
b.resschmgr.Create.Map();this.Attributes=b.resschmgr.Create.Map();this.Program=a;this.AddAttribute=function(a,d,c,e,f){b.graphics.Managers.Shader.ActiveProgram!=this.name&&b.graphics.Managers.Shader.SetActiveProgram(this);d=b.graphics.Managers.Shader.Create.Attribute(a,d,e);d.location=this.Program.attributes.get(a);"CUSTOM"==e.toUpperCase()&&(a=b.graphics.gl,d.value=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,d.buffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW),d.buffer.itemSize=
f,d.buffer.numItems=c.length/d.buffer.itemSize);this.Attributes.put(d.key,d)}.bind(this);this.AddUniform=function(a,d,c){b.graphics.Managers.Shader.ActiveProgram!=this.Program.name&&b.graphics.Managers.Shader.SetActiveProgram(this.Program.name);d=b.graphics.Managers.Shader.Create.Uniform(a,d,c);d.location=this.Program.uniforms.get(a);this.Uniforms.put(d.key,d)}.bind(this);this.BindAttributes=function(a){for(var d=b.graphics.gl,c=this.Attributes.size;c--;this.Attributes.next()){var e=this.Attributes.value();
"CUSTOM"==e.attributeType.toUpperCase()?(d.bindBuffer(d.ARRAY_BUFFER,e.buffer),d.vertexAttribPointer(e.location,e.buffer.itemSize,d.FLOAT,!1,0,0)):"VERTEX"==this.Attributes.value().attributeType.toUpperCase()?(d.bindBuffer(d.ARRAY_BUFFER,a.Buffers.Vertex),d.vertexAttribPointer(e.location,a.Buffers.Vertex.itemSize,d.FLOAT,!1,0,0)):"NORMAL"==this.Attributes.value().attributeType.toUpperCase()?(d.bindBuffer(d.ARRAY_BUFFER,a.Buffers.Normal),d.vertexAttribPointer(e.location,a.Buffers.Normal.itemSize,d.FLOAT,
!1,0,0)):"TEXTURE"==this.Attributes.value().attributeType.toUpperCase()?(d.bindBuffer(d.ARRAY_BUFFER,a.Buffers.Texture),d.vertexAttribPointer(e.location,a.Buffers.Texture.itemSize,d.FLOAT,!1,0,0)):"INSTANCE"==this.Attributes.value().attributeType.toUpperCase()&&(d.bindBuffer(d.ARRAY_BUFFER,a.Buffers.Instance),d.vertexAttribPointer(e.location,a.Buffers.Instance.itemSize,d.FLOAT,!1,0,0))}}.bind(this);this.SetUniforms=function(){for(i=this.Uniforms.size;i--;this.Uniforms.next()){var a=this.Uniforms.value(),
d=b.graphics.gl;"BOOL"==a.type?d.uniform1i(a.location,a.value):"4X4"==a.type?d.uniformMatrix4fv(a.location,!1,a.value):"3X3"==a.type?d.uniformMatrix3fv(a.location,!1,a.value):"VEC3"==a.type?d.uniform3f(a.location,a.value[0],a.value[1],a.value[2]):"VEC4"==a.type?d.uniform4f(a.location,a.value[0],a.value[1],a.value[2],a.value[3]):"FLOAT"==a.type?d.uniform1f(a.location,a.value):"ARRAY_VEC3"==a.type?d.uniform3fv(a.location,a.value):"ARRAY_VEC4"==a.type?d.uniform4fv(a.location,a.value):b.windows.Create.ErrorWindow("Shader Error",
"Unknown Uniform Type: "+a.type+" Found During SetUniforms()")}}.bind(this)};CAttribute=function(b,a,c){this.variableName=this.key=b;this.buffer=null;this.location="";this.dataType=a;this.attributeType=c;this.itemSize=null};CUniform=function(b,a,c){this.variableName=this.key=b;this.value=c;this.location="";this.type=a};CTexture=function(a,c){var k=b.graphics.gl;this.key=a;this.initialized=!1;this.type=k.TEXTURE_2D;this.texture=k.createTexture();this.image=new Image;this.image.src=c;this.onLoad=null;
this.image.onload=function(){this.Initialize();if(this.onLoad)this.onLoad()}.bind(this);this.Initialize=function(){k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!0);k.bindTexture(k.TEXTURE_2D,this.texture);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,this.image);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_NEAREST);k.generateMipmap(k.TEXTURE_2D);k.bindTexture(k.TEXTURE_2D,null);this.initialized=!0}.bind(this)};CRenderTexture=
function(a,c,k){var e=b.graphics.gl;this.key=a;this.initialized=!1;this.type=e.TEXTURE_2D;this.width=c;this.height=k;this.texture=e.createTexture();e.bindTexture(e.TEXTURE_2D,this.texture);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST);e.generateMipmap(e.TEXTURE_2D);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null);this.initialized=!0};CCubeMap=function(a){var c=b.graphics.gl,
k=0;this.type=c.TEXTURE_CUBE_MAP;this.key=a;this.initialized=!1;this.texture=c.createTexture();this.callback=null;var e=function(){k++;6==k&&(f(),this.callback&&this.callback())}.bind(this),f=function(){c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);c.bindTexture(c.TEXTURE_CUBE_MAP,this.texture);c.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.Images.positiveX);c.texImage2D(c.TEXTURE_CUBE_MAP_NEGATIVE_X,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.Images.negativeX);c.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_Y,
0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.Images.positiveY);c.texImage2D(c.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.Images.negativeY);c.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_Z,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.Images.positiveZ);c.texImage2D(c.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this.Images.negativeZ);c.texParameteri(c.TEXTURE_CUBE_MAP,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_CUBE_MAP,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR);c.texParameteri(c.TEXTURE_CUBE_MAP,
c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_CUBE_MAP,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.generateMipmap(c.TEXTURE_CUBE_MAP);c.bindTexture(c.TEXTURE_CUBE_MAP,null)}.bind(this);this.GetCount=function(){return k};this.Images={positiveX:null,negativeX:null,positiveY:null,negativeY:null,positiveZ:null,negativeZ:null};this.Load={positiveX:function(b){this.Images.positiveX=new Image;this.Images.positiveX.src=b;this.Images.positiveX.onload=e}.bind(this),negativeX:function(b){this.Images.negativeX=
new Image;this.Images.negativeX.src=b;this.Images.negativeX.onload=e}.bind(this),positiveY:function(b){this.Images.positiveY=new Image;this.Images.positiveY.src=b;this.Images.positiveY.onload=e}.bind(this),negativeY:function(b){this.Images.negativeY=new Image;this.Images.negativeY.src=b;this.Images.negativeY.onload=e}.bind(this),positiveZ:function(b){this.Images.positiveZ=new Image;this.Images.positiveZ.src=b;this.Images.positiveZ.onload=e}.bind(this),negativeZ:function(b){this.Images.negativeZ=new Image;
this.Images.negativeZ.src=b;this.Images.negativeZ.onload=e}.bind(this)}};CMesh=function(a,c){this.name=a;this.filename=c;this.loaded=!1;this.numOfVerts=this.numOfPolys=0;this.instanced=!1;this.onLoad=this.model=null;this.Buffers={Vertex:null,Normal:null,Texture:null,Instance:null,Index:null};this.Load=function(){var a=b.resschmgr.Create.XHRObject();a.open("GET",this.filename,!0);a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)try{if(this.model=JSON.parse(a.responseText),this.Initialize(),
this.onLoad)this.onLoad()}catch(d){b.windows.Create.ErrorWindow("Mesh Failer","Failed to parse Mesh: "+this.name+"<br/>At URL: "+this.filename+"<br/><br/>The file was not a compatiable JSON format")}else b.windows.Create.ErrorWindow("Mesh Failure","Failed to load Mesh: "+this.name+"<br/>At URL: "+this.filename+"<br/><br/>Check url and filename")}.bind(this);a.send()}.bind(this);this.Initialize=function(){var a=b.graphics.gl;this.model.vertexNormals&&(this.Buffers.Normal=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,
this.Buffers.Normal),a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.model.vertexNormals),a.STATIC_DRAW),this.Buffers.Normal.itemSize=3,this.Buffers.Normal.numItems=this.model.vertexNormals.length/this.Buffers.Normal.itemSize);this.model.vertexTextureCoords&&(this.Buffers.Texture=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Buffers.Texture),a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.model.vertexTextureCoords),a.STATIC_DRAW),this.Buffers.Texture.itemSize=2,this.Buffers.Texture.numItems=
this.model.vertexTextureCoords.length/this.Buffers.Texture.itemSize);this.model.indices&&(this.Buffers.Index=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Buffers.Index),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.model.indices),a.STATIC_DRAW),this.Buffers.Index.itemSize=1,this.Buffers.Index.numItems=this.model.indices.length/this.Buffers.Index.itemSize);this.model.instance&&(this.Buffers.Instance=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Buffers.Instance),a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.model.instance),a.STATIC_DRAW),this.Buffers.Instance.itemSize=1,this.Buffers.Instance.numItems=this.model.instance.length/this.Buffers.Instance.itemSize,this.instanced=!0);this.Buffers.Vertex=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Buffers.Vertex);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.model.vertexPositions),a.STATIC_DRAW);this.Buffers.Vertex.itemSize=3;this.Buffers.Vertex.numItems=this.model.vertexPositions.length/this.Buffers.Vertex.itemSize;this.numOfVerts=
this.Buffers.Vertex.numItems;this.numOfPolys=this.Buffers.Index.numItems/3;this.loaded=!0}.bind(this);this.Draw=function(){var a=b.graphics.gl;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Buffers.Index);a.drawElements(a.TRIANGLES,this.Buffers.Index.numItems,a.UNSIGNED_SHORT,0);b.graphics.Managers.Mesh.totalPolys+=this.numOfPolys;b.graphics.Managers.Mesh.totalVerts+=this.numOfVerts};this.DrawArray=function(){var a=b.graphics.gl;a.drawArrays(a.TRIANGLES,0,this.Buffers.Vertex.numItems)};c&&this.Load()};
CGraphicsEntity=function(a){this.parent=a;this.Texture=b.resschmgr.Create.Map();this.Mesh=b.resschmgr.Create.Map();this.Shaders=b.resschmgr.Create.Map();this.Vectors={Position:vec3.create(),Scale:vec3.create([1,1,1]),Rotate:vec3.create(),Offset:vec3.create()};this.Matrix={World:mat4.create(),Translate:mat4.create(),Parent:mat4.create(),Scale:mat4.create(),Rotation:mat4.create(),RotateX:mat4.create(),RotateY:mat4.create(),RotateZ:mat4.create(),Normal:mat3.create()};mat4.identity(this.Matrix.Parent);
this.Add={Shader:function(a,d){var c=b.graphics.Managers.Shader.Maps.Programs.get(d),c=b.graphics.Managers.Shader.Create.Shader(c);this.Shaders.put(a,c);return c}.bind(this),Mesh:function(a){var d=b.graphics.Managers.Mesh.meshes.get(a);if(d.instanced){var c=this.Shaders.get("default");c&&(c.Program.CreateAttribute("aInstance"),c.AddAttribute("aInstance","FLOAT",null,"INSTANCE",null),c.Uniforms.get("uUseInstacing").value=!0)}this.Mesh.put(a,d);return d}.bind(this),Texture:function(a){var d=b.graphics.Managers.Texture.textures.get(a);
this.Texture.put(a,d);return d}.bind(this)};this.Update=function(a){};this.Draw=function(a,b){var d=null,e=null,d=a?this.Shaders.get(a):this.Shaders.value();if(b)e=this.Mesh.get(b),c(e,d);else for(e=this.Mesh.size;e--;this.Mesh.next())c(this.Mesh.value(),d)};var c=function(a,d){var c=b.graphics.gl;b.graphics.Managers.Shader.ActiveProgram!=d.Program.name&&b.graphics.Managers.Shader.SetActiveProgram(d.Program);if(a.loaded){mat4.identity(this.Matrix.Scale);mat4.scale(this.Matrix.Scale,this.Vectors.Scale,
this.Matrix.Scale);mat4.identity(this.Matrix.Translate);this.parent.Physics?mat4.translate(this.Matrix.Translate,this.parent.Physics.position):mat4.translate(this.Matrix.Translate,this.parent.Position);this.parent.Physics?(quat4.normalize(this.parent.Physics.orientation,this.parent.Physics.orientation),mat4.set(quat4.toMat4(this.parent.Physics.orientation),this.Matrix.Rotation),mat4.multiply(this.parent.Default.Rotation,this.Matrix.Rotation,this.Matrix.Rotation)):(this.CalculateRotationMatrix(),mat4.identity(this.Matrix.RotateX),
mat4.identity(this.Matrix.RotateY),mat4.identity(this.Matrix.RotateZ),mat4.rotateZ(this.Matrix.RotateZ,degToRad(this.parent.roll),this.Matrix.RotateZ),mat4.rotateX(this.Matrix.RotateX,degToRad(this.parent.pitch),this.Matrix.RotateX),mat4.rotateY(this.Matrix.RotateY,degToRad(this.parent.yaw),this.Matrix.RotateY),mat4.identity(this.Matrix.Rotation),mat4.multiply(this.parent.Default.Rotation,this.Matrix.RotateY,this.Matrix.Rotation),mat4.multiply(this.Matrix.Rotation,this.Matrix.RotateX,this.Matrix.Rotation),
mat4.multiply(this.Matrix.Rotation,this.Matrix.RotateZ,this.Matrix.Rotation));mat4.identity(this.Matrix.World);mat4.multiply(this.Matrix.Parent,this.Matrix.World,this.Matrix.World);mat4.multiply(this.Matrix.World,this.Matrix.Translate,this.Matrix.World);mat4.multiply(this.Matrix.World,this.Matrix.Rotation,this.Matrix.World);mat4.multiply(this.Matrix.World,this.Matrix.Scale,this.Matrix.World);mat4.multiply(this.Matrix.World,this.parent.Default.Offset,this.Matrix.World);mat4.create();mat4.toInverseMat3(this.Matrix.World,
this.Matrix.Normal);mat3.transpose(this.Matrix.Normal,this.Matrix.Normal);if("default"==d.Program.name){var e=d.Uniforms.get("uUseTextures");if(e&&e.value)if(this.Texture.value())c.activeTexture(c.TEXTURE0),c.bindTexture(this.Texture.value().type,this.Texture.value().texture),c.generateMipmap(c.TEXTURE_2D),c.uniform1i(d.Uniforms.get("uSampler"),0);else throw Error("Error: Texture Enabled for Entity: "+this.Texture.value().key+" , But No Texture Loaded");}else 0<this.Texture.size&&(c.activeTexture(c.TEXTURE0),
c.bindTexture(this.Texture.value().type,this.Texture.value().texture),c.uniform1i(d.Uniforms.get("uSampler"),0));d.SetUniforms();d.BindAttributes(a);a.Draw()}}.bind(this)};return{gl:null,Managers:{Shader:{Maps:{VertexShaders:new b.resschmgr.Create.Map,FragmentShaders:new b.resschmgr.Create.Map,Programs:new b.resschmgr.Create.Map},Create:{VertexShader:function(a,c){var e=new CVertexShader(a,c);b.graphics.Managers.Shader.Maps.VertexShaders.put(a,e);return e},FragmentShader:function(a,c){var e=new CFragmentShader(a,
c);b.graphics.Managers.Shader.Maps.FragmentShaders.put(a,e);return e},Program:function(a,c,e){a=new CProgram(a,c,e);b.graphics.Managers.Shader.Maps.Programs.put(e,a);return a},Shader:function(a){return new CShader(a)},Uniform:function(a,b,c){return new CUniform(a,b,c)},Attribute:function(a,b,c){return new CAttribute(a,b,c)}},SetActiveProgram:function(a){b.graphics.Managers.Shader.ActiveProgram=a.name;b.graphics.gl.useProgram(a.program)},ActiveProgram:null},Mesh:{meshes:b.resschmgr.Create.Map(),totalPolys:0,
totalVerts:0,Create:{Mesh:function(a,c){var e=new CMesh(a,c);b.graphics.Managers.Mesh.meshes.put(a,e);return e},Primitive:{Cube:function(a){var c=new CMesh(a);c.model={};c.model.indices=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];c.model.vertexNormals=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0];c.model.vertexPositions=[-1,-1,1,1,-1,1,
1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1];c.model.vertexTextureCoords=[0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1];b.graphics.Managers.Mesh.meshes.put(a,c);return c},Quad:function(a){var c=new CMesh(a);c.model={};c.model.indices=[0,1,2,0,2,3];c.model.vertexNormals=[0,0,1,0,0,1,0,0,1,0,0,1];c.model.vertexPositions=[-1,-1,1,
1,-1,1,1,1,1,-1,1,1];c.model.vertexTextureCoords=[0,0,1,0,1,1,0,1];b.graphics.Managers.Mesh.meshes.put(a,c);return c},Sphere:function(a){var c=new CMesh(a);c.model={};c.model.vertexPositions=[3.1164155077197375E-17,20,1.5582077538598687E-17,3.1164155077197375E-17,18.476,-7.652,-2.928,18.476,-7.072,3.1164155077197375E-17,20,1.5582077538598687E-17,-5.412,18.476,-5.412,3.1164155077197375E-17,20,1.5582077538598687E-17,-7.072,18.476,-2.928,3.1164155077197375E-17,20,1.5582077538598687E-17,-7.652,18.476,
1.5582077538598687E-17,3.1164155077197375E-17,20,1.5582077538598687E-17,-7.072,18.476,2.928,3.1164155077197375E-17,20,1.5582077538598687E-17,-5.412,18.476,5.412,3.1164155077197375E-17,20,1.5582077538598687E-17,-2.928,18.476,7.072,3.1164155077197375E-17,20,1.5582077538598687E-17,3.1164155077197375E-17,18.476,7.652,3.1164155077197375E-17,20,1.5582077538598687E-17,2.928,18.476,7.072,3.1164155077197375E-17,20,1.5582077538598687E-17,5.412,18.476,5.412,3.1164155077197375E-17,20,1.5582077538598687E-17,7.072,
18.476,2.928,3.1164155077197375E-17,20,1.5582077538598687E-17,7.652,18.476,1.5582077538598687E-17,3.1164155077197375E-17,20,1.5582077538598687E-17,7.072,18.476,-2.928,3.1164155077197375E-17,20,1.5582077538598687E-17,5.412,18.476,-5.412,3.1164155077197375E-17,20,1.5582077538598687E-17,2.928,18.476,-7.072,3.1164155077197375E-17,20,1.5582077538598687E-17,3.1164155077197375E-17,18.476,-7.652,3.1164155077197375E-17,14.144,-14.144,-5.412,14.144,-13.064,-10,14.144,-10,-13.064,14.144,-5.412,-14.144,14.144,
1.5582077538598687E-17,-13.064,14.144,5.412,-10,14.144,10,-5.412,14.144,13.064,3.1164155077197375E-17,14.144,14.144,5.412,14.144,13.064,10,14.144,10,13.064,14.144,5.412,14.144,14.144,1.5582077538598687E-17,13.064,14.144,-5.412,10,14.144,-10,5.412,14.144,-13.064,3.1164155077197375E-17,14.144,-14.144,3.1164155077197375E-17,14.144,-14.144,3.1164155077197375E-17,18.476,-7.652,3.1164155077197375E-17,7.652,-18.476,-7.072,7.652,-17.072,-13.064,7.652,-13.064,-17.072,7.652,-7.072,-18.476,7.652,1.5582077538598687E-17,
-17.072,7.652,7.072,-13.064,7.652,13.064,-7.072,7.652,17.072,3.1164155077197375E-17,7.652,18.476,7.072,7.652,17.072,13.064,7.652,13.064,17.072,7.652,7.072,18.476,7.652,1.5582077538598687E-17,17.072,7.652,-7.072,13.064,7.652,-13.064,7.072,7.652,-17.072,3.1164155077197375E-17,7.652,-18.476,3.1164155077197375E-17,7.652,-18.476,3.1164155077197375E-17,14.144,-14.144,3.1164155077197375E-17,0,-20,-7.652,0,-18.476,-14.144,0,-14.144,-18.476,0,-7.652,-20,0,1.5582077538598687E-17,-18.476,0,7.652,-14.144,0,14.144,
-7.652,0,18.476,3.1164155077197375E-17,0,20,7.652,0,18.476,14.144,0,14.144,18.476,0,7.652,20,0,1.5582077538598687E-17,18.476,0,-7.652,14.144,0,-14.144,7.652,0,-18.476,3.1164155077197375E-17,0,-20,3.1164155077197375E-17,0,-20,3.1164155077197375E-17,7.652,-18.476,3.1164155077197375E-17,-7.652,-18.476,-7.072,-7.652,-17.072,-13.064,-7.652,-13.064,-17.072,-7.652,-7.072,-18.476,-7.652,1.5582077538598687E-17,-17.072,-7.652,7.072,-13.064,-7.652,13.064,-7.072,-7.652,17.072,3.1164155077197375E-17,-7.652,18.476,
7.072,-7.652,17.072,13.064,-7.652,13.064,17.072,-7.652,7.072,18.476,-7.652,1.5582077538598687E-17,17.072,-7.652,-7.072,13.064,-7.652,-13.064,7.072,-7.652,-17.072,3.1164155077197375E-17,-7.652,-18.476,3.1164155077197375E-17,-7.652,-18.476,3.1164155077197375E-17,0,-20,3.1164155077197375E-17,-14.144,-14.144,-5.412,-14.144,-13.064,-10,-14.144,-10,-13.064,-14.144,-5.412,-14.144,-14.144,1.5582077538598687E-17,-13.064,-14.144,5.412,-10,-14.144,10,-5.412,-14.144,13.064,3.1164155077197375E-17,-14.144,14.144,
5.412,-14.144,13.064,10,-14.144,10,13.064,-14.144,5.412,14.144,-14.144,1.5582077538598687E-17,13.064,-14.144,-5.412,10,-14.144,-10,5.412,-14.144,-13.064,3.1164155077197375E-17,-14.144,-14.144,3.1164155077197375E-17,-14.144,-14.144,3.1164155077197375E-17,-7.652,-18.476,3.1164155077197375E-17,-18.476,-7.652,-2.928,-18.476,-7.072,-5.412,-18.476,-5.412,-7.072,-18.476,-2.928,-7.652,-18.476,1.5582077538598687E-17,-7.072,-18.476,2.928,-5.412,-18.476,5.412,-2.928,-18.476,7.072,3.1164155077197375E-17,-18.476,
7.652,2.928,-18.476,7.072,5.412,-18.476,5.412,7.072,-18.476,2.928,7.652,-18.476,1.5582077538598687E-17,7.072,-18.476,-2.928,5.412,-18.476,-5.412,2.928,-18.476,-7.072,3.1164155077197375E-17,-18.476,-7.652,3.1164155077197375E-17,-18.476,-7.652,3.1164155077197375E-17,-14.144,-14.144,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,
-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-20,
1.5582077538598687E-17,3.1164155077197375E-17,-20,1.5582077538598687E-17,3.1164155077197375E-17,-18.476,-7.652];c.model.vertexNormals=[7.11818E-9,0.998314,0,-0.0224853,0.906764,-0.417791,-0.180472,0.90674,-0.37753,7.11818E-9,0.998314,0,-0.311318,0.906746,-0.279589,7.11818E-9,0.998314,0,-0.394568,0.906769,-0.139153,7.11818E-9,0.998314,0,-0.417791,0.906764,0.0224853,7.11818E-9,0.998314,0,-0.37753,0.90674,0.180472,7.11818E-9,0.998314,0,-0.279589,0.906746,0.311318,7.11818E-9,0.998314,0,-0.139153,0.906769,
0.394568,7.11818E-9,0.998314,0,0.0224853,0.906764,0.417791,7.11818E-9,0.998314,0,0.180472,0.90674,0.37753,7.11818E-9,0.998314,0,0.311318,0.906746,0.279589,7.11818E-9,0.998314,0,0.394568,0.906769,0.139153,7.11818E-9,0.998314,0,0.417791,0.906764,-0.0224853,7.11818E-9,0.998314,0,0.37753,0.90674,-0.180472,7.11818E-9,0.998314,0,0.279589,0.906746,-0.311318,7.11818E-9,0.998314,0,0.139153,0.906769,-0.394568,7.11818E-9,0.998314,0,-0.0224853,0.906764,-0.417791,-0.00917635,0.707194,-0.706031,-0.278733,0.707191,
-0.648748,-0.505698,0.707148,-0.492845,-0.655821,0.707147,-0.261774,-0.706031,0.707194,0.00917635,-0.648748,0.707191,0.278733,-0.492845,0.707148,0.505698,-0.261774,0.707147,0.655821,0.00917636,0.707194,0.706031,0.278733,0.707191,0.648748,0.505698,0.707148,0.492845,0.655821,0.707147,0.261774,0.706031,0.707194,-0.00917635,0.648748,0.707191,-0.278733,0.492845,0.707148,-0.505698,0.261774,0.707147,-0.655821,-0.00917635,0.707194,-0.706031,-0.00917635,0.707194,-0.706031,-0.0224853,0.906764,-0.417791,-0.0048527,
0.382737,-0.923233,-0.357826,0.382836,-0.85104,-0.656292,0.38289,-0.649265,-0.854791,0.382793,-0.34882,-0.923233,0.382737,0.0048527,-0.85104,0.382836,0.357826,-0.649265,0.38289,0.656292,-0.34882,0.382793,0.854791,0.0048527,0.382737,0.923233,0.357826,0.382836,0.85104,0.656292,0.38289,0.649265,0.854791,0.382793,0.34882,0.923233,0.382737,-0.0048527,0.85104,0.382836,-0.357826,0.649265,0.38289,-0.656292,0.34882,0.382793,-0.854791,-0.0048527,0.382737,-0.923233,-0.0048527,0.382737,-0.923233,-0.00917635,
0.707194,-0.706031,0,7.74103E-9,-0.999475,-0.382382,-6.4306E-5,-0.923435,-0.706737,5.16123E-9,-0.706736,-0.923435,6.43112E-5,-0.382382,-0.999475,-7.74103E-9,2.58034E-9,-0.923435,-6.4306E-5,0.382382,-0.706736,2.58061E-9,0.706737,-0.382382,6.4306E-5,0.923435,2.58034E-9,-2.58034E-9,0.999475,0.382382,-6.4306E-5,0.923435,0.706737,5.16123E-9,0.706736,0.923435,6.43112E-5,0.382382,0.999475,-7.74103E-9,-2.58034E-9,0.923435,-6.4306E-5,-0.382382,0.706736,2.58061E-9,-0.706737,0.382382,6.4306E-5,-0.923435,0,7.74103E-9,
-0.999475,0,7.74103E-9,-0.999475,-0.0048527,0.382737,-0.923233,0.0048527,-0.382737,-0.923233,-0.34882,-0.382793,-0.854791,-0.649265,-0.38289,-0.656292,-0.85104,-0.382836,-0.357826,-0.923233,-0.382737,-0.0048527,-0.854791,-0.382793,0.34882,-0.656292,-0.38289,0.649265,-0.357826,-0.382836,0.85104,-0.0048527,-0.382737,0.923233,0.34882,-0.382793,0.854791,0.649265,-0.38289,0.656292,0.85104,-0.382836,0.357826,0.923233,-0.382737,0.0048527,0.854791,-0.382793,-0.34882,0.656292,-0.38289,-0.649265,0.357826,-0.382836,
-0.85104,0.0048527,-0.382737,-0.923233,0.0048527,-0.382737,-0.923233,0,7.74103E-9,-0.999475,0.00917636,-0.707194,-0.706031,-0.261774,-0.707147,-0.655821,-0.492845,-0.707148,-0.505698,-0.648748,-0.707191,-0.278732,-0.706031,-0.707194,-0.00917636,-0.655821,-0.707147,0.261774,-0.505698,-0.707148,0.492845,-0.278732,-0.707191,0.648748,-0.00917636,-0.707194,0.706031,0.261774,-0.707147,0.655821,0.492845,-0.707148,0.505698,0.648748,-0.707191,0.278732,0.706031,-0.707194,0.00917636,0.655821,-0.707147,-0.261774,
0.505698,-0.707148,-0.492845,0.278732,-0.707191,-0.648748,0.00917636,-0.707194,-0.706031,0.00917636,-0.707194,-0.706031,0.0048527,-0.382737,-0.923233,0.0224853,-0.906764,-0.417791,-0.139153,-0.906769,-0.394568,-0.279589,-0.906746,-0.311318,-0.37753,-0.90674,-0.180472,-0.417791,-0.906764,-0.0224853,-0.394568,-0.906769,0.139153,-0.311318,-0.906746,0.279589,-0.180472,-0.90674,0.37753,-0.0224853,-0.906764,0.417791,0.139153,-0.906769,0.394568,0.279589,-0.906746,0.311318,0.37753,-0.90674,0.180472,0.417791,
-0.906764,0.0224853,0.394568,-0.906769,-0.139153,0.311318,-0.906746,-0.279589,0.180472,-0.90674,-0.37753,0.0224853,-0.906764,-0.417791,0.0224853,-0.906764,-0.417791,0.00917636,-0.707194,-0.706031,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,
-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,1.18636E-9,-0.998314,9.49091E-10,0.0224853,-0.906764,-0.417791];c.model.vertexTextureCoords=[0,1,0,0.875,0.0625,0.875,0.0625,1,0.125,0.875,0.125,1,0.1875,0.875,0.1875,1,0.25,0.875,0.25,1,0.3125,0.875,0.3125,1,0.375,0.875,0.375,1,0.4375,0.875,0.4375,1,0.5,0.875,0.5,1,0.5625,0.875,0.5625,1,0.625,0.875,0.625,1,0.6875,
0.875,0.6875,1,0.75,0.875,0.75,1,0.8125,0.875,0.8125,1,0.875,0.875,0.875,1,0.9375,0.875,0.9375,1,1,0.875,0,0.75,0.0625,0.75,0.125,0.75,0.1875,0.75,0.25,0.75,0.3125,0.75,0.375,0.75,0.4375,0.75,0.5,0.75,0.5625,0.75,0.625,0.75,0.6875,0.75,0.75,0.75,0.8125,0.75,0.875,0.75,0.9375,0.75,1,0.75,1,0.75,1,0.875,0,0.625,0.0625,0.625,0.125,0.625,0.1875,0.625,0.25,0.625,0.3125,0.625,0.375,0.625,0.4375,0.625,0.5,0.625,0.5625,0.625,0.625,0.625,0.6875,0.625,0.75,0.625,0.8125,0.625,0.875,0.625,0.9375,0.625,1,0.625,
1,0.625,1,0.75,0,0.5,0.0625,0.5,0.125,0.5,0.1875,0.5,0.25,0.5,0.3125,0.5,0.375,0.5,0.4375,0.5,0.5,0.5,0.5625,0.5,0.625,0.5,0.6875,0.5,0.75,0.5,0.8125,0.5,0.875,0.5,0.9375,0.5,1,0.5,1,0.5,1,0.625,0,0.375,0.0625,0.375,0.125,0.375,0.1875,0.375,0.25,0.375,0.3125,0.375,0.375,0.375,0.4375,0.375,0.5,0.375,0.5625,0.375,0.625,0.375,0.6875,0.375,0.75,0.375,0.8125,0.375,0.875,0.375,0.9375,0.375,1,0.375,1,0.375,1,0.5,0,0.25,0.0625,0.25,0.125,0.25,0.1875,0.25,0.25,0.25,0.3125,0.25,0.375,0.25,0.4375,0.25,0.5,0.25,
0.5625,0.25,0.625,0.25,0.6875,0.25,0.75,0.25,0.8125,0.25,0.875,0.25,0.9375,0.25,1,0.25,1,0.25,1,0.375,0,0.125,0.0625,0.125,0.125,0.125,0.1875,0.125,0.25,0.125,0.3125,0.125,0.375,0.125,0.4375,0.125,0.5,0.125,0.5625,0.125,0.625,0.125,0.6875,0.125,0.75,0.125,0.8125,0.125,0.875,0.125,0.9375,0.125,1,0.125,1,0.125,1,0.25,0,0,0.0625,0,0.125,0,0.1875,0,0.25,0,0.3125,0,0.375,0,0.4375,0,0.5,0,0.5625,0,0.625,0,0.6875,0,0.75,0,0.8125,0,0.875,0,0.9375,0,1,0.125];c.model.indices=[0,1,2,3,2,4,5,4,6,7,6,8,9,8,10,
11,10,12,13,12,14,15,14,16,17,16,18,19,18,20,21,20,22,23,22,24,25,24,26,27,26,28,29,28,30,31,30,32,1,33,34,1,34,2,2,34,35,2,35,4,4,35,36,4,36,6,6,36,37,6,37,8,8,37,38,8,38,10,10,38,39,10,39,12,12,39,40,12,40,14,14,40,41,14,41,16,16,41,42,16,42,18,18,42,43,18,43,20,20,43,44,20,44,22,22,44,45,22,45,24,24,45,46,24,46,26,26,46,47,26,47,28,28,47,48,28,48,30,30,48,49,30,50,51,33,52,53,33,53,34,34,53,54,34,54,35,35,54,55,35,55,36,36,55,56,36,56,37,37,56,57,37,57,38,38,57,58,38,58,39,39,58,59,39,59,40,40,
59,60,40,60,41,41,60,61,41,61,42,42,61,62,42,62,43,43,62,63,43,63,44,44,63,64,44,64,45,45,64,65,45,65,46,46,65,66,46,66,47,47,66,67,47,67,48,48,67,68,48,69,70,52,71,72,52,72,53,53,72,73,53,73,54,54,73,74,54,74,55,55,74,75,55,75,56,56,75,76,56,76,57,57,76,77,57,77,58,58,77,78,58,78,59,59,78,79,59,79,60,60,79,80,60,80,61,61,80,81,61,81,62,62,81,82,62,82,63,63,82,83,63,83,64,64,83,84,64,84,65,65,84,85,65,85,66,66,85,86,66,86,67,67,86,87,67,88,89,71,90,91,71,91,72,72,91,92,72,92,73,73,92,93,73,93,74,
74,93,94,74,94,75,75,94,95,75,95,76,76,95,96,76,96,77,77,96,97,77,97,78,78,97,98,78,98,79,79,98,99,79,99,80,80,99,100,80,100,81,81,100,101,81,101,82,82,101,102,82,102,83,83,102,103,83,103,84,84,103,104,84,104,85,85,104,105,85,105,86,86,105,106,86,107,108,90,109,110,90,110,91,91,110,111,91,111,92,92,111,112,92,112,93,93,112,113,93,113,94,94,113,114,94,114,95,95,114,115,95,115,96,96,115,116,96,116,97,97,116,117,97,117,98,98,117,118,98,118,99,99,118,119,99,119,100,100,119,120,100,120,101,101,120,121,
101,121,102,102,121,122,102,122,103,103,122,123,103,123,104,104,123,124,104,124,105,105,124,125,105,126,127,109,128,129,109,129,110,110,129,130,110,130,111,111,130,131,111,131,112,112,131,132,112,132,113,113,132,133,113,133,114,114,133,134,114,134,115,115,134,135,115,135,116,116,135,136,116,136,117,117,136,137,117,137,118,118,137,138,118,138,119,119,138,139,119,139,120,120,139,140,120,140,121,121,140,141,121,141,122,122,141,142,122,142,123,123,142,143,123,143,124,124,143,144,124,145,146,147,129,128,
148,130,129,149,131,130,150,132,131,151,133,132,152,134,133,153,135,134,154,136,135,155,137,136,156,138,137,157,139,138,158,140,139,159,141,140,160,142,141,161,143,142,162,163,143];b.graphics.Managers.Mesh.meshes.put(a,c);return c}},Instanced:function(a,c,e){a=b.graphics.Managers.Mesh.GetMesh(a);var f=b.graphics.Managers.Mesh.Create.Mesh(c);f.model={};f.model.indices=[];f.model.vertexNormals=[];f.model.vertexPositions=[];f.model.vertexTextureCoords=[];f.model.instance=[];for(var g=0;g<e;g++){f.model.vertexPositions=
f.model.vertexPositions.concat(a.model.vertexPositions);f.model.vertexNormals=f.model.vertexNormals.concat(a.model.vertexNormals);f.model.vertexTextureCoords=f.model.vertexTextureCoords.concat(a.model.vertexTextureCoords);for(var l=0;l<a.model.indices.length;l++)f.model.indices.push(a.model.indices[l]+g*a.numOfVerts);for(l=0;l<a.numOfVerts;l++)f.model.instance.push(g)}f.instanced=!0;b.graphics.Managers.Mesh.meshes.put(c,f);return f}},GetMesh:function(a){return b.graphics.Managers.Mesh.meshes.get(a)}},
Sprite:{},Texture:{textures:new b.resschmgr.Create.Map,Create:{Texture:function(a,c){var e=new CTexture(a,c);b.graphics.Managers.Texture.textures.put(a,e);return e},CubeMap:function(a){var c=new CCubeMap(a);b.graphics.Managers.Texture.textures.put(a,c);return c},RenderTexture:function(a,c,e){c=new CRenderTexture(a,c,e);b.graphics.Managers.Texture.textures.put(a,c);return c}},GetTexture:function(a){return b.graphics.Managers.Texture.textures.get(a)}},Entity:{Entities:new b.resschmgr.Create.Map,_count:0,
Create:function(a,c){var e;c?(e=c,b.graphics.Managers.Entity._count++):e=b.graphics.Managers.Entity._count++;e=new b.resschmgr.Create.Entity(e);b.graphics.Managers.Entity.EnableGraphics(e,a);return e},EnableGraphics:function(a,c){a.Graphics=new CGraphicsEntity(a);a.Graphics.Set={};if(!c||"default"==c){var e=a.Graphics.Add.Shader("default","default");e.AddAttribute("aVertexPosition","FLOAT",null,"VERTEX",null);e.AddAttribute("aVertexNormal","FLOAT",null,"NORMAL",null);e.AddAttribute("aTextureCoord",
"FLOAT",null,"TEXTURE",null);e.AddUniform("uPMatrix","4X4",b.graphics.Matrix.Projection);e.AddUniform("uVMatrix","4X4",b.graphics.Matrix.View);e.AddUniform("uWMatrix","4X4",a.Graphics.Matrix.World);e.AddUniform("uNMatrix","3X3",a.Graphics.Matrix.Normal);e.AddUniform("uVIMatrix","4X4",b.graphics.Matrix.ViewInverse);e.AddUniform("uShowSpecularHighlights","BOOL",!0);e.AddUniform("uUseTextures","BOOL",!0);e.AddUniform("uUseLighting","BOOL",!0);e.AddUniform("uUseBlendColor","BOOL",!1);e.AddUniform("uUseFog",
"BOOL",!1);e.AddUniform("uUseInstacing","BOOL",!1);e.AddUniform("uMaterialShininess","FLOAT",32);e.AddUniform("uAmbientColor","VEC3",[0.2,0.2,0.2]);e.AddUniform("uBlendColor","VEC3",[0,0,0]);e.AddUniform("uPointLightDiffuseColor","VEC3",[0.8,0.8,0.8]);e.AddUniform("uPointLightLocation","VEC3",[26,120,-211]);e.AddUniform("uFogColor","VEC3",[0,0,0]);e.AddUniform("uFogEndPosition","FLOAT",100);e.AddUniform("uFogBeginPosition","FLOAT",10);e.AddUniform("uCameraPosition","VEC3",b.graphics.Managers.Camera.Position);
a.Graphics.Instanced={};a.Graphics.Instanced.position=[0,0,0];a.Graphics.Instanced.color=[0,0,0,0];e.AddUniform("uInstancePosition","ARRAY_VEC3",a.Graphics.Instanced.position);e.AddUniform("uInstanceColor","ARRAY_VEC4",a.Graphics.Instanced.color);a.Graphics.Set.light=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uUseLighting").value=a}.bind(a);a.Graphics.Set.specular=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uShowSpecularHighlights").value=a}.bind(a);a.Graphics.Set.ambientColor=
function(a){this.Graphics.Shaders.get("default").Uniforms.get("uAmbientColor").value=a}.bind(a);a.Graphics.Set.texture=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uUseTextures").value=a}.bind(a);a.Graphics.Set.fog=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uUseFog").value=a}.bind(a);a.Graphics.Set.fogColor=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uFogColor").value=a}.bind(a);a.Graphics.Set.fogBeginPosition=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uFogBeginPosition").value=
a}.bind(a);a.Graphics.Set.fogEndPosition=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uFogEndPosition").value=a}.bind(a);a.Graphics.Set.glow=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uUseGlow").value=a}.bind(a);a.Graphics.Set.useBlendColor=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uUseBlendColor").value=a}.bind(a);a.Graphics.Set.blendColor=function(a){this.Graphics.Shaders.get("default").Uniforms.get("uBlendColor").value=a}.bind(a)}a.Position=
vec3.create();a.yaw=0;a.pitch=0;a.roll=0;a.Set.Position=function(a,b,c){this.Position[0]=a;this.Position[1]=b;this.Position[2]=c}.bind(a);a.Set.Rotation=function(a,b,c){this.yaw=b;this.pitch=a;this.roll=c}.bind(a);a.Set.Scale=function(a,b,c){vec3.set([a,b,c],this.Graphics.Vectors.Scale)}.bind(a);a.Default={Look:vec3.create([0,0,1]),Right:vec3.create([1,0,0]),Up:vec3.create([0,1,0]),Offset:mat4.create(),Rotation:mat4.create(),yaw:0,pitch:0,roll:0,Position:vec3.create([0,0,0])};mat4.identity(a.Default.Offset);
a.Attach=function(b){(a.attachedEntity=b)?(a.attached=!0,a.Position=b.Physics?b.Physics.position:b.Position):(a.atached=!1,a.Position=vec3.create(),vec3.set(b.Position,a.Position))};a.Axis={Look:vec3.create(a.Default.Look),Right:vec3.create(a.Default.Right),Up:vec3.create(a.Default.Up)};a.Matrix={Yaw:mat4.create(),Pitch:mat4.create(),Roll:mat4.create(),Rotation:mat4.create()};mat4.identity(a.Default.Rotation);a.Graphics.CalculateRotationMatrix=function(){vec3.set(this.Default.Up,this.Axis.Up);vec3.set(this.Default.Look,
this.Axis.Look);vec3.set(this.Default.Right,this.Axis.Right);mat4.identity(this.Matrix.Yaw);mat4.identity(this.Matrix.Pitch);mat4.identity(this.Matrix.Roll);mat4.rotate(this.Matrix.Yaw,degToRad(this.yaw),this.Axis.Up);mat4.multiplyVec3(this.Matrix.Yaw,this.Axis.Look);mat4.multiplyVec3(this.Matrix.Yaw,this.Axis.Right);mat4.rotate(this.Matrix.Pitch,degToRad(this.pitch),this.Axis.Right);mat4.multiplyVec3(this.Matrix.Pitch,this.Axis.Look);mat4.multiplyVec3(this.Matrix.Pitch,this.Axis.Up);mat4.rotate(this.Matrix.Roll,
degToRad(this.roll),this.Axis.Look);mat4.multiplyVec3(this.Matrix.Roll,this.Axis.Right);mat4.multiplyVec3(this.Matrix.Roll,this.Axis.Up);var b=vec3.create([a.Position[0],a.Position[1],a.Position[2]]);a.Matrix.Rotation[0]=this.Axis.Right[0];a.Matrix.Rotation[1]=this.Axis.Up[0];a.Matrix.Rotation[2]=this.Axis.Look[0];a.Matrix.Rotation[3]=0;a.Matrix.Rotation[4]=this.Axis.Right[1];a.Matrix.Rotation[5]=this.Axis.Up[1];a.Matrix.Rotation[6]=this.Axis.Look[1];a.Matrix.Rotation[7]=0;a.Matrix.Rotation[8]=this.Axis.Right[2];
a.Matrix.Rotation[9]=this.Axis.Up[2];a.Matrix.Rotation[10]=this.Axis.Look[2];a.Matrix.Rotation[11]=0;a.Matrix.Rotation[12]=-1*vec3.dot(b,this.Axis.Right);a.Matrix.Rotation[13]=-1*vec3.dot(b,this.Axis.Up);a.Matrix.Rotation[14]=-1*vec3.dot(b,this.Axis.Look);a.Matrix.Rotation[15]=1;return a.Matrix.Rotation}.bind(a);a.Move={Forward:function(a){this.Position[0]+=this.Axis.Look[0]*a;this.Position[1]+=this.Axis.Look[1]*a;this.Position[2]+=this.Axis.Look[2]*a}.bind(a),Backward:function(a){this.Position[0]-=
this.Axis.Look[0]*a;this.Position[1]-=this.Axis.Look[1]*a;this.Position[2]-=this.Axis.Look[2]*a}.bind(a),Left:function(a){this.Position[0]-=this.Axis.Right[0]*a;this.Position[1]-=this.Axis.Right[1]*a;this.Position[2]-=this.Axis.Right[2]*a}.bind(a),Right:function(a){this.Position[0]+=this.Axis.Right[0]*a;this.Position[1]+=this.Axis.Right[1]*a;this.Position[2]+=this.Axis.Right[2]*a}.bind(a),Up:function(a){this.Position[0]+=this.Axis.Up[0]*a;this.Position[1]+=this.Axis.Up[1]*a;this.Position[2]+=this.Axis.Up[2]*
a}.bind(a),Down:function(a){this.Position[0]-=this.Axis.Up[0]*a;this.Position[1]-=this.Axis.Up[1]*a;this.Position[2]-=this.Axis.Up[2]*a}.bind(a)};a.AttachCamera=function(c,e,f){vec3.set([c,e,f],a.CameraOffset);b.graphics.Managers.Camera.Position=a.Position;b.graphics.Managers.Camera.Offset=a.CameraOffset};a.CameraOffset=vec3.create();return a}},Camera:{Position:vec3.create([0,0,0]),Offset:vec3.create([0,0,0]),Attach:function(a){b.graphics.Managers.Camera.attachedEntity=a;vec3.set([0,0,0],b.graphics.Managers.Camera.Offset);
b.graphics.Managers.Camera.attached=a?!0:!1},attached:!1,attachedEntity:null,Rotation:{yaw:0,pitch:0,roll:0},LookAtPoint:{x:0,y:0,z:0},Axis:{Look:vec3.create([0,0,-1]),Right:vec3.create([1,0,0]),Up:vec3.create([0,1,0])},Matrix:{Yaw:mat4.create(),Pitch:mat4.create(),Roll:mat4.create(),Rotation:mat4.create(),RotationInverse:mat4.create(),Translate:mat4.create()},MoveForward:function(a){var c=[];vec3.scale(b.graphics.Managers.Camera.Axis.Look,-a,c);vec3.add(b.graphics.Managers.Camera.Position,c,b.graphics.Managers.Camera.Position)},
MoveBackward:function(a){var c=[];vec3.scale(b.graphics.Managers.Camera.Axis.Look,a,c);vec3.add(b.graphics.Managers.Camera.Position,c,b.graphics.Managers.Camera.Position)},MoveLeft:function(a){var c=[];vec3.scale(b.graphics.Managers.Camera.Axis.Right,-a,c);vec3.add(b.graphics.Managers.Camera.Position,c,b.graphics.Managers.Camera.Position)},MoveRight:function(a){var c=[];vec3.scale(b.graphics.Managers.Camera.Axis.Right,a,c);vec3.add(b.graphics.Managers.Camera.Position,c,b.graphics.Managers.Camera.Position)},
MoveUp:function(a){var c=[];vec3.scale(b.graphics.Managers.Camera.Axis.Up,a,c);vec3.add(b.graphics.Managers.Camera.Position,c,b.graphics.Managers.Camera.Position)},MoveDown:function(a){var c=[];vec3.scale(b.graphics.Managers.Camera.Axis.Up,-a,c);vec3.add(b.graphics.Managers.Camera.Position,c,b.graphics.Managers.Camera.Position)},Roll:function(a){},Pitch:function(a){},Yaw:function(a){},CalculateViewMatrix:function(){var a=b.graphics.Managers.Camera,c;a.attached?(c=vec3.create([a.attachedEntity.Position[0],
a.attachedEntity.Position[1],a.attachedEntity.Position[2]]),c[0]+=a.Axis.Look[0]*a.Offset[2],c[1]+=a.Axis.Look[1]*a.Offset[2],c[2]+=a.Axis.Look[2]*a.Offset[2],c[0]+=a.Axis.Right[0]*a.Offset[0],c[1]+=a.Axis.Right[1]*a.Offset[0],c[2]+=a.Axis.Right[2]*a.Offset[0],c[0]+=a.Axis.Up[0]*a.Offset[1],c[1]+=a.Axis.Up[1]*a.Offset[1],c[2]+=a.Axis.Up[2]*a.Offset[1]):c=vec3.create([a.Position[0],a.Position[1],a.Position[2]]);vec3.set([0,1,0],b.graphics.Managers.Camera.Axis.Up);vec3.set([0,0,-1],b.graphics.Managers.Camera.Axis.Look);
vec3.set([1,0,0],b.graphics.Managers.Camera.Axis.Right);mat4.identity(b.graphics.Managers.Camera.Matrix.Yaw);mat4.identity(b.graphics.Managers.Camera.Matrix.Pitch);mat4.identity(b.graphics.Managers.Camera.Matrix.Roll);mat4.identity(b.graphics.Managers.Camera.Matrix.Rotation);mat4.rotate(b.graphics.Managers.Camera.Matrix.Yaw,degToRad(b.graphics.Managers.Camera.Rotation.yaw),b.graphics.Managers.Camera.Axis.Up);mat4.multiplyVec3(b.graphics.Managers.Camera.Matrix.Yaw,b.graphics.Managers.Camera.Axis.Look);
mat4.multiplyVec3(b.graphics.Managers.Camera.Matrix.Yaw,b.graphics.Managers.Camera.Axis.Right);mat4.rotate(b.graphics.Managers.Camera.Matrix.Pitch,degToRad(b.graphics.Managers.Camera.Rotation.pitch),b.graphics.Managers.Camera.Axis.Right);mat4.multiplyVec3(b.graphics.Managers.Camera.Matrix.Pitch,b.graphics.Managers.Camera.Axis.Look);mat4.multiplyVec3(b.graphics.Managers.Camera.Matrix.Pitch,b.graphics.Managers.Camera.Axis.Up);mat4.rotate(b.graphics.Managers.Camera.Matrix.Roll,degToRad(b.graphics.Managers.Camera.Rotation.roll),
b.graphics.Managers.Camera.Axis.Look);mat4.multiplyVec3(b.graphics.Managers.Camera.Matrix.Roll,b.graphics.Managers.Camera.Axis.Right);mat4.multiplyVec3(b.graphics.Managers.Camera.Matrix.Roll,b.graphics.Managers.Camera.Axis.Up);vec3.normalize(b.graphics.Managers.Camera.Axis.Up);vec3.normalize(b.graphics.Managers.Camera.Axis.Look);vec3.normalize(b.graphics.Managers.Camera.Axis.Right);b.graphics.Matrix.View[0]=b.graphics.Managers.Camera.Axis.Right[0];b.graphics.Matrix.View[1]=b.graphics.Managers.Camera.Axis.Up[0];
b.graphics.Matrix.View[2]=b.graphics.Managers.Camera.Axis.Look[0];b.graphics.Matrix.View[3]=0;b.graphics.Matrix.View[4]=b.graphics.Managers.Camera.Axis.Right[1];b.graphics.Matrix.View[5]=b.graphics.Managers.Camera.Axis.Up[1];b.graphics.Matrix.View[6]=b.graphics.Managers.Camera.Axis.Look[1];b.graphics.Matrix.View[7]=0;b.graphics.Matrix.View[8]=b.graphics.Managers.Camera.Axis.Right[2];b.graphics.Matrix.View[9]=b.graphics.Managers.Camera.Axis.Up[2];b.graphics.Matrix.View[10]=b.graphics.Managers.Camera.Axis.Look[2];
b.graphics.Matrix.View[11]=0;b.graphics.Matrix.View[12]=-1*vec3.dot(c,b.graphics.Managers.Camera.Axis.Right);b.graphics.Matrix.View[13]=-1*vec3.dot(c,b.graphics.Managers.Camera.Axis.Up);b.graphics.Matrix.View[14]=-1*vec3.dot(c,b.graphics.Managers.Camera.Axis.Look);b.graphics.Matrix.View[15]=1;mat4.transpose(b.graphics.Matrix.View,b.graphics.Matrix.ViewInverse)},ResetAxis:function(){},GetViewMatrix:function(){}}},Matrix:{Projection:mat4.create(),View:mat4.create(),ViewInverse:mat4.create()},Time:{current:0,
previous:0,elapsed:0,dt:0},Get:{Canvas:function(){return c},Pause:function(){return e},Fullscreen:function(){return a},Width:function(){return c.width},Height:function(){return c.height}},Set:{Callback:{Update:function(a,b){f=a;g=b},Draw:function(a,b){m=a;l=b},Reset:function(a,b){n=a;r=b}},Fullscreen:function(a){},Viewport:function(a,b){}},Maps:{update:null,draw:null,name2id:null},Initialize:function(){b.graphics.Maps.update=b.resschmgr.Create.Map();b.graphics.Maps.draw=b.resschmgr.Create.Map();b.graphics.Maps.name2id=
b.resschmgr.Create.Map();b.graphics.Matrix.View=mat4.create();b.graphics.Matrix.Projection=mat4.create()},Load:function(d,e,f){f?c=f:(c=document.createElement("canvas"),document.body.appendChild(c));e?(a=!0,c.style.width="100%",c.style.height="100%",document.body.style.overflow="hidden"):a=!1;b.graphics.gl=d?WebGLDebugUtils.makeDebugContext(s(c,{preserveDrawingBuffer:!0,premultipliedAlpha:!1})):s(c);d=b.graphics.gl;b.graphics.Managers.Camera.Position[0]=0;b.graphics.Managers.Camera.Position[1]=0;
b.graphics.Managers.Camera.Position[2]=-500;b.graphics.Managers.Camera.Rotation.pitch=0;b.graphics.Managers.Camera.Rotation.yaw=0;b.graphics.Managers.Camera.Rotation.roll=0;b.graphics.Managers.Camera.CalculateViewMatrix();c.width=c.clientWidth;c.height=c.clientHeight;mat4.perspective(45,c.clientWidth/c.clientHeight,0.1,1E4,b.graphics.Matrix.Projection);d.viewport(0,0,c.clientWidth,c.clientHeight);window.onresize=b.graphics.OnReset;d.clearColor(0,0,0,1);d.enable(d.DEPTH_TEST);d.depthFunc(d.LESS);d.enable(d.BLEND);
d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);c&&(b.graphics.Managers.Shader.Create.VertexShader("default","scripts/jahova/OS/Cores/Graphics/shaders/default.vs"),b.graphics.Managers.Shader.Create.FragmentShader("default","scripts/jahova/OS/Cores/Graphics/shaders/default.fs"),d=b.graphics.Managers.Shader.Create.Program("default","default","default"),d.CreateAttribute("aVertexPosition"),d.CreateAttribute("aVertexNormal"),d.CreateAttribute("aTextureCoord"),d.CreateUniform("uPMatrix"),d.CreateUniform("uVMatrix"),
d.CreateUniform("uWMatrix"),d.CreateUniform("uNMatrix"),d.CreateUniform("uVIMatrix"),d.CreateUniform("uShowSpecularHighlights"),d.CreateUniform("uUseTextures"),d.CreateUniform("uUseLighting"),d.CreateUniform("uUseBlendColor"),d.CreateUniform("uUseInstacing"),d.CreateUniform("uInstancePosition"),d.CreateUniform("uInstanceColor"),d.CreateUniform("uAmbientColor"),d.CreateUniform("uBlendColor"),d.CreateUniform("uPointLightSpecularColor"),d.CreateUniform("uPointLightDiffuseColor"),d.CreateUniform("uPointLightLocation"),
d.CreateUniform("uMaterialShininess"),d.CreateUniform("uSampler"),d.CreateUniform("uUseFog"),d.CreateUniform("uCameraPosition"),d.CreateUniform("uFogColor"),d.CreateUniform("uFogEndPosition"),d.CreateUniform("uFogBeginPosition"));return c},Start:function(){e||(requestAnimFrame(b.graphics.Start),b.graphics.Update(),b.graphics.Draw())},Pause:function(){e?b.graphics.Resume():e=!0},Resume:function(){e&&(e=!1,b.graphics.Time.previous=b.graphics.Time.current,b.graphics.Time.current=(new Date).getTime(),
b.graphics.Time.elapsed+=b.graphics.Time.dt,b.graphics.Start())},Update:function(){b.graphics.Time.previous=b.graphics.Time.current;b.graphics.Time.current=(new Date).getTime();b.graphics.Time.dt=b.graphics.Time.current-b.graphics.Time.previous;b.graphics.Time.elapsed+=b.graphics.Time.dt;f&&(g?f.apply(g,b.graphics.Time.dt):f(b.graphics.Time.dt));for(var a=b.graphics.Maps.update.size;a--;b.graphics.Maps.update.next())b.graphics.Maps.update.value().Graphics.Update(b.graphics.Time.dt)},Draw:function(){var a=
b.graphics.gl;b.graphics.Managers.Mesh.totalPolys=0;b.graphics.Managers.Mesh.totalVerts=0;b.graphics.Managers.Camera.CalculateViewMatrix();a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);m&&(l?m.apply(l,b.graphics.Time.dt):m(b.graphics.Time.dt));for(a=b.graphics.Maps.draw.size;a--;b.graphics.Maps.draw.next())b.graphics.Maps.draw.value().Graphics.Draw()},AddToWorld:function(a){b.graphics.AddToDraw(a);b.graphics.AddToUpdate(a)},AddToDraw:function(a){b.graphics.Maps.draw.put(a.ID(),a)},AddToUpdate:function(a){b.graphics.Maps.update.put(a.ID(),
a)},RemoveFromWorld:function(a){b.graphics.RemoveFromDraw(a);b.graphics.RemoveFromUpdate(a)},RemoveFromDraw:function(a){b.graphics.Maps.draw.remove(a.ID())},RemoveFromUpdate:function(a){b.graphics.Maps.update.remove(a.ID())},OnReset:function(){c.width=c.clientWidth;c.height=c.clientHeight;n&&(r?n.apply(r,b.graphics.Time.dt):n(b.graphics.Time.dt));b.graphics.gl.viewport(0,0,c.clientWidth,c.clientHeight);mat4.perspective(45,c.clientWidth/c.clientHeight,0.1,1E4,b.graphics.Matrix.Projection)},GetName:function(){return"JaHOVA OS Internal API : Graphics Core"},
GetVersion:function(){return"0v5"},GetPath:function(){return"scripts/jahova/OS/Cores/Graphics/jahova.os.cores.graphics.js"},GetID:function(){return null}}}var g;return{Instance:function(){g||(g=m());return g}}}();